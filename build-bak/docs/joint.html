<!DOCTYPE html>
<html class="no-js">
<head>
    <meta http-equiv="x-ua-compatible" content="IE=Edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/prism.css">
    <link rel="stylesheet" type="text/css" href="css/api.css">
    <title>Joint API</title>
</head>
<body>

    <div class="docs-main">
        <nav class="docs-nav">
            <input class="docs-nav-search" type="text" placeholder="i.e. graph">
            <img class="docs-nav-search-clear" src="./images/clear.png" title="Clear Search">
                <ul class="docs-nav-items">
                    <li class="docs-nav-item">
                    </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#anchors">anchors</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.bottom">bottom</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.bottomLeft">bottomLeft</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.bottomRight">bottomRight</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.center">center</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.custom">custom</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.left">left</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.midSide">midSide</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.modelCenter">modelCenter</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.perpendicular">perpendicular</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.right">right</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.top">top</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.topLeft">topLeft</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#anchors.topRight">topRight</a>
                                    </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#connectionPoints">connectionPoints</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectionPoints.anchor">anchor</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectionPoints.bbox">bbox</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectionPoints.boundary">boundary</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectionPoints.custom">custom</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectionPoints.rectangle">rectangle</a>
                                    </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#connectionStrategies">connectionStrategies</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectionStrategies.custom">custom</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectionStrategies.pinAbsolute">pinAbsolute</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectionStrategies.pinRelative">pinRelative</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectionStrategies.useDefaults">useDefaults</a>
                                    </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#connectors">connectors</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectors.custom">custom</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectors.jumpover">jumpover</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectors.normal">normal</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectors.rounded">rounded</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#connectors.smooth">smooth</a>
                                    </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#dia">dia</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.attributes">attributes</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.atConnectionLengthIgnoreGradient">atConnectionLengthIgnoreGradient</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.atConnectionLengthKeepGradient">atConnectionLengthKeepGradient</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.atConnectionRatioIgnoreGradient">atConnectionRatioIgnoreGradient</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.atConnectionRatioKeepGradient">atConnectionRatioKeepGradient</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.connection">connection</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.event">event</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.fill">fill</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.filter">filter</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.magnet">magnet</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.port">port</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.ref">ref</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refCx">refCx</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refCy">refCy</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refDKeepOffset">refDKeepOffset</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refDResetOffset">refDResetOffset</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refDx">refDx</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refDy">refDy</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refHeight">refHeight</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refHeight2">refHeight2</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refPointsKeepOffset">refPointsKeepOffset</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refPointsResetOffset">refPointsResetOffset</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refRCircumscribed">refRCircumscribed</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refRInscribed">refRInscribed</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refRx">refRx</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refRy">refRy</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refWidth">refWidth</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refWidth2">refWidth2</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refX">refX</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refX2">refX2</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refY">refY</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.refY2">refY2</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.resetOffset">resetOffset</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.sourceMarker">sourceMarker</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.stroke">stroke</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.style">style</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.targetMarker">targetMarker</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.text">text</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.textPath">textPath</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.textVerticalAnchor">textVerticalAnchor</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.textWrap">textWrap</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.title">title</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.vertexMarker">vertexMarker</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.xAlignment">xAlignment</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.attributes.yAlignment">yAlignment</a>
                                                    </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.Cell">Cell</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Cell.define">define</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Cell.markup">markup</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Cell.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Cell.prototype.getParentCell">getParentCell</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Cell.prototype.isElement">isElement</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Cell.prototype.isLink">isLink</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Cell.prototype.parent">parent</a>
                                                                    </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.CellView">CellView</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.CellView.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.CellView.prototype.findAttribute">findAttribute</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.CellView.prototype.highlight">highlight</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.CellView.prototype.unhighlight">unhighlight</a>
                                                                    </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.Element">Element</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Element.events">events</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Element.ports">ports</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.addPort">addPort</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.addPorts">addPorts</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.addTo">addTo</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.angle">angle</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.attr">attr</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.clone">clone</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.embed">embed</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.findView">findView</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.fitEmbeds">fitEmbeds</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.getAncestors">getAncestors</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.getBBox">getBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.getEmbeddedCells">getEmbeddedCells</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.getPort">getPort</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.getPortIndex">getPortIndex</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.getPorts">getPorts</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.getPortsPositions">getPortsPositions</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.getTransitions">getTransitions</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.hasPort">hasPort</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.hasPorts">hasPorts</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.isElement">isElement</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.isEmbeddedIn">isEmbeddedIn</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.isLink">isLink</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.portProp">portProp</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.position">position</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.prop">prop</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.remove">remove</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.removeAttr">removeAttr</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.removePort">removePort</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.removePorts">removePorts</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.resize">resize</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.rotate">rotate</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.scale">scale</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.stopTransitions">stopTransitions</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.toBack">toBack</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.toFront">toFront</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.toJSON">toJSON</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.transition">transition</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.translate">translate</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Element.prototype.unembed">unembed</a>
                                                                    </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.ElementView">ElementView</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.ElementView.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ElementView.prototype.getBBox">getBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ElementView.prototype.getNodeBBox">getNodeBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ElementView.prototype.getNodeUnrotatedBBox">getNodeUnrotatedBBox</a>
                                                                    </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.Graph">Graph</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Graph.constructor">constructor</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Graph.events">events</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Graph.JSON">JSON</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.addCell">addCell</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.addCells">addCells</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.bfs">bfs</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.clear">clear</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.cloneCells">cloneCells</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.cloneSubgraph">cloneSubgraph</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.dfs">dfs</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.disconnectLinks">disconnectLinks</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.findModelsFromPoint">findModelsFromPoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.findModelsInArea">findModelsInArea</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.findModelsUnderElement">findModelsUnderElement</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.fromJSON">fromJSON</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getBBox">getBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getCell">getCell</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getCells">getCells</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getCellsBBox">getCellsBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getCommonAncestor">getCommonAncestor</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getConnectedLinks">getConnectedLinks</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getElements">getElements</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getFirstCell">getFirstCell</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getLastCell">getLastCell</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getLinks">getLinks</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getNeighbors">getNeighbors</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getPredecessors">getPredecessors</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getSinks">getSinks</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getSources">getSources</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getSubgraph">getSubgraph</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.getSuccessors">getSuccessors</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.isNeighbor">isNeighbor</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.isPredecessor">isPredecessor</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.isSink">isSink</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.isSource">isSource</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.isSuccessor">isSuccessor</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.maxZIndex">maxZIndex</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.minZIndex">minZIndex</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.removeCells">removeCells</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.removeLinks">removeLinks</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.resetCells">resetCells</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.search">search</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.toJSON">toJSON</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Graph.prototype.translate">translate</a>
                                                                    </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.Link">Link</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Link.events">events</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Link.labels">labels</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Link.presentation">presentation</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.addTo">addTo</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.appendLabel">appendLabel</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.attr">attr</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.clone">clone</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.connector">connector</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.disconnect">disconnect</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.findView">findView</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.getAncestors">getAncestors</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.getBBox">getBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.getPolyline">getPolyline</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.getSourceCell">getSourceCell</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.getSourceElement">getSourceElement</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.getSourcePoint">getSourcePoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.getTargetCell">getTargetCell</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.getTargetElement">getTargetElement</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.getTargetPoint">getTargetPoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.getTransitions">getTransitions</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.hasLoop">hasLoop</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.insertLabel">insertLabel</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.insertVertex">insertVertex</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.isElement">isElement</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.isEmbeddedIn">isEmbeddedIn</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.isLink">isLink</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.label">label</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.labels">labels</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.prop">prop</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.remove">remove</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.removeAttr">removeAttr</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.removeLabel">removeLabel</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.removeVertex">removeVertex</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.reparent">reparent</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.router">router</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.scale">scale</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.source">source</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.stopTransitions">stopTransitions</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.target">target</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.toBack">toBack</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.toFront">toFront</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.toJSON">toJSON</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.transition">transition</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.translate">translate</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.vertex">vertex</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Link.prototype.vertices">vertices</a>
                                                                    </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.LinkView">LinkView</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.addLabel">addLabel</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.addTools">addTools</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.addVertex">addVertex</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getBBox">getBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getClosestPoint">getClosestPoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getClosestPointLength">getClosestPointLength</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getClosestPointRatio">getClosestPointRatio</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getConnection">getConnection</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getConnectionLength">getConnectionLength</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getConnectionSubdivisions">getConnectionSubdivisions</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getLabelCoordinates">getLabelCoordinates</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getLabelPosition">getLabelPosition</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getNodeBBox">getNodeBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getNodeUnrotatedBBox">getNodeUnrotatedBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getPointAtLength">getPointAtLength</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getPointAtRatio">getPointAtRatio</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getSerializedConnection">getSerializedConnection</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getTangentAtLength">getTangentAtLength</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getTangentAtRatio">getTangentAtRatio</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.getVertexIndex">getVertexIndex</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.hasTools">hasTools</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.hideTools">hideTools</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.removeRedundantLinearVertices">removeRedundantLinearVertices</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.removeTools">removeTools</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.sendToken">sendToken</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.showTools">showTools</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.sourceAnchor">sourceAnchor</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.sourceBBox">sourceBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.sourcePoint">sourcePoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.targetAnchor">targetAnchor</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.targetBBox">targetBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.LinkView.prototype.targetPoint">targetPoint</a>
                                                                    </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.Paper">Paper</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Paper.constructor">constructor</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Paper.events">events</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.cancelRenderViews">cancelRenderViews</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.clearGrid">clearGrid</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.clientOffset">clientOffset</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.clientToLocalPoint">clientToLocalPoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.clientToLocalRect">clientToLocalRect</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.defineFilter">defineFilter</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.defineGradient">defineGradient</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.defineMarker">defineMarker</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.drawBackground">drawBackground</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.drawGrid">drawGrid</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.findView">findView</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.findViewByModel">findViewByModel</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.findViewsFromPoint">findViewsFromPoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.findViewsInArea">findViewsInArea</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.fitToContent">fitToContent</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.getComputedSize">getComputedSize</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.getContentArea">getContentArea</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.getContentBBox">getContentBBox</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.hideTools">hideTools</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.isDefined">isDefined</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.localToClientPoint">localToClientPoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.localToClientRect">localToClientRect</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.localToPagePoint">localToPagePoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.localToPageRect">localToPageRect</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.localToPaperPoint">localToPaperPoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.localToPaperRect">localToPaperRect</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.matrix">matrix</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.pageOffset">pageOffset</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.pageToLocalPoint">pageToLocalPoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.pageToLocalRect">pageToLocalRect</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.paperToLocalPoint">paperToLocalPoint</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.paperToLocalRect">paperToLocalRect</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.properties">properties</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.removeTools">removeTools</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.scale">scale</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.scaleContentToFit">scaleContentToFit</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.setDimensions">setDimensions</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.setGridSize">setGridSize</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.setInteractivity">setInteractivity</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.setOrigin">setOrigin</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.showTools">showTools</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.translate">translate</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options">options</a>
                                                                                <ul class="docs-nav-items">
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.allowLink">allowLink</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.async">async</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.background">background</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.cellViewNamespace">cellViewNamespace</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.clickThreshold">clickThreshold</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.connectionStrategy">connectionStrategy</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.defaultAnchor">defaultAnchor</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.defaultConnectionPoint">defaultConnectionPoint</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.defaultConnector">defaultConnector</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.defaultLink">defaultLink</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.defaultRouter">defaultRouter</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.drawGrid">drawGrid</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.el">el</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.elementView">elementView</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.embeddingMode">embeddingMode</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.findParentBy">findParentBy</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.gridSize">gridSize</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.guard">guard</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.height">height</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.highlighting">highlighting</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.interactive">interactive</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.linkConnectionPoint">linkConnectionPoint</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.linkPinning">linkPinning</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.linkView">linkView</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.magnetThreshold">magnetThreshold</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.markAvailable">markAvailable</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.model">model</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.moveThreshold">moveThreshold</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.multiLinks">multiLinks</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.origin">origin</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.perpendicularLinks">perpendicularLinks</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.preventContextMenu">preventContextMenu</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.preventDefaultBlankAction">preventDefaultBlankAction</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.restrictTranslate">restrictTranslate</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.snapLinks">snapLinks</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.validateConnection">validateConnection</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.validateEmbedding">validateEmbedding</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.validateMagnet">validateMagnet</a>
                                                                                    </li>
                                                                                    <li class="docs-nav-item">
                                                                                        <a class="docs-nav-item-link" href="#dia.Paper.prototype.options.width">width</a>
                                                                                    </li>
                                                                                </ul>        </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.ToolsView">ToolsView</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.ToolsView.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolsView.prototype.blurTool">blurTool</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolsView.prototype.focusTool">focusTool</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolsView.prototype.getName">getName</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolsView.prototype.hide">hide</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolsView.prototype.show">show</a>
                                                                    </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#dia.ToolView">ToolView</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#dia.ToolView.prototype">prototype</a>
                                                                <ul class="docs-nav-items">
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolView.prototype.blur">blur</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolView.prototype.focus">focus</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolView.prototype.getName">getName</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolView.prototype.hide">hide</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolView.prototype.isVisible">isVisible</a>
                                                                    </li>
                                                                    <li class="docs-nav-item">
                                                                        <a class="docs-nav-item-link" href="#dia.ToolView.prototype.show">show</a>
                                                                    </li>
                                                                </ul>        </li>
                                                </ul>        </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#env">env</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#env.addTest">addTest</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#env.test">test</a>
                                    </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#highlighters">highlighters</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#highlighters.addClass">addClass</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#highlighters.opacity">opacity</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#highlighters.stroke">stroke</a>
                                    </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#layout">layout</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#layout.DirectedGraph">DirectedGraph</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#layout.Port">Port</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#layout.PortLabel">PortLabel</a>
                                    </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#linkTools">linkTools</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkTools.Boundary">Boundary</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkTools.Button">Button</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkTools.Remove">Remove</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkTools.Segments">Segments</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkTools.SourceAnchor">SourceAnchor</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkTools.SourceArrowhead">SourceArrowhead</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkTools.TargetAnchor">TargetAnchor</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkTools.TargetArrowhead">TargetArrowhead</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#linkTools.Vertices">Vertices</a>
                                    </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#routers">routers</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#routers.custom">custom</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#routers.manhattan">manhattan</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#routers.metro">metro</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#routers.normal">normal</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#routers.oneSide">oneSide</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#routers.orthogonal">orthogonal</a>
                                    </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#shapes">shapes</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#shapes.devs">devs</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#shapes.standard">standard</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.BorderedImage">BorderedImage</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.Circle">Circle</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.Cylinder">Cylinder</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.DoubleLink">DoubleLink</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.Ellipse">Ellipse</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.EmbeddedImage">EmbeddedImage</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.HeaderedRectangle">HeaderedRectangle</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.Image">Image</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.InscribedImage">InscribedImage</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.Link">Link</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.Path">Path</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.Polygon">Polygon</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.Polyline">Polyline</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.Rectangle">Rectangle</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.ShadowLink">ShadowLink</a>
                                                    </li>
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#shapes.standard.TextBlock">TextBlock</a>
                                                    </li>
                                                </ul>        </li>
                                </ul>        </li>
                    <li class="docs-nav-item">
                        <a class="docs-nav-item-link" href="#util">util</a>
                                <ul class="docs-nav-items">
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.assign">assign</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.bindAll">bindAll</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.breakText">breakText</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.camelCase">camelCase</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.cancelFrame">cancelFrame</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.clone">clone</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.cloneDeep">cloneDeep</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.dataUriToBlob">dataUriToBlob</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.debounce">debounce</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.deepMixin">deepMixin</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.deepSupplement">deepSupplement</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.defaults">defaults</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.defaultsDeep">defaultsDeep</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.difference">difference</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.downloadBlob">downloadBlob</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.downloadDataUri">downloadDataUri</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.flattenDeep">flattenDeep</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.flattenObject">flattenObject</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.forIn">forIn</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.getByPath">getByPath</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.getElementBBox">getElementBBox</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.groupBy">groupBy</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.guid">guid</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.has">has</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.hashCode">hashCode</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.imageToDataUri">imageToDataUri</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.intersection">intersection</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.invoke">invoke</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.isBoolean">isBoolean</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.isEmpty">isEmpty</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.isEqual">isEqual</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.isFunction">isFunction</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.isNumber">isNumber</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.isObject">isObject</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.isPercentage">isPercentage</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.isPlainObject">isPlainObject</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.isString">isString</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.merge">merge</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.mixin">mixin</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.nextFrame">nextFrame</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.noop">noop</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.normalizeEvent">normalizeEvent</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.normalizeSides">normalizeSides</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.omit">omit</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.parseCssNumeric">parseCssNumeric</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.pick">pick</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.result">result</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.sanitizeHTML">sanitizeHTML</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.setAttributesBySelector">setAttributesBySelector</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.setByPath">setByPath</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.shapePerimeterConnectionPoint">shapePerimeterConnectionPoint</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.sortBy">sortBy</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.sortedIndex">sortedIndex</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.sortElements">sortElements</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.supplement">supplement</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.template">template</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.toArray">toArray</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.toggleFullScreen">toggleFullScreen</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.toKebabCase">toKebabCase</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.union">union</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.uniq">uniq</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.uniqueId">uniqueId</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.unsetByPath">unsetByPath</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.uuid">uuid</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.without">without</a>
                                    </li>
                                    <li class="docs-nav-item">
                                        <a class="docs-nav-item-link" href="#util.format">format</a>
                                                <ul class="docs-nav-items">
                                                    <li class="docs-nav-item">
                                                        <a class="docs-nav-item-link" href="#util.format.number">number</a>
                                                    </li>
                                                </ul>        </li>
                                </ul>        </li>
                </ul>        </nav>
        <section class="docs-content">
            <h1 class="docs-header">Joint API</h1>

            <div class="docs-items">
                
    <div id="intro" class="docs-item">
        <a href="#intro" class="docs-item-anchor">
            <h2 class="docs-item-header"></h2>
        </a>
        <div class="docs-item-content">
<p>This is the API reference to the open source JointJS core library. If you're looking for the Rappid diagramming toolkit documentation, you can find that <a href="/docs/rappid">here</a>.</p>

<p>JointJS library exports three global variables: <b><code class="highlighted">joint</code></b>, <b><code class="highlighted"><span class="token constant">V</span></code></b> and <b><code class="highlighted">g</code></b>.</p>

<p>The <code class="highlighted">joint</code> namespace contains all the objects that you will use to build your diagrams. 
Additionally, <code class="highlighted">joint<span class="token punctuation">.</span>version</code> property tells you which version of JointJS you're using.</p>

<p>The <a href="vectorizer.html">V</a> global is lightweight SVG library that we call <q>Vectorizer</q>. This tiny library makes manipulation with SVG documents much easier. JointJS uses this library internally. Normally, you don't have to get in touch with this library at all but for advanced uses, it can be handy.</p>

<p>The <a href="geometry.html">g</a> global is another lighweight library used internally by JointJS that provides many useful geometry operations. Again, you might not get in touch with this library but when you do have the need to perform geometric operations in your applications, you'll certainly find it helpful.</p>
        </div>
    </div>
    <div id="anchors" class="docs-item">
    <div id="anchors.intro" class="docs-item">
        <a href="#anchors.intro" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors</h3>
        </a>
        <div class="docs-item-content">
<p>A link anchor is a point on the paper that the link wants to reach as its endpoint. (In reality, the end element will probably be in the way - then, it will be the job of the <a href="#connectionPoints">connection point function</a> to determine the actual location of the route endpoint taking the respective end element into account.) Anchors are set via an <code class="highlighted">anchor</code> property provided within link end definitions (i.e. the objects provided to <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> and <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> functions).</p>

<p>There are many built-in anchor functions in JointJS:</p>

<ul>
    <li><code class="highlighted"><span class="token string">'center'</span></code> - <a href="#anchors.center">default anchor at center of view bbox</a></li>
    <li><code class="highlighted"><span class="token string">'modelCenter'</span></code> - <a href="#anchors.modelCenter">anchor at center of model bbox</a></li>
    <li><code class="highlighted"><span class="token string">'perpendicular'</span></code> - <a href="#anchors.perpendicular">anchor that ensures an orthogonal route to the other endpoint</a></li>
    <li><code class="highlighted"><span class="token string">'midSide'</span></code> - <a href="#anchors.midSide">anchor in the middle of the side of view bbox closest to the other endpoint</a></li>
    <li><code class="highlighted"><span class="token string">'bottom'</span></code> - <a href="#anchors.bottom">anchor in the middle of the bottom side of view bbox</a></li>
    <li><code class="highlighted"><span class="token string">'left'</span></code> - <a href="#anchors.left">anchor in the middle of the left side of view bbox</a></li>
    <li><code class="highlighted"><span class="token string">'right'</span></code> - <a href="#anchors.right">anchor in the middle of the right side of view bbox</a></li>
    <li><code class="highlighted"><span class="token string">'top'</span></code> - <a href="#anchors.top">anchor in the middle of the top side of view bbox</a></li>
    <li><code class="highlighted"><span class="token string">'bottomLeft'</span></code> - <a href="#anchors.bottomLeft">anchor at the bottom-left corner of view bbox</a></li>
    <li><code class="highlighted"><span class="token string">'bottomRight'</span></code> - <a href="#anchors.bottomRight">anchor at the bottom-right corner of view bbox</a></li>
    <li><code class="highlighted"><span class="token string">'topLeft'</span></code> - <a href="#anchors.topLeft">anchor at the top-left corner of view bbox</a></li>
    <li><code class="highlighted"><span class="token string">'topRight'</span></code> - <a href="#anchors.topRight">anchor at the top-right corner of view bbox</a></li>
</ul>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'midSide'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            padding<span class="token punctuation">:</span> <span class="token number">20</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The default anchor function is <code class="highlighted"><span class="token string">'center'</span></code>; this can be changed with the <code class="highlighted">defaultAnchor</code> <a href="#dia.Paper.prototype.options.defaultAnchor">paper option</a>. Example:</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>defaultAnchor <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'midSide'</span><span class="token punctuation">,</span>
    args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        padding<span class="token punctuation">:</span> <span class="token number">20</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>

<p>JointJS also contains mechanisms to define one's own <a href="#anchors.custom">custom anchor functions</a>.</p>

        </div>
    </div>
    <div id="anchors.bottom" class="docs-item">
        <a href="#anchors.bottom" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.bottom</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'bottom'</span></code> anchor function places the anchor of the link in the middle of the bottom side of the view bbox. It accepts three arguments, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the anchor bbox rotate with the end view? Default is <code class="highlighted"><span class="token boolean">false</span></code>, meaning that the unrotated bbox is used.</td>
    </tr>
    <tr>
        <th rowspan="2">dx</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dx</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
    	<!-- dx -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th rowspan="2">dy</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dy</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <!-- dy -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'bottom'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            dx<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            dy<span class="token punctuation">:</span> <span class="token string">'40%'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.bottomLeft" class="docs-item">
        <a href="#anchors.bottomLeft" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.bottomLeft</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'bottomLeft'</span></code> anchor function places the anchor of the link at the bottom-left corner of the view bbox. It accepts three arguments, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the anchor bbox rotate with the end view? Default is <code class="highlighted"><span class="token boolean">false</span></code>, meaning that the unrotated bbox is used.</td>
    </tr>
    <tr>
        <th rowspan="2">dx</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dx</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
    	<!-- dx -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th rowspan="2">dy</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dy</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <!-- dy -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'bottomLeft'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            dx<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            dy<span class="token punctuation">:</span> <span class="token string">'40%'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.bottomRight" class="docs-item">
        <a href="#anchors.bottomRight" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.bottomRight</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'bottomRight'</span></code> anchor function places the anchor of the link at the bottom-left corner of the view bbox. It accepts three arguments, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the anchor bbox rotate with the end view? Default is <code class="highlighted"><span class="token boolean">false</span></code>, meaning that the unrotated bbox is used.</td>
    </tr>
    <tr>
        <th rowspan="2">dx</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dx</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
    	<!-- dx -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th rowspan="2">dy</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dy</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <!-- dy -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'bottomRight'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            dx<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            dy<span class="token punctuation">:</span> <span class="token string">'40%'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.center" class="docs-item">
        <a href="#anchors.center" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.center</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'center'</span></code> anchor function is the default anchor function. It places the anchor of the link at center of the view bbox. It accepts three arguments, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the anchor bbox rotate with the end view? Default is <code class="highlighted"><span class="token boolean">false</span></code>, meaning that the unrotated bbox is used.</td>
    </tr>
    <tr>
        <th rowspan="2">dx</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dx</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
    	<!-- dx -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th rowspan="2">dy</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dy</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <!-- dy -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            dx<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            dy<span class="token punctuation">:</span> <span class="token string">'40%'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.custom" class="docs-item">
        <a href="#anchors.custom" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.custom</h3>
        </a>
        <div class="docs-item-content">
<p>New anchor functions can be defined in the <code class="highlighted">joint<span class="token punctuation">.</span>anchors</code> namespace (e.g. <code class="highlighted">joint<span class="token punctuation">.</span>anchors<span class="token punctuation">.</span>myAnchor</code>) or passed directly as a function to the <code class="highlighted">anchor</code> property of link source/target (or to the <code class="highlighted">defaultAnchor</code> <a href="#dia.Paper.prototype.options.defaultAnchor">option of a paper</a>).</p>

<p>In either case, the anchor function must return the anchor as a Point. The function is expected to have the form <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span>endView<span class="token punctuation">,</span> endMagnet<span class="token punctuation">,</span> anchorReference<span class="token punctuation">,</span> args<span class="token punctuation">)</span></code>:</p>

<table>
    <tr>
        <th>endView</th>
        <td><i>dia.ElementView</i></td>
        <td>The ElementView to which we are connecting. The Element model can be accessed as <code class="highlighted">endView<span class="token punctuation">.</span>model</code>; this may be useful for writing conditional logic based on element attributes.</td>
    </tr>
    <tr>
        <th>endMagnet</th>
        <td><i>SVGElement</i></td>
        <td>The SVGElement in our page that contains the magnet (element/subelement/port) to which we are connecting.</td>
    </tr>
    <tr>
        <th rowspan="2">anchorReference</th>
        <td><i>g.Point</i></td>
        <td>A reference to another component of the link path that may be necessary to find this anchor point. If we are calling this method for a source anchor, it is the first vertex, or if there are no vertices the target anchor. If we are calling this method for a target anchor, it is the last vertex, or if there are no vertices the source anchor...</td>
    </tr>
    <tr>
        <td><i>SVGElement</i></td>
        <td>...if the anchor in question does not exist (yet), it is that link end's magnet.</td>
    </tr>
    <tr>
        <th>args</th>
        <td><i>object</i></td>
        <td>An object with additional optional arguments passed to the anchor method by the user when it was called (the <code class="highlighted">args</code> property).</td>
    </tr>
</table>

        </div>
    </div>
    <div id="anchors.left" class="docs-item">
        <a href="#anchors.left" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.left</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'left'</span></code> anchor function places the anchor of the link in the middle of the left side of the view bbox. It accepts three arguments, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the anchor bbox rotate with the end view? Default is <code class="highlighted"><span class="token boolean">false</span></code>, meaning that the unrotated bbox is used.</td>
    </tr>
    <tr>
        <th rowspan="2">dx</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dx</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
    	<!-- dx -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th rowspan="2">dy</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dy</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <!-- dy -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            dx<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            dy<span class="token punctuation">:</span> <span class="token string">'40%'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.midSide" class="docs-item">
        <a href="#anchors.midSide" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.midSide</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'midSide'</span></code> anchor function places the anchor of the link in the middle of the side of view bbox closest to the other endpoint. It accepts two arguments, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the anchor bbox rotate with the end view? Default is <code class="highlighted"><span class="token boolean">false</span></code>, meaning that the unrotated bbox is used.</td>
    </tr>
    <tr>
        <th>padding</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">padding</code> away from view bbox. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'midSide'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            padding<span class="token punctuation">:</span> <span class="token number">20</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.modelCenter" class="docs-item">
        <a href="#anchors.modelCenter" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.modelCenter</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'modelCenter'</span></code> anchor function places the anchor of the link at center of the model bbox.</p>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'modelCenter'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.perpendicular" class="docs-item">
        <a href="#anchors.perpendicular" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.perpendicular</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'perpendicular'</span></code> anchor function tries to place the anchor of the link inside the view bbox so that the link is made orthogonal. The anchor is placed along two line segments inside the view bbox (between the centers of the top and bottom side and between the centers of the left and right sides). If it is not possible to place the anchor so that the link would be orthogonal, the anchor is placed at the <a href="#anchors.center">center</a> of the view bbox instead. The function accepts one argument, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>padding</th>
        <td><i>number</i></td>
        <td>Limit the area inside the view bbox available for placing the anchor by <code class="highlighted">padding</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'perpendicular'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            padding<span class="token punctuation">:</span> <span class="token number">10</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.right" class="docs-item">
        <a href="#anchors.right" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.right</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'right'</span></code> anchor function places the anchor of the link in the middle of the right side of the view bbox. It accepts three arguments, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the anchor bbox rotate with the end view? Default is <code class="highlighted"><span class="token boolean">false</span></code>, meaning that the unrotated bbox is used.</td>
    </tr>
    <tr>
        <th rowspan="2">dx</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dx</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
    	<!-- dx -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th rowspan="2">dy</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dy</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <!-- dy -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            dx<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            dy<span class="token punctuation">:</span> <span class="token string">'40%'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.top" class="docs-item">
        <a href="#anchors.top" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.top</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'top'</span></code> anchor function places the anchor of the link in the middle of the top side of the view bbox. It accepts three arguments, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the anchor bbox rotate with the end view? Default is <code class="highlighted"><span class="token boolean">false</span></code>, meaning that the unrotated bbox is used.</td>
    </tr>
    <tr>
        <th rowspan="2">dx</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dx</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
    	<!-- dx -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th rowspan="2">dy</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dy</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <!-- dy -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'top'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            dx<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            dy<span class="token punctuation">:</span> <span class="token string">'40%'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.topLeft" class="docs-item">
        <a href="#anchors.topLeft" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.topLeft</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'topLeft'</span></code> anchor function places the anchor of the link at the top-left corner of the view bbox. It accepts three arguments, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the anchor bbox rotate with the end view? Default is <code class="highlighted"><span class="token boolean">false</span></code>, meaning that the unrotated bbox is used.</td>
    </tr>
    <tr>
        <th rowspan="2">dx</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dx</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
    	<!-- dx -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th rowspan="2">dy</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dy</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <!-- dy -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'topLeft'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            dx<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            dy<span class="token punctuation">:</span> <span class="token string">'40%'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="anchors.topRight" class="docs-item">
        <a href="#anchors.topRight" class="docs-item-anchor">
            <h3 class="docs-item-header">anchors.topRight</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'topRight'</span></code> anchor function places the anchor of the link at the top-right corner of the view bbox. It accepts three arguments, which can be passed within the <code class="highlighted">anchor<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the anchor bbox rotate with the end view? Default is <code class="highlighted"><span class="token boolean">false</span></code>, meaning that the unrotated bbox is used.</td>
    </tr>
    <tr>
        <th rowspan="2">dx</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dx</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
    	<!-- dx -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th rowspan="2">dy</th>
        <td><i>number</i></td>
        <td>Offset the anchor by <code class="highlighted">dy</code>. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <!-- dy -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'topRight'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            dx<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            dy<span class="token punctuation">:</span> <span class="token string">'40%'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    </div>
    <div id="connectionPoints" class="docs-item">
    <div id="connectionPoints.intro" class="docs-item">
        <a href="#connectionPoints.intro" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionPoints</h3>
        </a>
        <div class="docs-item-content">
<p>A link connection point is an endpoint of the link route. This point is (usually) different from the <a href="#anchors">link anchor point</a>, as it takes into account the presence of the end element. Connection points are set via an <code class="highlighted">connectionPoint</code> property provided within link end definitions (i.e. the objects provided to <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> and <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> functions).</p>

<p>The built-in functions work by finding an intersection between the link path (the path from the link's source anchor, through its vertices, to its target anchor). However, the functions always only have access to a single path segment; the source connectionPoint is found by investigating the first segment (i.e. source anchor - first vertex, or source anchor - target anchor if there are no vertices), while the target connectionPoint is found by investigating the last segment (i.e. last vertex - target anchor, or source anchor - target anchor). This has consequences if the investigated path segment is entirely contained within the end element.</p>

<p>There are four built-in connection point functions in JointJS:</p>

<ul>
    <li><code class="highlighted"><span class="token string">'anchor'</span></code> - <a href="#connectionPoints.anchor">connection point at anchor</a></li>
    <li><code class="highlighted"><span class="token string">'bbox'</span></code> - <a href="#connectionPoints.bbox">default connection point at bbox boundary</a></li>
    <li><code class="highlighted"><span class="token string">'boundary'</span></code> - <a href="#connectionPoints.boundary">connection point at actual shape boundary</a></li>
    <li><code class="highlighted"><span class="token string">'rectangle'</span></code> - <a href="#connectionPoints.rectangle">connection point at unrotated bbox boundary</a></li>
</ul>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    connectionPoint<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'boundary'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            sticky<span class="token punctuation">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The default connection point is <code class="highlighted"><span class="token string">'bbox'</span></code>; this can be changed with the <code class="highlighted">defaultConnectionPoint</code> <a href="#dia.Paper.prototype.options.defaultConnectionPoint">paper option</a>. Example:</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>defaultConnectionPoint <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'boundary'</span><span class="token punctuation">,</span>
    args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        sticky<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>

<p>All four of the built-in connection point functions accept the following optional argument, in addition to their own arguments:</p>

<table>
    <tr>
        <th>offset</th>
        <td><i>number</i></td>
        <td>Offset the connection point from the anchor by the specified distance along the end link path segment. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    connectionPoint<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'bbox'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            offset<span class="token punctuation">:</span> <span class="token number">10</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>JointJS also contains mechanisms to define one's own <a href="#connectionPoints.custom">custom connection point functions</a>.</p>

        </div>
    </div>
    <div id="connectionPoints.anchor" class="docs-item">
        <a href="#connectionPoints.anchor" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionPoints.anchor</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'anchor'</span></code> connection point function is the simplest connection point function. It places the connection point at the link end's anchor point (determined either by the <code class="highlighted">anchor</code> <a href="#anchors">function</a> or by the <code class="highlighted">defaultAnchor</code> <a href="#dia.Paper.prototype.options.defaultAnchor">paper option</a>).

</p><p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    connectionPoint<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'anchor'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            offset<span class="token punctuation">:</span> <span class="token number">10</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectionPoints.bbox" class="docs-item">
        <a href="#connectionPoints.bbox" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionPoints.bbox</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'bbox'</span></code> connection point function is the default connection point function. It places the connection point at the intersection between the link path end segment and the end element bbox. It accepts one additional argument, which can be passed within the <code class="highlighted">connectionPoint<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>stroke</th>
        <td><i>boolean</i></td>
        <td>Should the stroke width be included when calculating the connection point? Default is <code class="highlighted"><span class="token boolean">false</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    connectionPoint<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'bbox'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            offset<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            stroke<span class="token punctuation">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectionPoints.boundary" class="docs-item">
        <a href="#connectionPoints.boundary" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionPoints.boundary</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'boundary'</span></code> connection point function places the connection point at the intersection between the link path end segment and the actual shape of the end element. (If JointJS is unable to determine the actual shape - e.g. for text - the element bbox is used instead, just as in the <code class="highlighted"><span class="token string">'bbox'</span></code> <a href="#connectionPoints.bbox">connection point function</a>.) It accepts six additional arguments, which can be passed within the <code class="highlighted">connectionPoint<span class="token punctuation">.</span>args</code> property:</p>

<table>
	<tr>
        <th>insideout</th>
        <td><i>boolean</i></td>
        <td>What happens if the link path never leaves the interior area of the end element (e.g. because the other end anchor lies within the first end element)? Should the path line be extended until an intersection with the boundary is found? Default is <code class="highlighted"><span class="token boolean">true</span></code>.</td>
    </tr>
    <tr>
        <th>extrapolate</th>
        <td><i>boolean</i></td>
        <td>What happens if the link path never enters the interior area of the end element (e.g. because the anchor lies outside the end element)? Should the path line be extended to try and find the boundary? Default is <code class="highlighted"><span class="token boolean">false</span></code>. Note that even if this option is <code class="highlighted"><span class="token boolean">true</span></code>, an intersection is still not guaranteed. This option takes precedence over <code class="highlighted">connectionPoint<span class="token punctuation">.</span>args<span class="token punctuation">.</span>sticky</code>.</td>
    </tr>
    <tr>
        <th>sticky</th>
        <td><i>boolean</i></td>
        <td>What happens if the link path never enters the interior area of the end element (e.g. because the anchor lies outside the end element)? Should the closest point on the end element boundary be used instead? Default is <code class="highlighted"><span class="token boolean">false</span></code>. Note that setting this option to <code class="highlighted"><span class="token boolean">true</span></code> guarantees that a connection point will be found on the shape boundary.</td>
    </tr>
    <tr>
        <th>precision</th>
        <td><i>number</i></td>
        <td>The precision of the path intersection algorithm. Uses a logarithmic scale; increasing the number by 1 reduces the maximum observed error by a factor of ten. Default is <code class="highlighted"><span class="token number">2</span></code>, corresponding to 1% error.</td>
    </tr>
    <tr>
        <th>selector</th>
        <td><i>string</i></td>
        <td>A selector to identify subelement/magnet of the end element at whose boundary we want the connection point to be found. Default is <code class="highlighted">undefined</code>, meaning that the first non-group descendant of the end element's node will be considered. (An example of another setting that may be useful is <code class="highlighted"><span class="token string">'root'</span></code>, which forces the usage of the root group bbox instead.)</td>
    </tr>
    <tr>
        <th>stroke</th>
        <td><i>boolean</i></td>
        <td>Should the stroke width be included when calculating the connection point? Default is <code class="highlighted"><span class="token boolean">false</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    connectionPoint<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'boundary'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            offset<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            insideout<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            extrapolate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            sticky<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            precision<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
            stroke<span class="token punctuation">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectionPoints.custom" class="docs-item">
        <a href="#connectionPoints.custom" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionPoints.custom</h3>
        </a>
        <div class="docs-item-content">
<p>New connection point function can be defined in the <code class="highlighted">joint<span class="token punctuation">.</span>connectionPoints</code> namespace (e.g. <code class="highlighted">joint<span class="token punctuation">.</span>connectionPoints<span class="token punctuation">.</span>myConnectionPoint</code>) or passed directly as a function to the <code class="highlighted">connectionPoint</code> property of link source/target (or to the <code class="highlighted">defaultConnectionPoint</code> <a href="#dia.Paper.prototype.options.defaultConnectionPoint">option of a paper</a>).</p>

<p>In either case, the connection point function must return the connection point as a Point. The function is expected to have the form <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span>endPathSegmentLine<span class="token punctuation">,</span> endView<span class="token punctuation">,</span> endMagnet<span class="token punctuation">,</span> args<span class="token punctuation">)</span></code>:</p>

<table>
    <tr>
        <th>endPathSegmentLine</th>
        <td><i>g.Line</i></td>
        <td>The link path segment at which we are finding the connection point. If we are calling this method for a source connection point, it is the first segment (source anchor - first vertex, or source anchor - target anchor). If we are calling this method for a target connection point, it is the last segment (last vertex - target anchor, or source anchor - target anchor).</td>
    </tr>
    <tr>
        <th>endView</th>
        <td><i>dia.ElementView</i></td>
        <td>The ElementView to which we are connecting. The Element model can be accessed as <code class="highlighted">endView<span class="token punctuation">.</span>model</code>; this may be useful for writing conditional logic based on element attributes.</td>
    </tr>
    <tr>
        <th>endMagnet</th>
        <td><i>SVGElement</i></td>
        <td>The SVGElement in our page that contains the magnet (element/subelement/port) to which we are connecting.</td>
    </tr>
    <tr>
        <th>args</th>
        <td><i>object</i></td>
        <td>An object with additional optional arguments passed to the connection point method by the user when it was called (the <code class="highlighted">args</code> property).</td>
    </tr>
</table>

        </div>
    </div>
    <div id="connectionPoints.rectangle" class="docs-item">
        <a href="#connectionPoints.rectangle" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionPoints.rectangle</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'rectangle'</span></code> connection point function places the connection point at the intersection between the link path end segment and the element's unrotated bbox. It accepts one additional argument, which can be passed within the <code class="highlighted">connectionPoint<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>stroke</th>
        <td><i>boolean</i></td>
        <td>Should the stroke width be included when calculating the connection point? Default is <code class="highlighted"><span class="token boolean">false</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    connectionPoint<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'rectangle'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            offset<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            stroke<span class="token punctuation">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    </div>
    <div id="connectionStrategies" class="docs-item">
    <div id="connectionStrategies.intro" class="docs-item">
        <a href="#connectionStrategies.intro" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionStrategies</h3>
        </a>
        <div class="docs-item-content">
<p>Connection strategies come into play when the user modifies the position of link endpoints. There are two situations in which this is relevant:</p>

<ul>
	<li>When the user drags a link endpoint and connects it to an element or its port. The connection strategy determines the end anchor after the user is finished dragging the link endpoint. (Note that any individual <code class="highlighted">anchor</code> property that might have been assigned on the dragged link endpoint will be overridden by the connection strategy. If necessary, have a look at the <a href="#connectionStrategies.custom">custom connectionStrategy documentation</a> for information on replicating the functionality of <a href="#anchors">anchor</a> functions.)</li>
	<li>When a user creates a link, for example by clicking a port. The connection strategy determines the new link's source anchor.</li>
</ul>

<p>Both the <code class="highlighted">anchor</code> and <code class="highlighted">connectionPoint</code> properties are rewritten in response to user interaction. None of the built-in connection strategies preserve the originally assigned anchor and connection point functions. To assign precisely what you need as the anchor and connection point functions, you may need to define your own <a href="#connectionStrategies.custom">custom connection strategy</a>.</p>

<p>Connection strategies are not assigned on a link-by-link basis. They are set with the <code class="highlighted">connectionStrategy</code> <a href="#dia.Paper.prototype.options.connectionStrategy">option on a paper</a>.</p>

<p>There are three built-in connection strategies in JointJS:</p>

<ul>
    <li><code class="highlighted">useDefaults</code> - <a href="#connectionStrategies.useDefaults">default strategy; ignore user pointer and use default anchor and connectionPoint functions</a></li>
    <li><code class="highlighted">pinAbsolute</code> - <a href="#connectionStrategies.pinAbsolute">use user pointer coordinates to position anchor absolutely within end element; use default connectionPoint</a></li>
    <li><code class="highlighted">pinRelative</code> - <a href="#connectionStrategies.pinRelative">use user pointer coordinates to position anchor relatively within end element; use default connectionPoint</a></li>
</ul>

<p>The default connection strategy is specified as <code class="highlighted"><span class="token keyword">null</span></code> in <a href="#dia.Paper.prototype.options.connectionStrategy">paper settings</a>, which is equivalent to <code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span>useDefaults</code>.</p>

<p></p>Built-in connection strategies are specified by reference to their their name in the <code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategies</code> namespace. Example:<p></p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>connectionStrategy <span class="token operator">=</span> joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span>pinAbsolute<span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectionStrategies.custom" class="docs-item">
        <a href="#connectionStrategies.custom" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionStrategies.custom</h3>
        </a>
        <div class="docs-item-content">
<p>New connection strategies can be defined in the <code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategies</code> namespace (e.g. <code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span>myConnectionStrategy</code>) or passed directly as a function to the <code class="highlighted">connectionStrategy</code> <a href="#dia.Paper.prototype.options.connectionStrategy">option of a paper</a>.</p>

<p>In either case, the connection strategy function must return an end definition (i.e. an object in the format supplied to the <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> and <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> functions). The function is expected to have the form <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span>endDefinition<span class="token punctuation">,</span> endView<span class="token punctuation">,</span> endMagnet<span class="token punctuation">,</span> coords<span class="token punctuation">)</span></code>:</p>

<table>
    <tr>
        <th>endDefinition</th>
        <td><i>object</i></td>
        <td>An end definition; the output of the appropriate end function (<code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> or <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>). An object containing at least an <code class="highlighted">id</code> of the Element to which we are connecting. This object is expected to be changed by this function and then sent as the return value.</td>
    </tr>
    <tr>
        <th>endView</th>
        <td><i>dia.ElementView</i></td>
        <td>The ElementView to which we are connecting. The Element model can be accessed as <code class="highlighted">endView<span class="token punctuation">.</span>model</code>; this may be useful for writing conditional logic based on element attributes.</td>
    </tr>
    <tr>
        <th>endMagnet</th>
        <td><i>SVGElement</i></td>
        <td>The SVGElement in our page that contains the magnet (element/subelement/port) to which we are connecting.</td>
    </tr>
    <tr>
        <th>coords</th>
        <td><i>g.Point</i></td>
        <td>A Point object recording the x-y coordinates of the user pointer when the connection strategy was invoked.</td>
    </tr>
</table>

<p>Custom connection strategies may be enormously useful for your users. Here we provide some examples of custom functionality.</p>

<h4 id="ancestors">Connecting to Ancestors</h4>

<p>If your diagram makes heavy use of nested elements, it may be useful to always connect links to a top-level ancestor element (instead of the element on which the arrowhead was actually dropped by user interaction):</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span><span class="token function-variable function">topAncestor</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>end<span class="token punctuation">,</span> endView<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">var</span> ancestors <span class="token operator">=</span> endView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">getAncestors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> numAncestors <span class="token operator">=</span> ancestors<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">var</span> end <span class="token operator">=</span> numAncestors <span class="token operator">?</span> ancestors<span class="token punctuation">[</span>numAncestors <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> end<span class="token punctuation">;</span>

    <span class="token keyword">return</span> end<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>connectionStrategy <span class="token operator">=</span> joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span>topAncestor<span class="token punctuation">;</span></code></pre>

<h4 id="ports">Connecting to Ports</h4>

<p>If your diagram uses ports, you usually do not want links to be able to connect anywhere else. The solution is similar to the one above:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span><span class="token function-variable function">firstPort</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>end<span class="token punctuation">,</span> endView<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">var</span> ports <span class="token operator">=</span> endView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">getPorts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> numPorts <span class="token operator">=</span> ports<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">var</span> end <span class="token operator">=</span> numPorts <span class="token operator">?</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> end<span class="token punctuation">.</span>id<span class="token punctuation">,</span> port<span class="token punctuation">:</span> ports<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>id <span class="token punctuation">}</span> <span class="token punctuation">:</span> end<span class="token punctuation">;</span>

    <span class="token keyword">return</span> end<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>connectionStrategy <span class="token operator">=</span> joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span>firstPort<span class="token punctuation">;</span></code></pre>

<h4 id="anchors">Replicating Built-in Anchor Functions</h4>

<p>Furthermore, it is very easy to replicate the built-in <a href="#anchors">anchor functions</a> for connection strategy scenarios - simply apply the anchor function to the received <code class="highlighted">end</code> parameter:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategy<span class="token punctuation">.</span><span class="token function-variable function">midSide</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>end<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    end<span class="token punctuation">.</span>anchor <span class="token operator">=</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'midSide'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            rotate<span class="token punctuation">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> end<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>connectionStrategy <span class="token operator">=</span> joint<span class="token punctuation">.</span>connectionStrategy<span class="token punctuation">.</span>midSide<span class="token punctuation">;</span></code></pre>

<h4 id="connectionPoints">Replicating Built-in Connection Point Functions</h4>

<p>What if we needed to replicate a built-in <a href="#connectionPoints">connection point function</a> instead? We use the same idea as in the previous example:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategy<span class="token punctuation">.</span><span class="token function-variable function">boundary</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>end<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    end<span class="token punctuation">.</span>connectionPoint <span class="token operator">=</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'boundary'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            offset<span class="token punctuation">:</span> <span class="token number">5</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> end<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>connectionStrategy <span class="token operator">=</span> joint<span class="token punctuation">.</span>connectionStrategy<span class="token punctuation">.</span>boundary<span class="token punctuation">;</span></code></pre>

<p>Of course, it is also possible to combine both of the examples and assign an <code class="highlighted">anchor</code> as well as <code class="highlighted">connectionPoint</code> to the <code class="highlighted">end</code> parameter of the modified link.</p>

        </div>
    </div>
    <div id="connectionStrategies.pinAbsolute" class="docs-item">
        <a href="#connectionStrategies.pinAbsolute" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionStrategies.pinAbsolute</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">pinAbsolute</code> connection strategy records the coordinates of user pointer and assigns the end anchor absolutely, by reference to the top-left corner of the view bbox of the element above which the endpoint was dropped. Absolute positioning ensures that if the element is subsequently resized, the anchor stays at the same absolute distance from the edges (e.g. staying 10 pixels away from the left side and 20 pixels away from the top side).</p>

<p>The end connection point is assigned according to <code class="highlighted">defaultConnectionPoint</code> <a href="#dia.Paper.prototype.options.defaultConnectionPoint">paper option</a>.</p>

<p>Example:</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>connectionStrategy <span class="token operator">=</span> joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span>pinAbsolute<span class="token punctuation">;</span></code></pre>

<p>The end (source or target) that is being modified gets the <code class="highlighted"><span class="token string">'topLeft'</span></code> anchor assigned by this connection strategy:</p>

<pre><code class="highlighted">end<span class="token punctuation">.</span>anchor <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'topLeft'</span><span class="token punctuation">,</span>
    args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    	rotate<span class="token punctuation">:</span> <span class="token boolean">true</span>
        dx<span class="token punctuation">:</span> <span class="token punctuation">(</span>coords<span class="token punctuation">.</span>x <span class="token operator">-</span> bbox<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span>
        dy<span class="token punctuation">:</span> <span class="token punctuation">(</span>coords<span class="token punctuation">.</span>y <span class="token operator">-</span> bbox<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectionStrategies.pinRelative" class="docs-item">
        <a href="#connectionStrategies.pinRelative" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionStrategies.pinRelative</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">pinRelative</code> connection strategy records the coordinates of user pointer and assigns the end anchor relatively, by reference to the top-left corner of the view bbox of the element above which the endpoint was dropped. Relative positioning ensures that if the element is subsequently resized, the anchor stays at the same relative distance from the edges (e.g. staying 25% of the way from the left side and 75% of the way from the top side).</p>

<p>The end connection point is assigned according to <code class="highlighted">defaultConnectionPoint</code> <a href="#dia.Paper.prototype.options.defaultConnectionPoint">paper option</a>.</p>

<p>Example:</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>connectionStrategy <span class="token operator">=</span> joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span>pinRelative<span class="token punctuation">;</span></code></pre>

<p>The end (source or target) that is being modified gets the <code class="highlighted"><span class="token string">'topLeft'</span></code> anchor assigned by this connection strategy:</p>

<pre><code class="highlighted">end<span class="token punctuation">.</span>anchor <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'topLeft'</span><span class="token punctuation">,</span>
    args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    	rotate<span class="token punctuation">:</span> <span class="token boolean">true</span>
        dx<span class="token punctuation">:</span> <span class="token function">percentageString</span><span class="token punctuation">(</span>coords<span class="token punctuation">.</span>x <span class="token operator">-</span> bbox<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span>
        dy<span class="token punctuation">:</span> <span class="token function">percentageString</span><span class="token punctuation">(</span>coords<span class="token punctuation">.</span>y <span class="token operator">-</span> bbox<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectionStrategies.useDefaults" class="docs-item">
        <a href="#connectionStrategies.useDefaults" class="docs-item-anchor">
            <h3 class="docs-item-header">connectionStrategies.useDefaults</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">useDefaults</code> connection strategy is the simplest connection strategy. It ignores the coordinates of user pointer and assigns the end anchor according to the <code class="highlighted">defaultAnchor</code> <a href="#dia.Paper.prototype.options.defaultAnchor">paper option</a> and the end connection point according to the <code class="highlighted">defaultConnectionPoint</code> <a href="#dia.Paper.prototype.options.defaultConnectionPoint">paper option</a>.</p>

<p>Thus, this connection strategy is equivalent to a connection strategy of <code class="highlighted"><span class="token keyword">null</span></code>.</p>

<p>Example:</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>connectionStrategy <span class="token operator">=</span> joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span>useDefaults<span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    </div>
    <div id="connectors" class="docs-item">
    <div id="connectors.intro" class="docs-item">
        <a href="#connectors.intro" class="docs-item-anchor">
            <h3 class="docs-item-header">connectors</h3>
        </a>
        <div class="docs-item-content">
<p>Connectors take an array of link route points and generate SVG path commands so that the link can be rendered. The <code class="highlighted">connector</code> property of a link can be accessed with the <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Link.prototype.connector">function</a>.</p>

<p>There are four built-in connectors in JointJS:</p>

<ul>
    <li><code class="highlighted"><span class="token string">'jumpover'</span></code> - <a href="#connectors.jumpover">connector with bridges over link intersections</a></li>
    <li><code class="highlighted"><span class="token string">'normal'</span></code> - <a href="#connectors.normal">default simple connector</a></li>
    <li><code class="highlighted"><span class="token string">'rounded'</span></code> - <a href="#connectors.rounded">connector with rounded edges</a></li>
    <li><code class="highlighted"><span class="token string">'smooth'</span></code> - <a href="#connectors.smooth">connector interpolated as a bezier curve</a></li>
</ul>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'rounded'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    radius<span class="token punctuation">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The default connector is <code class="highlighted"><span class="token string">'normal'</span></code>; this can be changed with the <code class="highlighted">defaultConnector</code> <a href="#dia.Paper.prototype.options.defaultConnector">paper option</a>. Example:</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>defaultConnector <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'rounded'</span><span class="token punctuation">,</span>
    args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        radius<span class="token punctuation">:</span> <span class="token number">20</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>

<p>All four of the built-in connectors accept the following optional argument, in addition to their own arguments:</p>

<table>
    <tr>
        <th>raw</th>
        <td><i>boolean</i></td>
        <td>Should the router return the connection path as a <code class="highlighted">g<span class="token punctuation">.</span>Path</code> rather than as a string? Default is <code class="highlighted"><span class="token boolean">false</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'normal'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    raw<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>JointJS also contains mechanisms to define one's own <a href="#connectors.custom">custom connectors</a>.</p>

<p>Note that the modular architecture of JointJS allows mixing-and-matching connectors with <a href="#routers">routers</a> as desired; for example, a link may be specified to use the <code class="highlighted"><span class="token string">'jumpover'</span></code> connector on top of the <code class="highlighted"><span class="token string">'manhattan'</span></code> router:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>rect2<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'manhattan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'jumpover'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectors.custom" class="docs-item">
        <a href="#connectors.custom" class="docs-item-anchor">
            <h3 class="docs-item-header">connectors.custom</h3>
        </a>
        <div class="docs-item-content">
<p>New connectors can be defined in the <code class="highlighted">joint<span class="token punctuation">.</span>connectors</code> namespace (e.g. <code class="highlighted">joint<span class="token punctuation">.</span>connectors<span class="token punctuation">.</span>myConnector</code>) or passed directly as a function to the <code class="highlighted">connector</code> property of a link (or to the <code class="highlighted">defaultConnector</code> <a href="#dia.Paper.prototype.options.defaultConnector">paper option</a>).</p>

<p>In either case, the connector function must return a <a href="geometry.html#g.Path">g.Path</a> representing the <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d">SVG path data</a> that will be used to render the link. The function is expected to have the form <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span>sourcePoint<span class="token punctuation">,</span> targetPoint<span class="token punctuation">,</span> routePoints<span class="token punctuation">,</span> args<span class="token punctuation">)</span></code>:</p>

<table>
    <tr>
        <th>sourcePoint</th>
        <td><i>g.Point</i></td>
        <td>The source connection point.</td>
    </tr>
    <tr>
        <th>targetPoint</th>
        <td><i>g.Point</i></td>
        <td>The target connection point.</td>
    </tr>
    <tr>
        <th>routePoints</th>
        <td><i>Array&lt;g.Point&gt;</i></td>
        <td>The points of the route, as returned by the router in use.</td>
    </tr>
    <tr>
        <th>args</th>
        <td><i>object</i></td>
        <td>An object with additional optional arguments passed to the connector method by the user when it was called (the <code class="highlighted">args</code> property).</td>
    </tr>
</table>

<p>Example of a connector defined in the <code class="highlighted">joint<span class="token punctuation">.</span>connectors</code> namespace:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>connectors<span class="token punctuation">.</span><span class="token function-variable function">wobble</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>sourcePoint<span class="token punctuation">,</span> targetPoint<span class="token punctuation">,</span> vertices<span class="token punctuation">,</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">var</span> <span class="token constant">SPREAD</span> <span class="token operator">=</span> args<span class="token punctuation">.</span>spread <span class="token operator">||</span> <span class="token number">20</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> points <span class="token operator">=</span> vertices<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>targetPoint<span class="token punctuation">)</span>
    <span class="token keyword">var</span> prev <span class="token operator">=</span> sourcePoint<span class="token punctuation">;</span>
    <span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">g<span class="token punctuation">.</span>Path</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>Path<span class="token punctuation">.</span><span class="token function">createSegment</span><span class="token punctuation">(</span><span class="token string">'M'</span><span class="token punctuation">,</span> prev<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> n <span class="token operator">=</span> points<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">var</span> next <span class="token operator">=</span> points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> distance <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">distance</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token constant">SPREAD</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>d <span class="token operator">&lt;</span> distance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> current <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>next<span class="token punctuation">,</span> <span class="token operator">-</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
            current<span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span>
                Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">7</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">,</span>
                Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">7</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">3</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
            path<span class="token punctuation">.</span><span class="token function">appendSegment</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>Path<span class="token punctuation">.</span><span class="token function">createSegment</span><span class="token punctuation">(</span><span class="token string">'L'</span><span class="token punctuation">,</span> current<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            d <span class="token operator">+=</span> <span class="token constant">SPREAD</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        path<span class="token punctuation">.</span><span class="token function">appendSegment</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>Path<span class="token punctuation">.</span><span class="token function">createSegment</span><span class="token punctuation">(</span><span class="token string">'L'</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        prev <span class="token operator">=</span> next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> path<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>

link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'wobble'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    spread<span class="token punctuation">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>An example of a connector passed as a function is provided below. Notice that this approach does not enable passing custom <code class="highlighted">args</code> nor can it be serialized with the <code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Graph.prototype.toJSON">function</a>.</p>

<pre><code class="highlighted"><span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>

link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>sourcePoint<span class="token punctuation">,</span> targetPoint<span class="token punctuation">,</span> vertices<span class="token punctuation">,</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">var</span> <span class="token constant">SPREAD</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> points <span class="token operator">=</span> vertices<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>targetPoint<span class="token punctuation">)</span>
    <span class="token keyword">var</span> prev <span class="token operator">=</span> sourcePoint<span class="token punctuation">;</span>
    <span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">g<span class="token punctuation">.</span>Path</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>Path<span class="token punctuation">.</span><span class="token function">createSegment</span><span class="token punctuation">(</span><span class="token string">'M'</span><span class="token punctuation">,</span> prev<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> n <span class="token operator">=</span> points<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">var</span> next <span class="token operator">=</span> points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> distance <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">distance</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token constant">SPREAD</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>d <span class="token operator">&lt;</span> distance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> current <span class="token operator">=</span> prev<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>next<span class="token punctuation">,</span> <span class="token operator">-</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
            current<span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span>
                Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">7</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">,</span>
                Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">7</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">3</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
            path<span class="token punctuation">.</span><span class="token function">appendSegment</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>Path<span class="token punctuation">.</span><span class="token function">createSegment</span><span class="token punctuation">(</span><span class="token string">'L'</span><span class="token punctuation">,</span> current<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            d <span class="token operator">+=</span> <span class="token constant">SPREAD</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        path<span class="token punctuation">.</span><span class="token function">appendSegment</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>Path<span class="token punctuation">.</span><span class="token function">createSegment</span><span class="token punctuation">(</span><span class="token string">'L'</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        prev <span class="token operator">=</span> next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> path<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectors.jumpover" class="docs-item">
        <a href="#connectors.jumpover" class="docs-item-anchor">
            <h3 class="docs-item-header">connectors.jumpover</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'jumpover'</span></code> connector draws straight lines with small arcs in place of link-link intersections. (For the time being, it cannot detect intersections with <code class="highlighted"><span class="token string">'smooth'</span></code> router links). It accepts the following additional arguments, which can be passed as the <code class="highlighted">connector<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>size</th>
        <td><i>number</i></td>
        <td>The size of the jump (the diameter of the arc, or the length of the empty spot on the line). Defaults to <code class="highlighted"><span class="token number">5</span></code>.</td>
    </tr>
    <tr>
        <th>jump</th>
        <td><i>string</i></td>
        <td>The style of the jump. Either <code class="highlighted"><span class="token string">'arc'</span></code> (using an Arcto SVG path command), <code class="highlighted"><span class="token string">'cubic'</span></code> (using a Curveto path command as a normalized approximation to Arcto), or <code class="highlighted"><span class="token string">'gap'</span></code> (leaving a blank space). Defaults to <code class="highlighted"><span class="token string">'arc'</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'jumpover'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token string">'gap'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectors.normal" class="docs-item">
        <a href="#connectors.normal" class="docs-item-anchor">
            <h3 class="docs-item-header">connectors.normal</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'normal'</span></code> connector is the default connector for links and it is the simplest connector. It simply connects provided route points with straight-line segments.</p>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'normal'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectors.rounded" class="docs-item">
        <a href="#connectors.rounded" class="docs-item-anchor">
            <h3 class="docs-item-header">connectors.rounded</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'rounded'</span></code> connector connects provided route points with straight lines while smoothing all corners on the route. It accepts one additional argument, which can be passed within the <code class="highlighted">connector<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>radius</th>
        <td><i>boolean</i></td>
        <td>The curve radius of the rounded corners. Default is <code class="highlighted"><span class="token number">10</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'rounded'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    radius<span class="token punctuation">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="connectors.smooth" class="docs-item">
        <a href="#connectors.smooth" class="docs-item-anchor">
            <h3 class="docs-item-header">connectors.smooth</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'smooth'</span></code> connector interpolates route points using a cubic bezier curve.</p>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'smooth'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>(<i>Deprecated</i>) For the purposes of backwards compatibility, the <code class="highlighted"><span class="token string">'smooth'</span></code> connector may also be enabled by setting the <code class="highlighted">link<span class="token punctuation">.</span>smooth</code> property to <code class="highlighted"><span class="token boolean">true</span></code>.</p>

<pre><code class="highlighted"><span class="token comment">// deprecated</span>
link<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'smooth'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span></code></pre>

        </div>
    </div>
    </div>
    <div id="dia" class="docs-item">
    <div id="dia.attributes" class="docs-item">
    <div id="dia.attributes.intro" class="docs-item">
        <a href="#dia.attributes.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes</h4>
        </a>
        <div class="docs-item-content">
<p>The attributes in JointJS define how the graphics elements are to be rendered inside of the element and link views.
All the standard SVG <a href="https://www.w3.org/TR/SVG/styling.html" target="_blank">styling properties</a> are available (both <code class="highlighted">kebab<span class="token operator">-</span><span class="token keyword">case</span></code> and <code class="highlighted">camelCase</code> styles).
In addition JointJS defines new so-called "special" attributes and allows programmers to define their own. Here is the list of all built-in attributes.</p>

        </div>
    </div>
    <div id="dia.attributes.atConnectionLengthIgnoreGradient" class="docs-item">
        <a href="#dia.attributes.atConnectionLengthIgnoreGradient" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.atConnectionLengthIgnoreGradient</h4>
        </a>
        <div class="docs-item-content">
<p>Move the subelement to the point at a given distance along the connection path but do not auto-orient it according to the path's gradient. Use a positive number to define the distance from the source of the link and a negative number from the target of the link. It is valid only within the LinkView context.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'rectSelector'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> atConnectionLengthIgnoreGradient<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> fill<span class="token punctuation">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.atConnectionLengthKeepGradient" class="docs-item">
        <a href="#dia.attributes.atConnectionLengthKeepGradient" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.atConnectionLengthKeepGradient</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>atConnectionLength</b></p>
<p>Move and auto-orient the subelement to the point at a given distance along the connection path. Use a positive number to define the distance from the source of the link and a negative number from the target of the link. It is valid only within the LinkView context.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'rectSelector'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> atConnectionLength<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> fill<span class="token punctuation">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'rectSelector'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> atConnectionLengthKeepGradient<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> fill<span class="token punctuation">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.atConnectionRatioIgnoreGradient" class="docs-item">
        <a href="#dia.attributes.atConnectionRatioIgnoreGradient" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.atConnectionRatioIgnoreGradient</h4>
        </a>
        <div class="docs-item-content">
<p>Move the subelement to the point at a given ratio of the connection total length but do not auto-orient it according to the path's gradient. It accepts a number in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span></code> range. It is valid only within the LinkView context.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'rectSelector'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> atConnectionRatioKeepGradient<span class="token punctuation">:</span> <span class="token number">.5</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> fill<span class="token punctuation">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.atConnectionRatioKeepGradient" class="docs-item">
        <a href="#dia.attributes.atConnectionRatioKeepGradient" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.atConnectionRatioKeepGradient</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>atConnectionRatio</b></p>
<p>Move and auto-orient the subelement to the point at a given ratio of the connection total length. It accepts a number in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span></code> range. It is valid only within the LinkView context.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'rectSelector'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> atConnectionRatio<span class="token punctuation">:</span> <span class="token number">.5</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> fill<span class="token punctuation">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'rectSelector'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> atConnectionRatioKeepGradient<span class="token punctuation">:</span> <span class="token number">.5</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> fill<span class="token punctuation">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.connection" class="docs-item">
        <a href="#dia.attributes.connection" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.connection</h4>
        </a>
        <div class="docs-item-content">
<p>
Set the <code class="highlighted"><span class="token string">'d'</span></code> attribute based on the current link connection (the result of the link`s connector). It's valid only for <code class="highlighted">SVGPathElement</code> within the LinkView context.
</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'pathSelector'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> connection<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> stroke<span class="token punctuation">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span> fill<span class="token punctuation">:</span> <span class="token string">'none'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.event" class="docs-item">
        <a href="#dia.attributes.event" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.event</h4>
        </a>
        <div class="docs-item-content">
<p>
The <code class="highlighted">event</code> attribute makes the selected node and its descendants trigger an arbitrary event when clicked (mousedown/touchstart).
This event is triggered on the view itself and the paper.
The paper handler is called with the signature <code class="highlighted">cellView</code>, <code class="highlighted">evt</code>, <code class="highlighted">x</code>, <code class="highlighted">y</code>,
while the cell view handler is called only with <code class="highlighted">evt</code>, <code class="highlighted">x</code>, <code class="highlighted">y</code>.
</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  image<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// pointerdown on the image SVG node will trigger the `element:delete` event</span>
    event<span class="token punctuation">:</span> <span class="token string">'element:delete'</span><span class="token punctuation">,</span>
    xlinkHref<span class="token punctuation">:</span> <span class="token string">'trash.png'</span>
    width<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    height<span class="token punctuation">:</span> <span class="token number">20</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Binding handler to the event</span>
paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'element:delete'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>elementView<span class="token punctuation">,</span> evt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Stop any further actions with the element view e.g. dragging</span>
  evt<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'Are you sure you want to delete this element?'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      elementView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.fill" class="docs-item">
        <a href="#dia.attributes.fill" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.fill</h4>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">fill</code> attribute becomes a special attribute only in case it's defined as an object, instead of the usual SVG syntax (e.g. <code class="highlighted"><span class="token string">"#ffaabb"</span></code>).
    If it's defined as an object, it is assumed to be a gradient definition and must have the form defined by the <a href="#dia.Paper.prototype.defineGradient">defineGradient()</a> paper method.</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'rect/fill'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token string">'linearGradient'</span><span class="token punctuation">,</span>
    stops<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> offset<span class="token punctuation">:</span> <span class="token string">'0%'</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">'#E67E22'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> offset<span class="token punctuation">:</span> <span class="token string">'20%'</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">'#D35400'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> offset<span class="token punctuation">:</span> <span class="token string">'40%'</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">'#E74C3C'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> offset<span class="token punctuation">:</span> <span class="token string">'60%'</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">'#C0392B'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> offset<span class="token punctuation">:</span> <span class="token string">'80%'</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">'#F39C12'</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.filter" class="docs-item">
        <a href="#dia.attributes.filter" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.filter</h4>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">filter</code> attribute becomes a special attribute only in case it's defined as an object, instead of the usual SVG syntax (e.g. <code class="highlighted"><span class="token string">"url(#myfilter)"</span></code>).
    If it's defined as an object, it must have the form defined by by the <a href="#dia.Paper.prototype.defineFilter">filterGradient()</a> paper method.</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'rect/filter'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'dropShadow'</span><span class="token punctuation">,</span>
    args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        dx<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        dy<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        blur<span class="token punctuation">:</span> <span class="token number">3</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>


        </div>
    </div>
    <div id="dia.attributes.magnet" class="docs-item">
        <a href="#dia.attributes.magnet" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.magnet</h4>
        </a>
        <div class="docs-item-content">

        <p>When set to <code class="highlighted"><span class="token boolean">true</span></code>, the subelement can become a source/target of a link during link reconnection. Useful for
        so called 'ports'.</p>
        </div>
    </div>
    <div id="dia.attributes.port" class="docs-item">
        <a href="#dia.attributes.port" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.port</h4>
        </a>
        <div class="docs-item-content">

        <p>An object containing at least an <code class="highlighted">id</code> property. This property uniquely identifies the port.
            If a link gets connected to a <a href="#dia.attributes.magnet">magnet</a> that has also a <code class="highlighted">port</code>
            object defined, the <code class="highlighted">id</code> property of the port object will be copied to the <code class="highlighted">port</code> property
            of the source/target of the link.</p>

        </div>
    </div>
    <div id="dia.attributes.ref" class="docs-item">
        <a href="#dia.attributes.ref" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.ref</h4>
        </a>
        <div class="docs-item-content">

        <p>CSS selector pointing to an element that is used as a reference for relative positioning attributes.</p>
        </div>
    </div>
    <div id="dia.attributes.refCx" class="docs-item">
        <a href="#dia.attributes.refCx" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refCx</h4>
        </a>
        <div class="docs-item-content">
<p>Set <code class="highlighted">cx</code> attribute of the subelement relatively to the width of the element referenced to by the selector in <code class="highlighted">ref</code> attribute.
    If the value is in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span></code> interval (or expressed in percentages, e.g. <code class="highlighted"><span class="token string">'80%'</span></code>), the <code class="highlighted">cx</code> of the subelement will be set as a percentage
    of the width of the referenced element. If the value is <code class="highlighted"><span class="token operator">&lt;</span><span class="token number">0</span></code> or <code class="highlighted"><span class="token operator">></span><span class="token number">1</span></code>, the height
    of the subelement will be smaller/bigger than the width of the referenced element by the amount specified.
    Note that this makes sense only for SVG elements that support <code class="highlighted">rx</code> and <code class="highlighted">ry</code> attributes, such
    as <code class="highlighted"><span class="token operator">&lt;</span>ellipse<span class="token operator">></span></code>.
</p>

        </div>
    </div>
    <div id="dia.attributes.refCy" class="docs-item">
        <a href="#dia.attributes.refCy" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refCy</h4>
        </a>
        <div class="docs-item-content">
<p>Set <code class="highlighted">cy</code> attribute of the subelement relatively to the height of the element referenced to by the selector in <code class="highlighted">ref</code> attribute.
    If the value is in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span></code> interval (or expressed in percentages, e.g. <code class="highlighted"><span class="token string">'80%'</span></code>), the <code class="highlighted">cy</code> of the subelement will be set as a percentage
    of the height of the referenced element. If the value is <code class="highlighted"><span class="token operator">&lt;</span><span class="token number">0</span></code> or <code class="highlighted"><span class="token operator">></span><span class="token number">1</span></code>, the height
    of the subelement will be smaller/bigger than the height of the referenced element by the amount specified.
    Note that this makes sense only for SVG elements that support <code class="highlighted">rx</code> and <code class="highlighted">ry</code> attributes, such
    as <code class="highlighted"><span class="token operator">&lt;</span>ellipse<span class="token operator">></span></code>.
</p>

        </div>
    </div>
    <div id="dia.attributes.refDKeepOffset" class="docs-item">
        <a href="#dia.attributes.refDKeepOffset" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refDKeepOffset</h4>
        </a>
        <div class="docs-item-content">
<p>Set <code class="highlighted">d</code> attribute of the <code class="highlighted"><span class="token operator">&lt;</span>path<span class="token operator">></span></code> subelement relatively to the dimensions and position of the element referenced by the selector in the <code class="highlighted">ref</code> attribute. The <code class="highlighted">refD</code> path data is scaled so that the path's dimensions match the reference element's dimensions, and translated so that the path's origin matches the origin of the reference element.</p>
<p>The original path data offset is preserved. This means that if the top-left corner of the <code class="highlighted">refD</code> bounding box does not lie at <code class="highlighted"><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span></code>, the gap between the path and origin is preserved in the rendered shape, as well.</p>

<pre><code class="highlighted"><span class="token keyword">var</span> Path <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'examples.Path'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        path<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            refDKeepOffset<span class="token punctuation">:</span> <span class="token string">'M 10 10 30 10 30 30 z'</span><span class="token punctuation">,</span> <span class="token comment">// path offset is 10,10</span>
            fill<span class="token punctuation">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span>
            stroke<span class="token punctuation">:</span> <span class="token string">'black'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    markup<span class="token punctuation">:</span> <span class="token string">'path'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// the rendered path's `d` attribute will be 'M 10 10 50 10 50 50 z'</span>
<span class="token comment">// can be obtained by `p.findView(paper).vel.findOne('path').attr('d');`</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.refDResetOffset" class="docs-item">
        <a href="#dia.attributes.refDResetOffset" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refDResetOffset</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>refD</b></p>
<p>Set <code class="highlighted">d</code> attribute of the <code class="highlighted"><span class="token operator">&lt;</span>path<span class="token operator">></span></code> subelement relatively to the dimensions and position of the element referenced by the selector in the <code class="highlighted">ref</code> attribute. The <code class="highlighted">refD</code> path data is scaled so that the path's dimensions match the reference element's dimensions, and translated so that the path's origin matches the origin of the reference element.</p>
<p>The original path data offset is not preserved. This means that if the top-left corner of the <code class="highlighted">refD</code> bounding box does not lie at <code class="highlighted"><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span></code>, the path is translated so that this gap disappears. The rendered path then fits perfectly into the reference element's bounding box.</p>

<pre><code class="highlighted"><span class="token keyword">var</span> Path <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'examples.Path'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        path<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            refDResetOffset<span class="token punctuation">:</span> <span class="token string">'M 10 10 30 10 30 30 z'</span><span class="token punctuation">,</span> <span class="token comment">// path offset of 10,10 will be discarded</span>
            fill<span class="token punctuation">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span>
            stroke<span class="token punctuation">:</span> <span class="token string">'black'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    markup<span class="token punctuation">:</span> <span class="token string">'path'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// the rendered path's `d` attribute will be 'M 0 0 40 0 40 40 z'</span>
<span class="token comment">// can be obtained by `p.findView(paper).vel.findOne('path').attr('d');`</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.refDx" class="docs-item">
        <a href="#dia.attributes.refDx" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refDx</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>ref-dx</b></p>
<p>Make x-coordinate of the subelement relative to the right edge of the element referenced to by the selector in <code class="highlighted">ref</code> attribute.</p>

        </div>
    </div>
    <div id="dia.attributes.refDy" class="docs-item">
        <a href="#dia.attributes.refDy" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refDy</h4>
        </a>
        <div class="docs-item-content">

        <p>Make y-coordinate of the subelement relative to the bottom edge of the element referenced to by the selector in <code class="highlighted">ref</code> attribute.</p>
        </div>
    </div>
    <div id="dia.attributes.refHeight" class="docs-item">
        <a href="#dia.attributes.refHeight" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refHeight</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>ref-height</b></p>
<p>Set height of the subelement relatively to the height of the element referenced to by the selector in <code class="highlighted">ref</code> attribute.
    If the value is in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span></code> interval (or expressed in percentages, e.g. <code class="highlighted"><span class="token string">'80%'</span></code>), the height of the subelement will be set as a percentage
    of the height of the referenced element. If the value is <code class="highlighted"><span class="token operator">&lt;</span><span class="token number">0</span></code> or <code class="highlighted"><span class="token operator">></span><span class="token number">1</span></code>, the height
    of the subelement will be smaller/bigger than the height of the referenced element by the amount specified.
    Note that this makes sense only for SVG elements that support <code class="highlighted">width</code> and <code class="highlighted">height</code> attributes, such
    as <code class="highlighted"><span class="token operator">&lt;</span>rect<span class="token operator">></span></code>.
</p>

        </div>
    </div>
    <div id="dia.attributes.refHeight2" class="docs-item">
        <a href="#dia.attributes.refHeight2" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refHeight2</h4>
        </a>
        <div class="docs-item-content">
<p>Same as <code class="highlighted">refHeight</code>. Useful when one needs to resize an element absolutely and relatively at the same time. Note that all percentages are relative to 100% of the referenced height.</p>

<pre><code class="highlighted"><span class="token punctuation">{</span> refHeight<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> refHeight2<span class="token punctuation">:</span> <span class="token string">'-75%'</span> <span class="token punctuation">}</span> <span class="token comment">// resizes the element to 25% of the reference height (25% = 100% - 75%) plus extra 20 pixels</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.refPointsKeepOffset" class="docs-item">
        <a href="#dia.attributes.refPointsKeepOffset" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refPointsKeepOffset</h4>
        </a>
        <div class="docs-item-content">
<p>Set the <code class="highlighted">points</code> attribute of the <code class="highlighted"><span class="token operator">&lt;</span>polygon<span class="token operator">></span></code> or <code class="highlighted"><span class="token operator">&lt;</span>polyline<span class="token operator">></span></code> subelement relatively to the dimensions and position of the element referenced by the selector in the <code class="highlighted">ref</code> attribute. The <code class="highlighted">refPoints</code> are scaled so that the subelement's dimensions match the reference element's dimensions, and translated so that the their origin matches the origin of the reference element.</p>
<p>The original points offset is preserved. This means that if the top-left corner of the <code class="highlighted">refPoints</code> bounding box does not lie at <code class="highlighted"><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span></code>, the gap between the points and origin is preserved in the rendered shape, as well.</p>

<pre><code class="highlighted"><span class="token keyword">var</span> Polygon <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'examples.Polygon'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        polygon<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            refPoints<span class="token punctuation">:</span> <span class="token string">'10,10 30,10 30,30'</span><span class="token punctuation">,</span> <span class="token comment">// points offset is 10,10</span>
            fill<span class="token punctuation">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span>
            stroke<span class="token punctuation">:</span> <span class="token string">'black'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    markup<span class="token punctuation">:</span> <span class="token string">'polygon'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Polygon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// the rendered polygon's `points` attribute will be '10,10 50,10 50,50'</span>
<span class="token comment">// can be obtained by `p.findView(paper).vel.findOne('polygon').attr('points');`</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.refPointsResetOffset" class="docs-item">
        <a href="#dia.attributes.refPointsResetOffset" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refPointsResetOffset</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>refPoints</b></p>
<p>Set the <code class="highlighted">points</code> attribute of the <code class="highlighted"><span class="token operator">&lt;</span>polygon<span class="token operator">></span></code> or <code class="highlighted"><span class="token operator">&lt;</span>polyline<span class="token operator">></span></code> subelement relatively to the dimensions and position of the element referenced by the selector in the <code class="highlighted">ref</code> attribute. The <code class="highlighted">refPoints</code> are scaled so that the subelement's dimensions match the reference element's dimensions, and translated so that the their origin matches the origin of the reference element.</p>
<p>The original points offset is not preserved. This means that if the top-left corner of the <code class="highlighted">refPoints</code> bounding box does not lie at <code class="highlighted"><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span></code>, the subelement is translated so that this gap disappears. The rendered subelement then fits perfectly into the reference element's bounding box.</p>

<pre><code class="highlighted"><span class="token keyword">var</span> Polygon <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'examples.Polygon'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        polygon<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            refPoints<span class="token punctuation">:</span> <span class="token string">'10,10 30,10 30,30'</span><span class="token punctuation">,</span> <span class="token comment">// points offset of 10,10 will be discarded</span>
            fill<span class="token punctuation">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span>
            stroke<span class="token punctuation">:</span> <span class="token string">'black'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    markup<span class="token punctuation">:</span> <span class="token string">'polygon'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Polygon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// the rendered polygon's `points` attribute will be '0,0 40,0 40,40'</span>
<span class="token comment">// can be obtained by `p.findView(paper).vel.findOne('polygon').attr('d');`</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.refRCircumscribed" class="docs-item">
        <a href="#dia.attributes.refRCircumscribed" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refRCircumscribed</h4>
        </a>
        <div class="docs-item-content">
<p>Set the <code class="highlighted">r</code> attribute of the subelement relatively to the circumscribed size (length of the diagonal of the bounding box) of the element referenced by the selector in the <code class="highlighted">ref</code> attribute. If the value is in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span></code> interval (or expressed in percentages, e.g. <code class="highlighted"><span class="token string">'80%'</span></code>), the <code class="highlighted">r</code> of the subelement will be set as a percentage of the size of the referenced element. If the value is <code class="highlighted"><span class="token operator">&lt;</span><span class="token number">0</span></code> or <code class="highlighted"><span class="token operator">></span><span class="token number">1</span></code>, the size of the subelement will be smaller/bigger than the size of the referenced element by the amount specified. Note that this makes sense only for SVG elements that support <code class="highlighted">r</code> attribute, such as <code class="highlighted"><span class="token operator">&lt;</span>circle<span class="token operator">></span></code>.
</p>

        </div>
    </div>
    <div id="dia.attributes.refRInscribed" class="docs-item">
        <a href="#dia.attributes.refRInscribed" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refRInscribed</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>refR</b></p>
<p>Set the <code class="highlighted">r</code> attribute of the subelement relatively to the inscribed size (width or height of the bounding box, whichever is smaller) of the element referenced by the selector in the <code class="highlighted">ref</code> attribute. If the value is in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span></code> interval (or expressed in percentages, e.g. <code class="highlighted"><span class="token string">'80%'</span></code>), the <code class="highlighted">r</code> of the subelement will be set as a percentage of the size of the referenced element. If the value is <code class="highlighted"><span class="token operator">&lt;</span><span class="token number">0</span></code> or <code class="highlighted"><span class="token operator">></span><span class="token number">1</span></code>, the size of the subelement will be smaller/bigger than the size of the referenced element by the amount specified. Note that this makes sense only for SVG elements that support <code class="highlighted">r</code> attribute, such as <code class="highlighted"><span class="token operator">&lt;</span>circle<span class="token operator">></span></code>.
</p>

        </div>
    </div>
    <div id="dia.attributes.refRx" class="docs-item">
        <a href="#dia.attributes.refRx" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refRx</h4>
        </a>
        <div class="docs-item-content">
<p>Set <code class="highlighted">rx</code> attribute of the subelement relatively to the width of the element referenced to by the selector in <code class="highlighted">ref</code> attribute.
    If the value is in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span></code> interval (or expressed in percentages, e.g. <code class="highlighted"><span class="token string">'80%'</span></code>), the <code class="highlighted">rx</code> of the subelement will be set as a percentage
    of the width of the referenced element. If the value is <code class="highlighted"><span class="token operator">&lt;</span><span class="token number">0</span></code> or <code class="highlighted"><span class="token operator">></span><span class="token number">1</span></code>, the height
    of the subelement will be smaller/bigger than the width of the referenced element by the amount specified.
    Note that this makes sense only for SVG elements that support <code class="highlighted">rx</code> and <code class="highlighted">ry</code> attributes, such
    as <code class="highlighted"><span class="token operator">&lt;</span>ellipse<span class="token operator">></span></code>.
</p>

        </div>
    </div>
    <div id="dia.attributes.refRy" class="docs-item">
        <a href="#dia.attributes.refRy" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refRy</h4>
        </a>
        <div class="docs-item-content">
<p>Set <code class="highlighted">ry</code> attribute of the subelement relatively to the height of the element referenced to by the selector in <code class="highlighted">ref</code> attribute.
    If the value is in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span></code> interval (or expressed in percentages, e.g. <code class="highlighted"><span class="token string">'80%'</span></code>), the <code class="highlighted">ry</code> of the subelement will be set as a percentage
    of the height of the referenced element. If the value is <code class="highlighted"><span class="token operator">&lt;</span><span class="token number">0</span></code> or <code class="highlighted"><span class="token operator">></span><span class="token number">1</span></code>, the height
    of the subelement will be smaller/bigger than the height of the referenced element by the amount specified.
    Note that this makes sense only for SVG elements that support <code class="highlighted">rx</code> and <code class="highlighted">ry</code> attributes, such
    as <code class="highlighted"><span class="token operator">&lt;</span>ellipse<span class="token operator">></span></code>.
</p>

        </div>
    </div>
    <div id="dia.attributes.refWidth" class="docs-item">
        <a href="#dia.attributes.refWidth" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refWidth</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>ref-width</b></p>
<p>Set width of the subelement relatively to the width of the element referenced to by the selector in <code class="highlighted">ref</code> attribute.
    If the value is in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span></code> interval (or expressed in percentages, e.g. <code class="highlighted"><span class="token string">'80%'</span></code>), the width of the subelement will be set as a percentage
    of the width of the referenced element. If the value is <code class="highlighted"><span class="token operator">&lt;</span><span class="token number">0</span></code> or <code class="highlighted"><span class="token operator">></span><span class="token number">1</span></code>, the width
    of the subelement will be smaller/bigger than the width of the referenced element by the amount specified.
    For example, <code class="highlighted"><span class="token string">'ref-width'</span><span class="token punctuation">:</span> <span class="token number">.75</span></code> sets the width of the subelement to <code class="highlighted"><span class="token number">75</span><span class="token operator">%</span></code> of the width of the referenced element.
    <code class="highlighted"><span class="token string">'ref-width'</span><span class="token punctuation">:</span> <span class="token number">20</span></code> makes the width to be <code class="highlighted"><span class="token number">20</span>px</code> less than the width of the referenced element.
    Note that this makes sense only for SVG elements that support <code class="highlighted">width</code> and <code class="highlighted">height</code> attributes, such
    as <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span><span class="token punctuation">></span></span></code>.
</p>

        </div>
    </div>
    <div id="dia.attributes.refWidth2" class="docs-item">
        <a href="#dia.attributes.refWidth2" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refWidth2</h4>
        </a>
        <div class="docs-item-content">
<p>Same as <code class="highlighted">refWidth</code>. Useful when one needs to resize an element absolutely and relatively at the same time. Note that all percentages are relative to 100% of the referenced width.</p>

<pre><code class="highlighted"><span class="token punctuation">{</span> refWidth<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> refWidth2<span class="token punctuation">:</span> <span class="token string">'-75%'</span> <span class="token punctuation">}</span> <span class="token comment">// resizes the element to 25% of the reference width (25% = 100% - 75%) plus extra 20 pixels</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.refX" class="docs-item">
        <a href="#dia.attributes.refX" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refX</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>ref-x</b></p>
<p>Make x-coordinate of the subelement relative to the x-coordinate of the element referenced to by the selector in <code class="highlighted">ref</code> attribute.
    If <code class="highlighted">ref<span class="token operator">-</span>x</code> is in the <code class="highlighted"><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span></code> interval (or expressed in percentages, e.g. <code class="highlighted"><span class="token string">'80%'</span></code>), the offset is
    calculated from the fraction of the bounding box of the referenced element. Otherwise, it is an absolute value in pixels.
</p>

        </div>
    </div>
    <div id="dia.attributes.refX2" class="docs-item">
        <a href="#dia.attributes.refX2" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refX2</h4>
        </a>
        <div class="docs-item-content">
<p>Same as <code class="highlighted">refX</code>. Useful when one needs to position an element absolutely and relatively at the same time.</p>

<pre><code class="highlighted"><span class="token punctuation">{</span> refX<span class="token punctuation">:</span> <span class="token string">'50%'</span><span class="token punctuation">,</span> refX2<span class="token punctuation">:</span> <span class="token number">20</span> <span class="token punctuation">}</span> <span class="token comment">// moves the element by 50% of the referenced width plus extra 20 pixels.</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.refY" class="docs-item">
        <a href="#dia.attributes.refY" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refY</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>ref-y</b></p>
<p>Make y-coordinate of the subelement relative to the y-coordinate of the element referenced to by the selector in <code class="highlighted">ref</code> attribute.
    If <code class="highlighted">ref<span class="token operator">-</span>y</code> is in the <code class="highlighted"><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span></code> interval (or expressed in percentages, e.g. <code class="highlighted"><span class="token string">'80%'</span></code>), the offset is
    calculated from the fraction of the bounding box of the referenced element. Otherwise, it is an absolute value in pixels.
</p>

        </div>
    </div>
    <div id="dia.attributes.refY2" class="docs-item">
        <a href="#dia.attributes.refY2" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.refY2</h4>
        </a>
        <div class="docs-item-content">
<p>Same as <code class="highlighted">refY</code>. Useful when one needs to position an element absolutely and relatively at the same time.</p>

<pre><code class="highlighted"><span class="token punctuation">{</span> refY<span class="token punctuation">:</span> <span class="token string">'50%'</span><span class="token punctuation">,</span> refY2<span class="token punctuation">:</span> <span class="token number">20</span> <span class="token punctuation">}</span> <span class="token comment">// moves the element by 50% of the referenced height plus extra 20 pixels.</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.resetOffset" class="docs-item">
        <a href="#dia.attributes.resetOffset" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.resetOffset</h4>
        </a>
        <div class="docs-item-content">
<p>If set to <code class="highlighted"><span class="token boolean">true</span></code>, the subelement offset (the distance from x0 y0 to the most top-left point) will be reset to x0 y0.</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  path<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// The path bbox for `d="M 10 10 20 20"` is x10 y10 w10 h10.</span>
    d<span class="token punctuation">:</span> <span class="token string">'M 10 10 20 20'</span><span class="token punctuation">,</span>
    <span class="token comment">// The path bbox will be changed to x0 y0 w10 h10.</span>
    <span class="token comment">// This has same effect as passing path with `d="M 0 0 10 10"`</span>
    resetOffset<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="dia.attributes.sourceMarker" class="docs-item">
        <a href="#dia.attributes.sourceMarker" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.sourceMarker</h4>
        </a>
        <div class="docs-item-content">
<p>Valid for <code class="highlighted"><span class="token operator">&lt;</span>path<span class="token operator">></span></code> subelements. It draws an SVG element at the beginning of a path. The element is automatically rotated based on the path direction.
    It's defined as an object with <code class="highlighted">type</code> property and any other visual attributes. The valid values for <code class="highlighted">type</code> are <code class="highlighted"><span class="token string">'path'</span></code>, <code class="highlighted"><span class="token string">'circle'</span></code>, <code class="highlighted"><span class="token string">'ellipse'</span></code>, <code class="highlighted"><span class="token string">'rect'</span></code>, <code class="highlighted"><span class="token string">'polyline'</span></code> and <code class="highlighted"><span class="token string">'polygon'</span></code>.

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'.connection/sourceMarker'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  type<span class="token punctuation">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span> <span class="token comment">// SVG Circle</span>
  fill<span class="token punctuation">:</span> <span class="token string">'#666'</span><span class="token punctuation">,</span>
  stroke<span class="token punctuation">:</span> <span class="token string">'#333'</span><span class="token punctuation">,</span>
  r<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">// radius of the circle</span>
  cx<span class="token punctuation">:</span> <span class="token number">5</span> <span class="token comment">// move the centre of the circle 5 pixels from the end of the path</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </p></div>
    </div>
    <div id="dia.attributes.stroke" class="docs-item">
        <a href="#dia.attributes.stroke" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.stroke</h4>
        </a>
        <div class="docs-item-content">

        <p>The <code class="highlighted">stroke</code> attribute becomes a special attribute only in case it's defined as an object. This has the exact same
            behaviour as the <a href="#dia.attributes.fill">fill</a> attribute.
        </p>

        </div>
    </div>
    <div id="dia.attributes.style" class="docs-item">
        <a href="#dia.attributes.style" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.style</h4>
        </a>
        <div class="docs-item-content">

        <p>An object containing CSS styles for a subelement.</p>
        </div>
    </div>
    <div id="dia.attributes.targetMarker" class="docs-item">
        <a href="#dia.attributes.targetMarker" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.targetMarker</h4>
        </a>
        <div class="docs-item-content">
<p>Valid for <code class="highlighted"><span class="token operator">&lt;</span>path<span class="token operator">></span></code> subelements. The same as <a href="#dia.attributes.sourceMarker">sourceMarker</a> but draws an SVG element at the end of the path.
Note the coordinate system for drawing is rotated by 180 degrees for convenience (this allows to use the same marker for source and target and have them both face the connected elements).</p>

        </div>
    </div>
    <div id="dia.attributes.text" class="docs-item">
        <a href="#dia.attributes.text" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.text</h4>
        </a>
        <div class="docs-item-content">
<p>Valid only for <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">></span></span></code> subelements.</p>

<p>The <code class="highlighted">text</code> attribute contains the text that should be set on the subelement. If the provided string does not contain any newline characters (<code class="highlighted"><span class="token string">'\n'</span></code>), the text is set directly as the content of the <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">></span></span></code> subelement. Alternatively, if the provided string has multiple lines, each line becomes the content of a <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tspan</span><span class="token punctuation">></span></span></code> child of the <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">></span></span></code> subelement.</p>

<p>If you need the text to be automatically wrapped inside the <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">></span></span></code> subelement, you should use the <code class="highlighted">textWrap</code> <a href="#dia.attributes.textWrap">attribute</a> instead. It can automatically add line breaks into the provided string as necessary, and mark them with newline characters.</p>

        </div>
    </div>
    <div id="dia.attributes.textPath" class="docs-item">
        <a href="#dia.attributes.textPath" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.textPath</h4>
        </a>
        <div class="docs-item-content">
<p>
    Valid only for <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">></span></span></code> subelements.
    <code class="highlighted">textPath</code> can be either a string or an object.
</p>
<p>
    If it is a string, it specifies a path the text will be rendered along.
</p>
<p>
    If it is an object, then it can contain a <code class="highlighted">d</code> property that specifies the path the text will be rendered along.
    Alternatively use <code class="highlighted">selector</code> property, which is useful for targeting a specific SVGPathElement within the shape. The option expects a string selector (CSS or JSONMarkup selector).
    Use <code class="highlighted">startOffset</code> property to control the text position on the path (e.g. <code class="highlighted"><span class="token string">'50%'</span></code>, <code class="highlighted"><span class="token number">20</span></code>). See the <code class="highlighted">Vectorizer<span class="token punctuation">.</span>text</code> <a href="vectorizer.html#V.prototype.text">method</a> for more details.
</p>

        </div>
    </div>
    <div id="dia.attributes.textVerticalAnchor" class="docs-item">
        <a href="#dia.attributes.textVerticalAnchor" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.textVerticalAnchor</h4>
        </a>
        <div class="docs-item-content">
<p>Valid only for <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">/></span></span></code> subelements. The attribute is used to (top-, middle- or bottom-) align a text, relative to a point determined by reference to provided <code class="highlighted">x</code>, <code class="highlighted">y</code>, <code class="highlighted">refX</code>, <code class="highlighted">refY</code>, and similar attributes. See the <code class="highlighted">Vectorizer<span class="token punctuation">.</span>text</code> <a href="vectorizer.html#V.prototype.text">method</a> for more details.</p>

        </div>
    </div>
    <div id="dia.attributes.textWrap" class="docs-item">
        <a href="#dia.attributes.textWrap" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.textWrap</h4>
        </a>
        <div class="docs-item-content">
<p>Valid only for <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">></span></span></code> subelements.</p>

<p>Similar to the <code class="highlighted">text</code> <a href="#dia.attributes.text">attribute</a>, except the provided string is automatically wrapped to fit within the reference bounding box.</p>

<p>Expects an object with a <code class="highlighted">text</code> property and optional <code class="highlighted">width</code> and <code class="highlighted">height</code>, which can adjust the final size of the wrapped text. Negative values decrease the dimension (e.g. to add padding around the wrapped text); positive values increase the dimension. Percentage values are accepted as well.</p>

<p>If the text cannot fit into the bounding box as specified, the overflowing words are cut off. If the <code class="highlighted">ellipsis</code> option is provided, an ellipsis string is inserted before the cutoff. If no words can fit into the bounding box at all, no text is inserted. See <a href="#util.breakText">util.breakText</a> for more info.</p>

<pre><code class="highlighted">textWrap<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  text<span class="token punctuation">:</span> <span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span>
  width<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// reference width minus 10</span>
  height<span class="token punctuation">:</span> <span class="token string">'50%'</span><span class="token punctuation">,</span> <span class="token comment">// half of the reference height</span>
  ellipsis<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token comment">// could also be a custom string, e.g. '...!?'</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.title" class="docs-item">
        <a href="#dia.attributes.title" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.title</h4>
        </a>
        <div class="docs-item-content">
<p>
    Add the text-only description in form of a <code class="highlighted"> <span class="token operator">&lt;</span>title<span class="token operator">></span></code> element to the associated node. The title is not rendered as part of the graphics, but it's displayed as a tooltip.
</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'rect/title'</span><span class="token punctuation">,</span> <span class="token string">'Description of the rectangle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.attributes.vertexMarker" class="docs-item">
        <a href="#dia.attributes.vertexMarker" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.vertexMarker</h4>
        </a>
        <div class="docs-item-content">
<p>Valid for <code class="highlighted"><span class="token operator">&lt;</span>path<span class="token operator">></span></code> subelements. The same as <a href="#dia.attributes.sourceMarker">sourceMarker</a> but draws SVG elements at every vertex of the path.</p>

        </div>
    </div>
    <div id="dia.attributes.xAlignment" class="docs-item">
        <a href="#dia.attributes.xAlignment" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.xAlignment</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>x-alignment</b></p>
<p>If set to <code class="highlighted"><span class="token string">'middle'</span></code>, the subelement will be centered around its new x-coordinate.</p>

        </div>
    </div>
    <div id="dia.attributes.yAlignment" class="docs-item">
        <a href="#dia.attributes.yAlignment" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.attributes.yAlignment</h4>
        </a>
        <div class="docs-item-content">
<p><i>alias:</i> <b>y-alignment</b></p>
<p>If set to <code class="highlighted"><span class="token string">'middle'</span></code>, the subelement will be centered around its new y-coordinate.</p>

        </div>
    </div>
    </div>
    <div id="dia.Cell" class="docs-item">
    <div id="dia.Cell.intro" class="docs-item">
        <a href="#dia.Cell.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Cell</h4>
        </a>
        <div class="docs-item-content">
<p>The basic model for diagram cells. It's a <a href="http://backbonejs.org/#Model">Backbone model</a> with a few additional properties and methods. Most importantly, every cell has a <a href="http://en.wikipedia.org/wiki/Universally_unique_identifier">unique ID</a> that is stored in the <code class="highlighted">id</code> property.

        </p></div>
    </div>
    <div id="dia.Cell.define" class="docs-item">
        <a href="#dia.Cell.define" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Cell.define</h4>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted"><span class="token function">define</span><span class="token punctuation">(</span>type <span class="token punctuation">[</span><span class="token punctuation">,</span> defaultAttributes<span class="token punctuation">,</span> prototypeProperties<span class="token punctuation">,</span> staticProperties<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Helper to define a new Cell class or extend an existing one.</p>

<p>The <code class="highlighted">type</code> must be a unique identifier of the class, which determines the location of the class definition in the <code class="highlighted">joint<span class="token punctuation">.</span>shapes</code> namespace (<code class="highlighted">type</code> is the path to the class definition delimited by dots: <code class="highlighted"><span class="token punctuation">.</span></code>). When creating an instance of the cell, attributes will be set to the value from the <code class="highlighted">defaultAttributes</code>, unless overridden by subclass or instance attributes.</p>

<pre><code class="highlighted"><span class="token comment">// Define a new Ellipse class in `joint.shapes.examples` namespace</span>
<span class="token comment">// Inherits from generic Element class</span>
<span class="token keyword">var</span> Ellipse <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'examples.Ellipse'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// default attributes</span>
    markup<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token punctuation">:</span> <span class="token string">'ellipse'</span><span class="token punctuation">,</span>
        selector<span class="token punctuation">:</span> <span class="token string">'ellipse'</span> <span class="token comment">// not necessary but faster</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        ellipse<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            fill<span class="token punctuation">:</span> <span class="token string">'white'</span><span class="token punctuation">,</span>
            stroke<span class="token punctuation">:</span> <span class="token string">'black'</span><span class="token punctuation">,</span>
            strokeWidth<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
            refRx<span class="token punctuation">:</span> <span class="token number">.5</span><span class="token punctuation">,</span>
            refRy<span class="token punctuation">:</span> <span class="token number">.5</span><span class="token punctuation">,</span>
            refCx<span class="token punctuation">:</span> <span class="token number">.5</span><span class="token punctuation">,</span>
            refCy<span class="token punctuation">:</span> <span class="token number">.5</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Instantiate an element</span>
<span class="token keyword">var</span> ellipse <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Ellipse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Define a new ColoredEllipse class</span>
<span class="token comment">// Inherits from Ellipse</span>
<span class="token keyword">var</span> ColoredEllipse <span class="token operator">=</span> Ellipse<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'examples.ColoredEllipse'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// overridden Ellipse default attributes</span>
    <span class="token comment">// other Ellipse attributes preserved</span>
    attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        ellipse<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            fill<span class="token punctuation">:</span> <span class="token string">'lightgray'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// prototype properties</span>
    <span class="token comment">// accessible on `this.(...)` - as well as, more precisely, `this.prototype.(...)`</span>
    <span class="token comment">// useful for custom methods that need access to this instance</span>
    <span class="token comment">// shared by all instances of the class</span>
    randomizeStrokeColor<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> randomColor <span class="token operator">=</span> <span class="token string">'#'</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token string">'000000'</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">16777215</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'ellipse/stroke'</span><span class="token punctuation">,</span> randomColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// static properties</span>
    <span class="token comment">// accessible on `this.constructor.(...)`</span>
    <span class="token comment">// useful for custom methods and constants that do not need an instance to operate</span>
    <span class="token comment">// however, a new set of static properties is generated every time the constructor is called</span>
    <span class="token comment">// (try to only use static properties if absolutely necessary)</span>
    createRandom<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ColoredEllipse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">randomizeStrokeColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Instantiate an element</span>
<span class="token keyword">var</span> coloredEllipse <span class="token operator">=</span> ColoredEllipse<span class="token punctuation">.</span><span class="token function">createRandom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Cell.markup" class="docs-item">
        <a href="#dia.Cell.markup" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Cell.markup</h4>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">markup</code></pre>

<p>
    Either an XML string or JSON markup specifying an array of JSON elements.
    Used as a template to build DOM Elements on the fly when the associated cellView is rendered.
</p>

<h4 id="dia.Cell.markup.xml">XML String</h4>

<p>
    A valid XML string that contains either a single <code class="highlighted">tagName</code> or XML that can be parsed with <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/API/DOMParser"><code class="highlighted">DOMParser</code></a>.
</p>

<pre><code class="highlighted">markup<span class="token punctuation">:</span> <span class="token string">'rect'</span>
markup<span class="token punctuation">:</span> <span class="token string">'&lt;rect class="rectangle"/>'</span>
markup<span class="token punctuation">:</span> <span class="token string">'&lt;rect>&lt;g>&lt;circle/>&lt;circle/>&lt;/g>'</span></code></pre>

<h4 id="dia.Cell.markup.json">JSON Markup</h4>

<p>
    JSON markup is defined recursively as an array of <code class="highlighted">JSONElement</code>, where <code class="highlighted">JSONElement</code> is a plain object with the following properties:
</p>

<ul>
    <li><code class="highlighted">tagName</code> <i>(string)</i> <i>(required)</i> The type of element to be created.</li>
    <li><code class="highlighted">selector</code> <i>(string)</i> A unique selector for targeting the element within the <code class="highlighted">attr</code> cell attribute.</li>
    <li><code class="highlighted">groupSelector</code> <i>(string | string[])</i> A selector for targeting multiple elements within the <code class="highlighted">attr</code> cell attribute. The group selector name must not be the same as an existing selector name.</li>
    <li><code class="highlighted">namespaceURI</code> <i>(string)</i> The namespace URI of the element. It defaults to SVG namespace <a target="_blank" href="https://www.w3.org/2000/svg"><code class="highlighted"><span class="token string">"http://www.w3.org/2000/svg"</span></code></a>.</li>
    <li><code class="highlighted">attributes</code> <i>(object with attributes name-value pairs)</i> Attributes of the element.</li>
    <li><code class="highlighted">style</code> <i>(object with CSS property-value pairs)</i> The <code class="highlighted">style</code> attribute of the element.</li>
    <li><code class="highlighted">className</code> <i>(string)</i> The <code class="highlighted"><span class="token keyword">class</span></code> attribute of the element.</li>
    <li><code class="highlighted">children</code> <i>(JSONMarkup)</i> The children of the element.</li>
    <li><code class="highlighted">textContent</code> <i>(string)</i> The text content of the element.</li>
</ul>

<pre><code class="highlighted"><span class="token comment">// single DOM element</span>
markup<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> tagName<span class="token punctuation">:</span> <span class="token string">'rect'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>

<span class="token comment">// multiple DOM elements</span>
markup<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    tagName<span class="token punctuation">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
    selector<span class="token punctuation">:</span> <span class="token string">'body'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    tagName<span class="token punctuation">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
    selector<span class="token punctuation">:</span> <span class="token string">'label'</span><span class="token punctuation">,</span>
    attributes<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">'stroke'</span><span class="token punctuation">:</span> <span class="token string">'none'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>

<span class="token comment">// nested DOM elements</span>
markup<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    tagName<span class="token punctuation">:</span> <span class="token string">'g'</span><span class="token punctuation">,</span>
    children<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token punctuation">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
        selector<span class="token punctuation">:</span> <span class="token string">'circle1'</span><span class="token punctuation">,</span>
        groupSelector<span class="token punctuation">:</span> <span class="token string">'circles'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        tagName<span class="token punctuation">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
        selector<span class="token punctuation">:</span> <span class="token string">'circle2'</span><span class="token punctuation">,</span>
        groupSelector<span class="token punctuation">:</span> <span class="token string">'circles'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre>

<h5>Setting attributes with selectors</h5>

Here are simple rules how SVG attributes are set on the nodes when one uses combination of <code class="highlighted">selector</code> and <code class="highlighted">groupSelector</code>.

<ul>
    <li><code class="highlighted">selector</code> is unique i.e. can target a single node only.</li>
    <li><code class="highlighted">selector</code> takes precedence over <code class="highlighted">groupSelector</code>.</li>
    <li><code class="highlighted">groupSelector</code> targeting <code class="highlighted">n</code> nodes takes precedence over <code class="highlighted">groupSelector</code> targeting <code class="highlighted">m</code> nodes for <code class="highlighted">n</code> &lt; <code class="highlighted">m</code>. When <code class="highlighted">n</code> === <code class="highlighted">m</code> the order how the attributes are applied is unspecified.</li>
</ul>

<p>In the example below, the circle with the selector <code class="highlighted">circle1</code> is filled with <code class="highlighted"><span class="token string">"red"</span></code> color. All the other circles are filled with <code class="highlighted"><span class="token string">"blue"</span></code> color.</p>

<pre><code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    circle1<span class="token punctuation">:</span> <span class="token punctuation">{</span> fill<span class="token punctuation">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    circles<span class="token punctuation">:</span> <span class="token punctuation">{</span> fill<span class="token punctuation">:</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> stroke<span class="token punctuation">:</span> <span class="token string">'black'</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Cell.prototype" class="docs-item">
    <div id="dia.Cell.prototype.getParentCell" class="docs-item">
        <a href="#dia.Cell.prototype.getParentCell" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Cell.prototype.getParentCell</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">getParentCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the parent cell of <code class="highlighted">cell</code> or <code class="highlighted"><span class="token keyword">null</span></code> if there is none.</p>

        </div>
    </div>
    <div id="dia.Cell.prototype.isElement" class="docs-item">
        <a href="#dia.Cell.prototype.isElement" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Cell.prototype.isElement</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">isElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Always returns <code class="highlighted"><span class="token boolean">false</span></code>. The reason the method is here is that both <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code> and <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> inherit from <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Cell</code>. This method is useful if you don't know what the cell is. Calling <code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">Element</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> is equivalent to <code class="highlighted">cell <span class="token keyword">instanceof</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</span></code>. Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> cell <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getCell</span><span class="token punctuation">(</span>myId<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>cell<span class="token punctuation">.</span><span class="token function">isElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something if the cell is an element.</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Cell.prototype.isLink" class="docs-item">
        <a href="#dia.Cell.prototype.isLink" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Cell.prototype.isLink</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Always returns <code class="highlighted"><span class="token boolean">false</span></code>. The reason the method is here is that both <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code> and <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> inherit from <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Cell</code>. This method is useful if you don't know what the cell is. Calling <code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> is equivalent to <code class="highlighted">cell <span class="token keyword">instanceof</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</span></code>. Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> cell <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getCell</span><span class="token punctuation">(</span>myId<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>cell<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something if the cell is a link.</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Cell.prototype.parent" class="docs-item">
        <a href="#dia.Cell.prototype.parent" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Cell.prototype.parent</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the <code class="highlighted">parent</code> property of the cell.</p>

<p>If the cell is a part of an embedding, the <code class="highlighted">id</code> of the parent cell is returned as a string.</p>

<p>If you need to be sure that a Cell is returned (and not its <code class="highlighted">id</code>), use the <code class="highlighted">cell<span class="token punctuation">.</span>getParentCell</code> <a href="#dia.Cell.prototype.getParentCell">function</a> instead.</p>

<pre class="docs-method-signature"><code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span>parentId <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Set the <code class="highlighted">parent</code> property of the cell to <code class="highlighted">parentId</code> provided.</p>

        </div>
    </div>
    </div>
    </div>
    <div id="dia.CellView" class="docs-item">
    <div id="dia.CellView.intro" class="docs-item">
        <a href="#dia.CellView.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.CellView</h4>
        </a>
        <div class="docs-item-content">
<p>The view for the <a href="#dia.Cell">joint.dia.Cell</a> model. It inherits from <a href="http://backbonejs.org/#View">Backbone.View</a> and is responsible for:</p>
<ul>
  <li>Rendering a cell inside of a paper</li>
  <li>Handling the cell's pointer events</li>
  <li>Provides various methods for working with the cell (visually)</li>
</ul>
<p>To find the view associated with a specific cell (model), use the <a href="#dia.Paper.prototype.findViewByModel">findViewByModel</a> method of the paper. For example:</p>
<pre><code class="highlighted"><span class="token keyword">var</span> cellView <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">findViewByModel</span><span class="token punctuation">(</span>cell<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.CellView.prototype" class="docs-item">
    <div id="dia.CellView.prototype.findAttribute" class="docs-item">
        <a href="#dia.CellView.prototype.findAttribute" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.CellView.prototype.findAttribute</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">cellView<span class="token punctuation">.</span><span class="token function">findAttribute</span><span class="token punctuation">(</span>attribute<span class="token punctuation">,</span> node<span class="token punctuation">)</span></code></pre>
<p>Return the value of the specified <code class="highlighted">attribute</code> of <code class="highlighted">node</code>.</p>

<p>If <code class="highlighted">node</code> does not set a value for <code class="highlighted">attribute</code>, start recursing up the DOM tree from <code class="highlighted">node</code> to look for <code class="highlighted">attribute</code> at the ancestors of <code class="highlighted">node</code>. If the recursion reaches CellView's own node and <code class="highlighted">attribute</code> is not found even there, return <code class="highlighted"><span class="token keyword">null</span></code>.</p>

        </div>
    </div>
    <div id="dia.CellView.prototype.highlight" class="docs-item">
        <a href="#dia.CellView.prototype.highlight" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.CellView.prototype.highlight</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">cellView<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span><span class="token punctuation">[</span>el<span class="token punctuation">[</span><span class="token punctuation">,</span> options<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Highlights the cell view.</p>

<p>Arguments:</p>
<ul>
    <li><b>el</b> - if not provided, then the cell view's <code class="highlighted">$el</code> will be used</li>
    <li>
        <b>options</b>:<br>
        <ul>
            <li>
                <b>highlighter</b>:<br>
                <ul>
                    <li><b>name</b> - the name of the highlighter (see <a href="#highlighters">highlighters</a>)</li>
                    <li><b>options</b> - an options object that will be passed directly to the highligher specified by <code class="highlighted">name</code></li>
                </ul>
            </li>
            <li><b>type</b> - the kind of highlighting being done (embedding, connecting, magnetAvailability, or elementAvailability)</li>
        </ul>
    </li>
</ul>

        </div>
    </div>
    <div id="dia.CellView.prototype.unhighlight" class="docs-item">
        <a href="#dia.CellView.prototype.unhighlight" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.CellView.prototype.unhighlight</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">cellView<span class="token punctuation">.</span><span class="token function">unhighlight</span><span class="token punctuation">(</span><span class="token punctuation">[</span>el<span class="token punctuation">[</span><span class="token punctuation">,</span> options<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Removes the highlighting being done to the cell.</p>

<p>It is <b>important</b> to note that if you highlighted a cell using custom options, you must provide those exact same options when using the unhighlight method.</p>

        </div>
    </div>
    </div>
    </div>
    <div id="dia.Element" class="docs-item">
    <div id="dia.Element.intro" class="docs-item">
        <a href="#dia.Element.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Element</h4>
        </a>
        <div class="docs-item-content">
<p>The model for diagram elements. It inherits from <a href="#dia.Cell">joint.dia.Cell</a> with a few additional properties and methods specific to elements. These properties can be put into three groups:</p>

<h3>Geometry</h3>
<p>Coordinates of an element are stored in the <b><code class="highlighted">position</code></b> property that is an object with <b><code class="highlighted">x</code></b> and <b><code class="highlighted">y</code></b> keys. <code class="highlighted">position</code> can be accessed or set directly using the regular Backbone <code class="highlighted"><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>/<code class="highlighted"><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> methods or through the <a href="#dia.Element.prototype.translate">translate</a> method.</p>
<p>Rotation angle is stored in the <b><code class="highlighted">angle</code></b> property. This angle is in degrees and the rotation origin is always considered to be the center of the element. <code class="highlighted">angle</code> can be also accessed or set directly using the regular Backbone <code class="highlighted"><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>/<code class="highlighted"><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> methods or through the <a href="#dia.Element.prototype.rotate">rotate</a> method.</p>
<p>Size of an element is stored in the <b><code class="highlighted">size</code></b> property that is an object with <b><code class="highlighted">width</code></b> and <b><code class="highlighted">height</code></b> keys. Again, <code class="highlighted">size</code> can be accessed or set directly using the regular Backbone <code class="highlighted"><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>/<code class="highlighted"><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> methods or through the <a href="#dia.Element.prototype.resize">resize</a> method.</p>

<h3 id="joint.dia.Element.presentation">Presentation</h3>
<p>Another important property is <b><code class="highlighted">attrs</code></b> which is an object with keys representing <b>selectors</b> that match subelements and values which are SVG attributes that will be set on the subelements. One can find a list of <b>SVG attributes</b> and their descriptions e.g. on <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute">MDN</a>.</p>
<p>It is important to note that each <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code> defines an SVG markup which is then used by <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ElementView</code> to render the element to the paper. For instance, the <code class="highlighted">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>Rect</code> element (that inherits from <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code>) defines its markup as follows:</p>

<pre><code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rotatable<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>scalable<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">></span></span></code></pre>

<p>Therefore, in order to set a red fill color for the rectangle subelement, the <code class="highlighted">attrs</code> object should contain:</p>
<pre><code class="highlighted">rect<span class="token punctuation">:</span> <span class="token punctuation">{</span> fill<span class="token punctuation">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span></code></pre>

<p>Again, it is not recommended to change the <code class="highlighted">attrs</code> object directly. Instead, use the <a href="#dia.Element.prototype.attr">attr</a> method.</p>
<p>The <b><code class="highlighted">z</code></b> property specifies the stack order of the element in the SVG DOM. An element with a higher <code class="highlighted">z</code> level is in front of an element with a lower <code class="highlighted">z</code> level. (This also stands for links which have the exact same property.)</p>

<h3>Nesting</h3>
<p>The last two properties of elements are <b><code class="highlighted">embeds</code></b> and <b><code class="highlighted">parent</code></b>. These two are related to elements that contain or are contained within other elements forming a hierarchical structure. <b><code class="highlighted">embeds</code></b> is a list of cell <code class="highlighted">id</code>'s that are embedded inside the element. <b><code class="highlighted">parent</code></b> is an <code class="highlighted">id</code> of the parent element of the embedded one. When a parent element is translated, all its children get translated too.</p>

        </div>
    </div>
    <div id="dia.Element.events" class="docs-item">
        <a href="#dia.Element.events" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Element.events</h4>
        </a>
        <div class="docs-item-content">
<p>The following list contains events that you can react on:</p>

<ul>
    <li><code class="highlighted">change</code> - generic event triggered for any change on the element - <i>fn(element, opt)</i></li>
    <li><code class="highlighted">change<span class="token punctuation">:</span>position</code> - triggered when the element changes its position - <i>fn(element, newPosition, opt)</i></li>
    <li><code class="highlighted">change<span class="token punctuation">:</span>angle</code> - triggered when the element gets rotated - <i>fn(element, newAngle, opt)</i></li>
    <li><code class="highlighted">change<span class="token punctuation">:</span>size</code> - triggered when the element gets resized - <i>fn(element, newSize, opt)</i></li>
    <li><code class="highlighted">change<span class="token punctuation">:</span>attrs</code> - triggered when the element changes its attributes - <i>fn(element, newAttrs, opt)</i></li>
    <li><code class="highlighted">change<span class="token punctuation">:</span>embeds</code> - triggered when other cells were embedded into the element - <i>fn(element, newEmbeds, opt)</i></li>
    <li><code class="highlighted">change<span class="token punctuation">:</span>parent</code> - triggered when the element got embedded into another element - <i>fn(element, newParent, opt)</i></li>
    <li><code class="highlighted">change<span class="token punctuation">:</span>z</code> - triggered when the element is moved in the z-level (<a href="#dia.Element.prototype.toFront">toFront</a> and <a href="#dia.Element.prototype.toBack">toBack</a>) - <i>fn(element, newZ, opt)</i></li>
    <li><code class="highlighted">transition<span class="token punctuation">:</span>start</code> - triggered when a transition starts. - <i>fn(element, pathToAttribute)</i></li>
    <li><code class="highlighted">transition<span class="token punctuation">:</span>end</code> - triggered when a transiton ends. - <i>fn(element, pathToAttribute)</i></li>
</ul>

<pre><code class="highlighted"><span class="token comment">// Listening for changes of the position to a single element</span>
element1<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'change:position'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>element1<span class="token punctuation">,</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'element1 moved to '</span> <span class="token operator">+</span> position<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">','</span> <span class="token operator">+</span> position<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// All elements events are also propagated to the graph.</span>
graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'change:position'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Element '</span> <span class="token operator">+</span> element<span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">'moved to '</span> <span class="token operator">+</span> position<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">','</span> <span class="token operator">+</span> position<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Using the option parameter and a custom attribute</span>
graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'change:custom'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> custom<span class="token punctuation">,</span> opt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>opt<span class="token punctuation">.</span>consoleOutput<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Custom attribute value changed to "'</span> <span class="token operator">+</span> custom <span class="token operator">+</span> <span class="token string">'"'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element2<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'custom'</span><span class="token punctuation">,</span> <span class="token string">'myValue'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> consoleOutput<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Element.ports" class="docs-item">
        <a href="#dia.Element.ports" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Element.ports</h4>
        </a>
        <div class="docs-item-content">
<h3 id="ports">Ports</h3>
<p>Many diagramming applications deal with elements with ports. Ports are usually displayed as circles inside diagram elements and are used not only as &quot;sticky&quot; points for connected links but they also further structure the linking information. It is common that certain elements have lists of input and output ports. A link might then point not to the element as a whole but to a certain port instead.</p>
<p>It&#39;s easy to add ports to arbitrary shapes in JointJS. This can be done either by passing a ports definition as an <code class="highlighted">option</code> in the constructor or using the ports API to get/add/remove single or multiple ports. For more information on how to define ports please see <a href="#dia.Element.ports.interface">Port configuration</a> section.</p>
<h5 id="port-api-on-joint-dia-element">Port API on <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code></h5>
<ul>
<li><a href="#dia.Element.prototype.hasPort"><code class="highlighted">hasPort</code></a> / <a href="#dia.Element.prototype.hasPorts"><code class="highlighted">hasPorts</code></a></li>
<li><a href="#dia.Element.prototype.addPort"><code class="highlighted">addPort</code></a> / <a href="#dia.Element.prototype.addPorts"><code class="highlighted">addPorts</code></a></li>
<li><a href="#dia.Element.prototype.removePort"><code class="highlighted">removePort</code></a> /
<a href="#dia.Element.prototype.removePorts"><code class="highlighted">removePorts</code></a></li>
<li><a href="#dia.Element.prototype.getPort"><code class="highlighted">getPort</code></a> / <a href="#dia.Element.prototype.getPorts"><code class="highlighted">getPorts</code></a></li>
<li><a href="#dia.Element.prototype.portProp"><code class="highlighted">portProp</code></a></li>
<li><a href="#dia.Element.prototype.getPortsPositions"><code class="highlighted">getPortsPositions</code></a></li>
</ul>
<h5 id="-a-name-dia-element-ports-interface-a-port-configuration"><a name="dia.Element.ports.interface"></a> Port configuration</h5>
<pre><code class="language-javascript highlighted"><span class="token comment">// Single port definition</span>
<span class="token keyword">var</span> port <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// id: 'abc', // generated if `id` value is not present</span>
    group<span class="token punctuation">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span>
    args<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// extra arguments for the port layout function, see `layout.Port` section</span>
    label<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        position<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            name<span class="token punctuation">:</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
            args<span class="token punctuation">:</span> <span class="token punctuation">{</span> y<span class="token punctuation">:</span> <span class="token number">6</span> <span class="token punctuation">}</span> <span class="token comment">// extra arguments for the label layout function, see `layout.PortLabel` section</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        markup<span class="token punctuation">:</span> <span class="token string">'&lt;text class="label-text" fill="blue"/>'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span> text<span class="token punctuation">:</span> <span class="token punctuation">{</span> text<span class="token punctuation">:</span> <span class="token string">'port1'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    markup<span class="token punctuation">:</span> <span class="token string">'&lt;rect width="16" height="16" x="-8" strokegit ="red" fill="gray"/>'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// a.) add a port in constructor.</span>
<span class="token keyword">var</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    position<span class="token punctuation">:</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    size<span class="token punctuation">:</span> <span class="token punctuation">{</span> width<span class="token punctuation">:</span> <span class="token number">90</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">90</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    ports<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        groups<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        items<span class="token punctuation">:</span> <span class="token punctuation">[</span>port<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// b.) or add a single port using API</span>
rect<span class="token punctuation">.</span><span class="token function">addPort</span><span class="token punctuation">(</span>port<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<table>
<tr>
    <td><b>id</b></td>
    <td><i>string</i></td>
    <td> It is automatically generated if no `id` provided. IDs must be unique in the context of a single shape - two ports with the same port id are therefore not allowed (`Element: found id duplicities in ports.` error is thrown).
    </td>
</tr>

<tr>
    <td><b>group</b></td>
    <td><i>string</i></td>
    <td>Group name, more info in [groups](#groupssection) section.</td>
</tr>
<tr>
    <td><b>args</b></td>
    <td><i>object</i></td>
    <td> Arguments for the port layout function. Available properties depends on the type of layout. More information could be found in [`layout.Port`](#layout.Port).</td>
</tr>
<tr>
    <td><b>attrs</b></td>
    <td><i>object</i></td>
    <td>JointJS style attribute definition. The same notation as the `attrs` property on [`Element`](#joint.dia.Element.presentation).</td>
</tr>
<tr>
    <td><b>markup</b></td>
    <td><i>string</i></td>
    <td>
        Custom port markup. Multiple roots are not allowed. Valid notation would be:
<blockquote><pre>`<g>
    <rect class="outer" width="15" height="15" fill="red">
    <rect class="inner" width="15" height="15" fill="blue" x="10">
</rect></rect></g>`</pre>
</blockquote>
        <p>It defaults to `<circle class="joint-port-body" r="10" fill="#FFFFFF" stroke="#000000">`.</circle></p>
    </td>
</tr>
<tr>
    <td><b>label</b></td>
    <td><i>object</i></td>
    <td>
        Port label layout configuration. E.g. label position, label markup. More information about port label layouts could be found in [`layout.PortLabel`](#layout.PortLabel) section.
    </td>
</tr>

<tr>
    <td><ul><li><b>label.position</b></li></ul></td>
    <td><i>string&nbsp;|&nbsp;object</i></td>
    <td>
        Port label position configuration. It could be a `string` for setting the port layout type directly with default
        settings or an `object` where it's possible to set the layout type and options.
        <pre><code class="highlighted"><span class="token punctuation">{</span> position<span class="token punctuation">:</span> <span class="token string">'left'</span><span class="token punctuation">}</span>

<span class="token comment">// or ...</span>
<span class="token punctuation">{</span>
    position<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            dx<span class="token punctuation">:</span> <span class="token number">10</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
    </td><p></p>
</tr>
<tr>
    <td><ul style="margin-left: 20px;list-style: circle"><li><b>label.position.name</b></li></ul></td>
    <td><i>string</i></td>
    <td>
        Stands for the layout type, match the layout method name defined in `joint.layout.PortLabel` namespace:
        `name:'left'` is implemented as `joint.layout.PortLabel.left`.
    </td>
</tr>
<tr>
    <td><ul style="margin-left: 20px;list-style: circle"><li><b>label.position.args</b></li></ul></td>
    <td><i>object</i></td>
    <td>
        Additional arguments for the layout method. Available properties depends on the layout type. More information could be found in [`layout.PortLabel`](#layout.PortLabel) section.
    </td>
</tr>
<tr>
    <td><ul><li><b>label.markup</b></li></ul></td>
    <td><i>string</i></td>
    <td>
        Custom port label markup. Multiple roots are not allowed. It defaults to `<text class="joint-port-label" fill="#000000">`.
    </text></td>
</tr>
<tr>
    <td><b>z</b></td>
    <td><i>number&nbsp;|&nbsp;string</i></td>
    <td>
        <p> Alternative to HTML `z-index`. `z` sets the position of a port in the list of DOM elements within an
            `ElementView`.
        </p>
        <iframe src="about:blank" data-src="./demo/dia/Element/portZIndex.html" style="height: 224px; width: 803px;"></iframe>

<p>Shapes most likely consist of 1 or more DOM elements, `<rect>`, `<rect><text><circle>` etc.
    Ports are placed into the element `rotatable` group (if there is no `rotatable` group in the shape's markup, then the main group element `elementView.el` is used for the port container). Ports with `z:'auto'` are located right after the last element in the `rotatable` group. Ports with `z` defined as a number are placed before a DOM element at the position (index within the children of the container, where only the original markup elements and ports with `z:'auto'` are taken into account) equals to `z`.
    </circle></text></rect></rect></p>

<pre><code class="highlighted">    <span class="token operator">&lt;</span>p<span class="token operator">></span>For instance an element <span class="token keyword">with</span> the following markup
<span class="token operator">&lt;</span>blockquote<span class="token operator">></span><span class="token operator">&lt;</span>pre<span class="token operator">></span>`<span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"rotatable"</span><span class="token operator">></span>
<span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"scalable"</span><span class="token operator">></span><span class="token operator">&lt;</span>rect<span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>
<span class="token operator">&lt;</span>text<span class="token operator">/</span><span class="token operator">></span></code></pre><p>` will be rendered like this:</p><p></p>
<pre><code class="highlighted"><span class="token operator">&lt;</span>g model<span class="token operator">-</span>id<span class="token operator">=</span><span class="token string">"element1"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"rotatable"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"port"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>         <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> z<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token operator">--</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"scalable"</span><span class="token operator">></span><span class="token operator">&lt;</span>rect<span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>
        <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"port"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>         <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> z<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token operator">--</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>text<span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"port"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>         <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> z<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token operator">--</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>
</code></pre>

<p>Another example with simplified markup `<circle><text>` can look as follows:</text></circle></p>

<pre><code class="highlighted"><span class="token operator">&lt;</span>g model<span class="token operator">-</span>id<span class="token operator">=</span><span class="token string">"element2"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"port"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>         <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> z<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token operator">--</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>circle<span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"port"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>         <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> z<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token operator">--</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"port"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>         <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> another z<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token operator">--</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>text<span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"port"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>         <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> z<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token operator">--</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"port"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>         <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> z<span class="token punctuation">:</span> <span class="token string">'auto'</span> <span class="token operator">--</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"port"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>         <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> z<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token operator">--</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"port"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>         <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> z<span class="token punctuation">:</span> <span class="token string">'auto'</span> <span class="token operator">--</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>g <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"port"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>         <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> z<span class="token punctuation">:</span> <span class="token number">10</span> <span class="token operator">--</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>g<span class="token operator">></span>
</code></pre>

<pre><code class="highlighted"><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span></code></pre></td></tr>
</table>

<p>All properties described above are optional and everything has own default. E.g. <code class="highlighted">element<span class="token punctuation">.</span><span class="token function">addPorts</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code> will add 2 ports with default settings.</p>
<h4 id="port-groups-configuration-a-name-groupssection-a-">Port groups configuration <a name="groupssection"></a></h4>
<p><code class="highlighted">group</code> attribute comes to play when you&#39;re not happy with the default port alignment. It&#39;s also handy when you need to define multiple ports with similar properties. <code class="highlighted">group</code> defines defaults for ports belonging to the group. Any <code class="highlighted">group</code> property can be overwritten by a port in this group except the type of layout - <code class="highlighted">position</code>. &#39;group&#39; defines the layout and port &#39;args&#39; are the only way how a port can affect it.</p>
<pre><code class="language-javascript highlighted">
   <span class="token comment">// Define ports and port groups in element constructor.</span>
   <span class="token keyword">var</span> groupA<span class="token punctuation">;</span>
   <span class="token keyword">var</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>Rect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
        ports<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            groups<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">'group1'</span><span class="token punctuation">:</span> groupA<span class="token punctuation">,</span>
                <span class="token comment">// 'group2': ...,</span>
                <span class="token comment">// 'group3': ...,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            items<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    groupA <span class="token operator">=</span> <span class="token punctuation">{</span>
            position<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                name<span class="token punctuation">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span> <span class="token comment">// layout name</span>
                args<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// arguments for port layout function, properties depends on type of layout</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            label<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// ....</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            markup<span class="token punctuation">:</span> <span class="token string">'&lt;rect width="10" height="10" stroke="red"/>'</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<table>
<tr>
    <td><b>position</b></td>
    <td><i>string | object</i></td>
    <td>
        Port position configuration. Could be `string` to set port layout type directly with default
        settings or `object` where is possible to set layout type and options.
    </td>
</tr>
<tr>
    <td><ul><li><b>position.name</b></li></ul></td>
    <td><i>string</i></td>
    <td>
        Stands for the layout type, match the layout method name defined in `joint.layout.Port` namespace:
        `name:'left'` is implemented as `joint.layout.Port.left`.
    </td>
</tr>
<tr>
    <td><ul><li><b>position.args</b></li></ul></td>
    <td><i>object</i></td>
    <td> Arguments for the port layout function. Available properties depends on the type of layout. More information could be found in [`layout.Port`](#layout.Port).</td>
</tr>
<tr>
    <td><b>attrs</b></td>
    <td><i>object</i></td>
    <td>JointJS style attribute definition. The same notation as the `attrs` property on [`Element`](#joint.dia.Element.presentation).</td>
</tr>
<tr>
    <td><b>markup</b></td>
    <td><i>string</i></td>
    <td>
        Custom port markup. Multiple roots are not allowed. Valid notation would be:
<blockquote><pre>`<g>
    <rect class="outer" width="15" height="15" fill="red">
    <rect class="inner" width="15" height="15" fill="red" x="10">
</rect></rect></g>`</pre></blockquote>. It defaults to `<circle class="joint-port-body" r="10" fill="#FFFFFF" stroke="#000000">`
    </circle></td>
</tr>
<tr>
    <td><b>label</b></td>
    <td><i>object</i></td>
    <td>
        Port label layout configuration. E.g. label position, label markup. More information about port label layouts could be found in [`layout.PortLabel`](#layout.PortLabel) section.
    </td>
</tr>

<tr>
    <td><ul><li><b>label.position</b></li></ul></td>
    <td><i>string&nbsp;|&nbsp;object</i></td>
    <td>
        Port label position configuration. It could be a `string` for setting the port layout type directly with default
        settings or an `object` where it's possible to set the layout type and options.
        <pre><code class="highlighted"><span class="token punctuation">{</span> position<span class="token punctuation">:</span> <span class="token string">'left'</span><span class="token punctuation">}</span>

<span class="token comment">// or ...</span>
<span class="token punctuation">{</span>
    position<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            dx<span class="token punctuation">:</span> <span class="token number">10</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
        </td>
    </tr><p></p>
<tr>
    <td><ul style="margin-left: 20px;list-style: circle"><li><b>label.position.name</b></li></ul></td>
    <td><i>string</i></td>
    <td>
        Stands for the layout type, match the layout method name defined in `joint.layout.PortLabel` namespace:
        `name:'left'` is implemented as `joint.layout.PortLabel.left`.
    </td>
</tr>
<tr>
    <td><ul style="margin-left: 20px;list-style: circle"><li><b>label.position.args</b></li></ul></td>
    <td><i>object</i></td>
    <td>
        Additional arguments for the layout method. Available properties depends on the layout type. More information could be found in [`layout.PortLabel`](#layout.PortLabel) section.
    </td>
</tr>
<tr>
    <td><ul><li><b>label.markup</b></li></ul></td>
    <td><i>string</i></td>
    <td>
        Custom port label markup. Multiple roots are not allowed. It defaults to `<text class="joint-port-label" fill="#000000">`.
    </text></td>
</tr>
</table>

<h5 id="custom-markup">Custom markup</h5>
<p>Both port and port label can have custom markup.</p>
<pre><code class="language-javascript highlighted">
    <span class="token keyword">var</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>Rect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    rect<span class="token punctuation">.</span><span class="token function">addPort</span><span class="token punctuation">(</span><span class="token punctuation">{</span> markup<span class="token punctuation">:</span> <span class="token string">'&lt;rect width="10" height="10" fill="blue"/>'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    rect<span class="token punctuation">.</span><span class="token function">addPort</span><span class="token punctuation">(</span><span class="token punctuation">{</span> markup<span class="token punctuation">:</span> <span class="token string">'&lt;rect width="15" height="15" fill="red"/>'</span><span class="token punctuation">,</span> label<span class="token punctuation">:</span> <span class="token punctuation">{</span> markup<span class="token punctuation">:</span> <span class="token string">'&lt;text fill="#000000"/>'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>or, it can be set as an default port markup/port label markup on an element model:</p>
<pre><code class="language-javascript highlighted">
    <span class="token keyword">var</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>Rect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        portMarkup<span class="token punctuation">:</span> <span class="token string">'&lt;rect width="20" height="20" fill="black"/>'</span><span class="token punctuation">,</span>
        portLabelMarkup<span class="token punctuation">:</span> <span class="token string">'&lt;text fill="yellow"/>'</span><span class="token punctuation">,</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="dia.Element.prototype" class="docs-item">
    <div id="dia.Element.prototype.addPort" class="docs-item">
        <a href="#dia.Element.prototype.addPort" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.addPort</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">addPort</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Add a single port, where <code class="highlighted">port</code> could be defined as described in section <a href="#dia.Element.ports.interface">Port interface</a></p>

        </div>
    </div>
    <div id="dia.Element.prototype.addPorts" class="docs-item">
        <a href="#dia.Element.prototype.addPorts" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.addPorts</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">addPorts</span><span class="token punctuation">(</span>ports<span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Add array of <code class="highlighted">ports</code>. Ports are validated for <code class="highlighted">id</code> duplicities, if there is a id collision, no new ports are added, where <code class="highlighted">port</code> could be defined as describe in section <a href="#dia.Element.ports.interface">Port interface</a></p>

        </div>
    </div>
    <div id="dia.Element.prototype.addTo" class="docs-item">
        <a href="#dia.Element.prototype.addTo" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.addTo</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span></code></pre>
<p>Add the element to the <code class="highlighted">graph</code> (an instance of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</code>). This is equivalent to calling <code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code>.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.angle" class="docs-item">
        <a href="#dia.Element.prototype.angle" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.angle</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">angle</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the rotation of the element in degrees (<i>0° - 360°</i>).</p>

        </div>
    </div>
    <div id="dia.Element.prototype.attr" class="docs-item">
        <a href="#dia.Element.prototype.attr" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.attr</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span>attrs<span class="token punctuation">)</span></code></pre>

<p>Set SVG attributes (and JointJS special attributes) on subelements. <code class="highlighted">attr</code> can either be an object or string representing a path to a nested attribute. If it is an object, the keys of the <code class="highlighted">attrs</code> object are CSS selectors matching the subelements. The values are objects containing SVG attributes and their values. <code class="highlighted">attrs</code> object will be mixined with <code class="highlighted">attrs</code> property of the <code class="highlighted">element</code> model. This is a convenient way of rewriting only some of the attributes of the subelements. For overwritting all attributes of all subelements, use <code class="highlighted">element<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span>attrs<span class="token punctuation">)</span></code>.</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    rect<span class="token punctuation">:</span> <span class="token punctuation">{</span> fill<span class="token punctuation">:</span> <span class="token string">'blue'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    text<span class="token punctuation">:</span> <span class="token punctuation">{</span> fill<span class="token punctuation">:</span> <span class="token string">'white'</span><span class="token punctuation">,</span> <span class="token string">'font-size'</span><span class="token punctuation">:</span> <span class="token number">15</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'.myrect2'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> fill<span class="token punctuation">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>An alternative call using a string path and a value:</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'text/font-size'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Element.prototype.clone" class="docs-item">
        <a href="#dia.Element.prototype.clone" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.clone</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span></code></pre><p>Returns a new instance of the element with identical attributes. If <code class="highlighted">options<span class="token punctuation">.</span>deep <span class="token operator">===</span> <span class="token boolean">true</span></code>, then
            all the embedded cells (elements, links) of the element are cloned as well. In this case, the return value is an array of
            instances rather then a single instance.</p>
        </div>
    </div>
    <div id="dia.Element.prototype.embed" class="docs-item">
        <a href="#dia.Element.prototype.embed" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.embed</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">embed</span><span class="token punctuation">(</span>cell<span class="token punctuation">)</span></code></pre><p>Embed a cell (element or link) into the element. The element then becomes a parent of the embedded cell. When a parent is moved (translated),
          all cells embedded into that parent will move as well. If links are embedded, their vertices move with the parent. This way both options are available:
      if a link is not embedded but its source/target elements are and their parent moves, the embedded elements
      move with the parent but the link vertices stay at the same position. If the link is embedded with its source/target elements, its vertices move as the parent moves.</p>
        </div>
    </div>
    <div id="dia.Element.prototype.findView" class="docs-item">
        <a href="#dia.Element.prototype.findView" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.findView</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span>paper<span class="token punctuation">)</span></code></pre><p>Find view (<a href="#dia.ElementView"><code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ElementView</code></a>) for the element model in the <code class="highlighted">paper</code>.
      This is a shortcut to the equivalent call <code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">findViewByModel</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code>
    </p>
        </div>
    </div>
    <div id="dia.Element.prototype.fitEmbeds" class="docs-item">
        <a href="#dia.Element.prototype.fitEmbeds" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.fitEmbeds</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">fitEmbeds</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Resize the element so that it fits all the embedded elements inside it. If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code>,
          the resizing will be done recursively for any embedded elements that contain embedded elements themselves.
          Set <code class="highlighted">opt<span class="token punctuation">.</span>padding</code> if you want certain padding on all the parent elements.
        </p>
        </div>
    </div>
    <div id="dia.Element.prototype.getAncestors" class="docs-item">
        <a href="#dia.Element.prototype.getAncestors" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.getAncestors</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getAncestors</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return an array of all the ancestors of this element starting from the immediate parent all the way up to the most distant ancestor.</p>
        </div>
    </div>
    <div id="dia.Element.prototype.getBBox" class="docs-item">
        <a href="#dia.Element.prototype.getBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.getBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the bounding box of the element model, represented as a <code class="highlighted">g<span class="token punctuation">.</span>Rect</code>.</p>

<p>Keep in mind that this function reports the dimensions of the element's model, not the dimensions of the element's view. (For example, the model bounding box does not include any associated ports). See the documentation of the <code class="highlighted">elementView<span class="token punctuation">.</span>getBBox</code> <a href="#dia.ElementView.prototype.getBBox">function</a> for details about the differences.</p>

<p>Example usage:</p>
<pre><code class="highlighted"><span class="token keyword">if</span> <span class="token punctuation">(</span>element1<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intersect</span><span class="token punctuation">(</span>element2<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// intersection of the two elements</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Element.prototype.getEmbeddedCells" class="docs-item">
        <a href="#dia.Element.prototype.getEmbeddedCells" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.getEmbeddedCells</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getEmbeddedCells</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Return an array of all the embedded cells of an element. If all you need is <code class="highlighted">id</code>'s of all the embedded cells,
            use <code class="highlighted">element<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'embeds'</span><span class="token punctuation">)</span></code>. If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code>, all the deeply embedded
          cells will be returned. The order in which the cells are returned depends on the search algorithm used. By
          default, <a href="http://en.wikipedia.org/wiki/Depth-first_search">Depth-first search (DFS)</a> algorithm is used. If
          <code class="highlighted">opt<span class="token punctuation">.</span>breadthFirst</code> is <code class="highlighted"><span class="token boolean">true</span></code>, the <a href="http://en.wikipedia.org/wiki/Breadth-first_search">Breadth-first search</a> algorithm will be used instead.</p>
        </div>
    </div>
    <div id="dia.Element.prototype.getPort" class="docs-item">
        <a href="#dia.Element.prototype.getPort" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.getPort</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span></code></pre>

<p>Returns the port specified by an <code class="highlighted">id</code>. If such a port does not exist the method returns <code class="highlighted">undefined</code>.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.getPortIndex" class="docs-item">
        <a href="#dia.Element.prototype.getPortIndex" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.getPortIndex</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getPortIndex</span><span class="token punctuation">(</span>portId<span class="token punctuation">)</span></code></pre>

Returns the port index in the array of port items.

        </div>
    </div>
    <div id="dia.Element.prototype.getPorts" class="docs-item">
        <a href="#dia.Element.prototype.getPorts" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.getPorts</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getPorts</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>Returns an array of all ports on the element. If there is no port an empty array is returned.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.getPortsPositions" class="docs-item">
        <a href="#dia.Element.prototype.getPortsPositions" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.getPortsPositions</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getPortsPositions</span><span class="token punctuation">(</span>groupName<span class="token punctuation">)</span></code></pre>

<p>Returns the positions and the angle of all ports in the group, relatively to the element position. </p>

        </div>
    </div>
    <div id="dia.Element.prototype.getTransitions" class="docs-item">
        <a href="#dia.Element.prototype.getTransitions" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.getTransitions</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">getTransitions</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Return an array of all active transitions (their paths).</p>
        </div>
    </div>
    <div id="dia.Element.prototype.hasPort" class="docs-item">
        <a href="#dia.Element.prototype.hasPort" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.hasPort</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">hasPort</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span></code></pre>

<p>Check if an element contains a port with <code class="highlighted">id</code>. Returns <code class="highlighted">boolean</code>.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.hasPorts" class="docs-item">
        <a href="#dia.Element.prototype.hasPorts" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.hasPorts</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">hasPorts</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>Check if an element has any ports defined. Returns <code class="highlighted">boolean</code>.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.isElement" class="docs-item">
        <a href="#dia.Element.prototype.isElement" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.isElement</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">isElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Always returns <code class="highlighted"><span class="token boolean">true</span></code>. The reason the method is here is that both <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code> and <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> inherit from <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Cell</code>. This method is useful if you don't know what the cell is. Calling <code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">isElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> is equivalent to <code class="highlighted">cell <span class="token keyword">instanceof</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</span></code>. Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> cell <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getCell</span><span class="token punctuation">(</span>myId<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>cell<span class="token punctuation">.</span><span class="token function">isElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something if the cell is an element.</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Element.prototype.isEmbeddedIn" class="docs-item">
        <a href="#dia.Element.prototype.isEmbeddedIn" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.isEmbeddedIn</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">isEmbeddedIn</span><span class="token punctuation">(</span>element <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> if the element is embedded in another element <code class="highlighted">element</code>. If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code>
        is <code class="highlighted"><span class="token boolean">false</span></code>, only direct parentage will be checked. <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code> by default.</p>
        </div>
    </div>
    <div id="dia.Element.prototype.isLink" class="docs-item">
        <a href="#dia.Element.prototype.isLink" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.isLink</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Always returns <code class="highlighted"><span class="token boolean">false</span></code>. The reason the method is here is that both <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code> and <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> inherit from <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Cell</code>. This method is useful if you don't know what the cell is. Calling <code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> is equivalent to <code class="highlighted">cell <span class="token keyword">instanceof</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</span></code>. Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> cell <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getCell</span><span class="token punctuation">(</span>myId<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>cell<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something if the cell is a link.</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Element.prototype.portProp" class="docs-item">
        <a href="#dia.Element.prototype.portProp" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.portProp</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">portProp</span><span class="token punctuation">(</span>portId<span class="token punctuation">,</span> path<span class="token punctuation">,</span> <span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Set properties, possibly nested, on the element port. This is an equivalent of the <a href="#dia.Element.prototype.attr">attr()</a> method but this time for custom data properties.</p>
<pre><code class="language-javascript highlighted">element<span class="token punctuation">.</span><span class="token function">portProp</span><span class="token punctuation">(</span><span class="token string">'port-id'</span><span class="token punctuation">,</span> <span class="token string">'attrs/circle/fill'</span><span class="token punctuation">,</span> <span class="token string">'red'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span><span class="token function">portProp</span><span class="token punctuation">(</span><span class="token string">'port-id'</span><span class="token punctuation">,</span> <span class="token string">'attrs/circle/fill'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 'red'</span>

element<span class="token punctuation">.</span><span class="token function">portProp</span><span class="token punctuation">(</span><span class="token string">'port-id'</span><span class="token punctuation">,</span> <span class="token string">'attrs/circle'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> r<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> stroke<span class="token punctuation">:</span> <span class="token string">'green'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span><span class="token function">portProp</span><span class="token punctuation">(</span><span class="token string">'port-id'</span><span class="token punctuation">,</span> <span class="token string">'attrs/circle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { r: 10, stroke: 'green', fill: 'red' }</span>
</code></pre>

        </div>
    </div>
    <div id="dia.Element.prototype.position" class="docs-item">
        <a href="#dia.Element.prototype.position" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.position</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Set the element position to <code class="highlighted">x</code> and <code class="highlighted">y</code> coordinates. This is almost equivalent to
    <code class="highlighted">element<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'position'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> y <span class="token punctuation">}</span><span class="token punctuation">,</span> opt<span class="token punctuation">)</span></code>. However, this method provides some additional functionality.
    If you set <code class="highlighted">opt<span class="token punctuation">.</span>parentRelative</code> flag to <code class="highlighted"><span class="token boolean">true</span></code>, the <code class="highlighted">x</code> and <code class="highlighted">y</code>
    coordinates will be treated relatively to the parent element of this element. If <code class="highlighted"><span class="token function">position</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> is called
    without arguments, it returns the current position. If <code class="highlighted"><span class="token function">position</span><span class="token punctuation">(</span><span class="token punctuation">{</span> parentRealtive<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code> is called
    without <code class="highlighted">x</code> and <code class="highlighted">y</code> coordinates and with the <code class="highlighted">parentRelative</code> flag set to <code class="highlighted"><span class="token boolean">true</span></code>,
    the method returns the current position of the element relative to its parent.
    Setting <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> to <code class="highlighted"><span class="token boolean">true</span></code> will position not only the element but also all its descendants keeping
    the original distances from a child to the element origin.
</p>

<pre><code class="highlighted">el1<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
el1<span class="token punctuation">.</span><span class="token function">embed</span><span class="token punctuation">(</span>el2<span class="token punctuation">)</span><span class="token punctuation">;</span>
el2<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> parentRelative<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
el2<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// --> 110@110</span>
el1<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> deep<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
el2<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// --> 210@210</span></code></pre>

        </div>
    </div>
    <div id="dia.Element.prototype.prop" class="docs-item">
        <a href="#dia.Element.prototype.prop" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.prop</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span></code></pre>

<p>Set properties, possibly nested, on the element model. This is an equivalent of the <a href="#dia.Element.prototype.attr">attr()</a> method but this time for custom data properties.</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'name/first'</span><span class="token punctuation">,</span> <span class="token string">'John'</span><span class="token punctuation">)</span>
element<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'name/first'</span><span class="token punctuation">)</span>  <span class="token comment">// 'John'</span>
element<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token punctuation">{</span> first<span class="token punctuation">:</span> <span class="token string">'John'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// Nested arrays are supported too:</span>
element<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'mylist/0/data/0/value'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
element<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token punctuation">{</span> mylist<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span> data<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token number">50</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>

        </div>
    </div>
    <div id="dia.Element.prototype.remove" class="docs-item">
        <a href="#dia.Element.prototype.remove" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.remove</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span></code></pre><p>Remove the element from the graph. All its embedded elements will get removed too and the element gets unembedded from its parent element. By default, 
            all the associated links are removed too. To suppress this behaviour, set <code class="highlighted">options<span class="token punctuation">.</span>disconnectLinks <span class="token operator">===</span> <span class="token boolean">true</span></code>. In this case, all the associated
            links get disconnected from this element rather then removed completely from the graph.</p>
        </div>
    </div>
    <div id="dia.Element.prototype.removeAttr" class="docs-item">
        <a href="#dia.Element.prototype.removeAttr" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.removeAttr</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">removeAttr</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Remove a previously set attribute from the element. <code class="highlighted">path</code> can either be a string that specifies
      the path to the, possibly nested, attribute to be removed or an array of more paths.
      The associated element view makes sure the element gets re-rendered properly.
      If <code class="highlighted">options</code> is passed, it can contain data that is passed over to 
      the event listeners for the <code class="highlighted">change<span class="token punctuation">:</span>attrs</code> event triggered on the element
      itself and also on the graph the element is in.
    </p>
        </div>
    </div>
    <div id="dia.Element.prototype.removePort" class="docs-item">
        <a href="#dia.Element.prototype.removePort" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.removePort</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">removePort</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Remove a port from an element, where <code class="highlighted">port</code> is a port object, or <code class="highlighted">portId</code>.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.removePorts" class="docs-item">
        <a href="#dia.Element.prototype.removePorts" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.removePorts</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">removePorts</span><span class="token punctuation">(</span>ports <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Remove an array of <code class="highlighted">ports</code> from the element.</p>
<p>The ports can be specified as <a href="#dia.Element.ports.interface">Port interfaces</a> or <code class="highlighted">portIds</code>. The function skips over any ports in the array that do not exist on the element.</p>
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">removePorts</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>If no array is provided, the function removes all ports from the element.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.resize" class="docs-item">
        <a href="#dia.Element.prototype.resize" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.resize</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Resize an element in place so that the <a href="http://jointjs.com/tutorial/custom-elements">&quot;scalable&quot; group</a> has width <code class="highlighted">width</code> and height <code class="highlighted">height</code>. In place in this case means
            that the top-left corner of the element stays at the same position after resizing. In other words,
          the element is streched to the bottom/right (by default). To change the direction of resizing, set
          <code class="highlighted">opt<span class="token punctuation">.</span>direction</code> to one of <code class="highlighted"><span class="token string">'left'</span></code>, <code class="highlighted"><span class="token string">'right'</span></code>, <code class="highlighted"><span class="token string">'top'</span></code>, <code class="highlighted"><span class="token string">'bottom'</span></code>,
          <code class="highlighted"><span class="token string">'top-right'</span></code>, <code class="highlighted"><span class="token string">'top-left'</span></code>, <code class="highlighted"><span class="token string">'bottom-left'</span></code> or <code class="highlighted"><span class="token string">'bottom-right'</span></code> (the default).
        </p><p>There is a difference between a classical scale and
            <a href="#dia.Element.prototype.resize">resize</a> operations. <code class="highlighted">resize</code> doesn't actually scale the whole SVG <code class="highlighted"><span class="token operator">&lt;</span>g<span class="token operator">></span></code> element grouping
            all its subelements. It only scales subelements of the <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">class"scalable"</span><span class="token punctuation">/></span></span></code> group. This is very
            useful and brings a lot of flexibility in defining which subelements should be scaled and which not. Imagine a simple
            rectangle element with text inside. Usually, when we resize the whole element, we expect the rectangle to
            get scaled while the text should stay the same size, only its position should be adjusted so that the text stays
            in the center of the rectangle. This can be easilly achieved by adding the <code class="highlighted"><span class="token operator">&lt;</span>rect<span class="token operator">/</span><span class="token operator">></span></code> element to the <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">class"scalable"</span><span class="token punctuation">/></span></span></code> group
            in the markup and positioning the text
            subelement relatively to the <code class="highlighted"><span class="token operator">&lt;</span>rect <span class="token operator">/</span><span class="token operator">></span></code> element: <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">ref-x</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>.5<span class="token punctuation">"</span></span> <span class="token attr-name">ref-y</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>.5<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rect<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code>.
            Note that neither of <code class="highlighted">ref<span class="token operator">-</span>x<span class="token punctuation">,</span> ref<span class="token operator">-</span>y and ref</code> attributes is an SVG standard attribute. These are special
            attributes introduced by JointJS. More on these in the section on <a href="#dia.attributes">Special attributes</a>.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.rotate" class="docs-item">
        <a href="#dia.Element.prototype.rotate" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.rotate</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>deg<span class="token punctuation">,</span> <span class="token punctuation">[</span>absolute<span class="token punctuation">,</span> origin<span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Rotate an element by <code class="highlighted">deg</code> degrees around its center. If the optional <code class="highlighted">absolute</code> parameter is <code class="highlighted"><span class="token boolean">true</span></code>,
        the <code class="highlighted">deg</code> will be considered an absolute angle, not an addition to the previous angle.
      If <code class="highlighted">origin</code> is passed in the form of an object with <code class="highlighted">x</code> and <code class="highlighted">y</code> properties,
      then this point will be used as the origin for the rotation transformation.
    </p>

        </div>
    </div>
    <div id="dia.Element.prototype.scale" class="docs-item">
        <a href="#dia.Element.prototype.scale" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.scale</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span>sx<span class="token punctuation">,</span> sy<span class="token punctuation">,</span> origin<span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Scales the element's position and size relative to the given origin.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.stopTransitions" class="docs-item">
        <a href="#dia.Element.prototype.stopTransitions" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.stopTransitions</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">stopTransitions</span><span class="token punctuation">(</span><span class="token punctuation">[</span>path<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Stops all running transitions. If parameter <code class="highlighted">path</code> is provided, it will stop only transitions specified by this path.</p>
        </div>
    </div>
    <div id="dia.Element.prototype.toBack" class="docs-item">
        <a href="#dia.Element.prototype.toBack" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.toBack</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">toBack</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Move the element so it is behind all other cells (elements/links).
        If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code>, all the embedded cells of this
        element will get higher <code class="highlighted">z</code> index than that of this element in a Breadth-first search (BFS) fashion. This
        is especially useful in hierarchical diagrams where if you want to send an element to the back, you don't want
        its children (embedded cells) to be hidden behind that element.</p>
        </div>
    </div>
    <div id="dia.Element.prototype.toFront" class="docs-item">
        <a href="#dia.Element.prototype.toFront" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.toFront</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">toFront</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Move the element so it is on top of all other cells (element/links).
        If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code>, all the embedded cells of this
        element will get higher <code class="highlighted">z</code> index than that of this element in a Breadth-first search (BFS) fashion. This
        is especially useful in hierarchical diagrams where if you want to send an element to the front, you don't want
        its children (embedded cells) to be hidden behind that element.</p><p>All elements have a <code class="highlighted">z</code> property defining their z-level in the graph. This <code class="highlighted">z</code> property
            can even be set directly by <code class="highlighted">element<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'z'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span></code>. This change will be automatically handled by the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</code>
            object associated with the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</code> object this element is part of and all the SVG elements will get resorted so that
            their position in the DOM reflects the <code class="highlighted">z</code> level.</p>
        </div>
    </div>
    <div id="dia.Element.prototype.toJSON" class="docs-item">
        <a href="#dia.Element.prototype.toJSON" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.toJSON</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a copy of the element's attributes for JSON serialization. This can be used for persistance or serialization. Note that this method doesn't return a JSON string but rather an object that can be then serialized to JSON with <code class="highlighted"><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</p>

        </div>
    </div>
    <div id="dia.Element.prototype.transition" class="docs-item">
        <a href="#dia.Element.prototype.transition" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.transition</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> value <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Allows to change the element's property gradually over a period of time. This method lets you specify what property to change (<code class="highlighted">path</code>), when the transition will start (<code class="highlighted">options<span class="token punctuation">.</span>delay</code>), how long the transition will last (<code class="highlighted">options<span class="token punctuation">.</span>duration</code>), how the transition will run (<code class="highlighted">options<span class="token punctuation">.</span>timingFunction</code>), and how to interpolate the property value (<code class="highlighted">options<span class="token punctuation">.</span>valueFunction</code>).</p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span><span class="token string">'position/x'</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    delay<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    duration<span class="token punctuation">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
    timingFunction<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> t<span class="token operator">*</span>t<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    valueFunction<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> a <span class="token operator">+</span> <span class="token punctuation">(</span>b <span class="token operator">-</span> a<span class="token punctuation">)</span> <span class="token operator">*</span> t <span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// will start changing the element's x-coordinate in 100ms, for period of 500ms.</span></code></pre>

<p>JointJS comes pre-built with some common timing and interpolating functions. The timing functions are defined in the <code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>timing</code> namespace and the interpolating functions in the <code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>interpolate</code> namespace. The predefined timing functions are:</p>

<ul>
    <li><code class="highlighted">linear</code></li>
    <li><code class="highlighted">quad</code></li>
    <li><code class="highlighted">cubic</code></li>
    <li><code class="highlighted">inout</code></li>
    <li><code class="highlighted">exponential</code></li>
    <li><code class="highlighted">bounce</code></li>
</ul>

<p>and the predefined interpolating functions are:</p>
<ul>
    <li><code class="highlighted">number</code></li>
    <li><code class="highlighted">object</code></li>
    <li><code class="highlighted">hexColor</code></li>
    <li><code class="highlighted">unit</code></li>
</ul><p></p>

<pre><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span><span class="token string">'attrs/text/font-size'</span><span class="token punctuation">,</span> <span class="token string">'1em'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> 
    valueFunction<span class="token punctuation">:</span> joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>interpolate<span class="token punctuation">.</span>unit<span class="token punctuation">,</span>
    timingFunction<span class="token punctuation">:</span> joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>timing<span class="token punctuation">.</span>bounce
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// will start changing the current font size value to 1em in the bounce fashion.</span></code></pre>

        </div>
    </div>
    <div id="dia.Element.prototype.translate" class="docs-item">
        <a href="#dia.Element.prototype.translate" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.translate</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>tx<span class="token punctuation">,</span> <span class="token punctuation">[</span>ty<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Translate an element by <code class="highlighted">tx</code> pixels in x axis and <code class="highlighted">ty</code> pixels in y axis.
            <code class="highlighted">ty</code> is optional in which case the translation in y axis will be considered zero.
            The optional options object <code class="highlighted">opt</code> can be used to pass additional parameters to the event handlers
            listening on <code class="highlighted"><span class="token string">'change:position'</span></code> events. <code class="highlighted">opt<span class="token punctuation">.</span>transition</code> can be used to initiate an animated
            transition rather than a sudden move of the element. See <a href="#dia.Element.prototype.transition">joint.dia.Element:transition</a> for more info
            on transitions. If <code class="highlighted">opt<span class="token punctuation">.</span>restrictedArea</code> is set, the translation of the element will be restricted to that area only.
            The <code class="highlighted">restrictedArea</code> is an object of the form <code class="highlighted"><span class="token punctuation">{</span> x<span class="token punctuation">:</span> Number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> Number<span class="token punctuation">,</span> width<span class="token punctuation">:</span> Number<span class="token punctuation">,</span> height<span class="token punctuation">:</span> Number <span class="token punctuation">}</span></code>.
            This is useful, e.g. if you want to restrict the translation of an embedded element within its parent. The only thing
            you have to do in this case is to pass the bounding box of the parent element to the <code class="highlighted">restrictedArea</code> option:</p>
            <pre><code class="highlighted">myElement<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> restrictedArea<span class="token punctuation">:</span> graph<span class="token punctuation">.</span><span class="token function">getCell</span><span class="token punctuation">(</span>myElement<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'parent'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
            <p>The code above makes sure that the element <code class="highlighted">myElement</code> never crosses the bounding box of its parent element.
            note that this also works if the element <code class="highlighted">myElement</code> has other embedded elements. In other words, the
            bounding box of the <code class="highlighted">myElement</code> that is used to calculate the restriction is the total bounding box,
            including all its children (in case they are <q>sticking out</q>).</p>
        </div>
    </div>
    <div id="dia.Element.prototype.unembed" class="docs-item">
        <a href="#dia.Element.prototype.unembed" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Element.prototype.unembed</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">unembed</span><span class="token punctuation">(</span>cell<span class="token punctuation">)</span></code></pre><p>Free up an embedded cell from its parent element.</p>
        </div>
    </div>
    </div>
    </div>
    <div id="dia.ElementView" class="docs-item">
    <div id="dia.ElementView.intro" class="docs-item">
        <a href="#dia.ElementView.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.ElementView</h4>
        </a>
        <div class="docs-item-content">
<p>The view for the <a href="#dia.Element">joint.dia.Element</a> model. It inherits from <a href="#dia.CellView">joint.dia.CellView</a> and is responsible for:</p>
<ul>
  <li>Rendering an element inside of a paper</li>
  <li>Handling the element's pointer events</li>
  <li>Provides various methods for working with the element (visually)</li>
</ul>
<p>To find the view associated with a specific element (model), use the <a href="#dia.Paper.prototype.findViewByModel">findViewByModel</a> method of the paper.</p>
<pre><code class="highlighted"><span class="token keyword">var</span> elementView <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">findViewByModel</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.ElementView.prototype" class="docs-item">
    <div id="dia.ElementView.prototype.getBBox" class="docs-item">
        <a href="#dia.ElementView.prototype.getBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ElementView.prototype.getBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">elementView<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Return a bounding box of the element view.</p>

<p>If <code class="highlighted">opt<span class="token punctuation">.</span>useModelGeometry</code> option is set to <code class="highlighted"><span class="token boolean">true</span></code>, the resulting bounding box is calculated based on the dimensions of the element model. (This means that SVG sub elements <q>sticking out</q> of the element are excluded.) This behavior is similar to the <code class="highlighted">element<span class="token punctuation">.</span>getBBox</code> <a href="#dia.Element.prototype.getBBox">function</a> – but the <code class="highlighted">elementView</code> function transforms the bounding box to match <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</code> translation and scaling.</p>

        </div>
    </div>
    <div id="dia.ElementView.prototype.getNodeBBox" class="docs-item">
        <a href="#dia.ElementView.prototype.getNodeBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ElementView.prototype.getNodeBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">elementView<span class="token punctuation">.</span><span class="token function">getNodeBBox</span><span class="token punctuation">(</span>magnet<span class="token punctuation">)</span></code></pre>
<p>Return the bounding box of the SVGElement provided as <code class="highlighted">magnet</code> (element/subelement/port of this element view).</p>

<p>Use the <code class="highlighted">paper<span class="token punctuation">.</span>localToPaperRect</code> <a href="dia.Paper.prototype.localToPaperRect">function</a> to transform the returned bounding box to match the paper's translation and scaling.</p>

        </div>
    </div>
    <div id="dia.ElementView.prototype.getNodeUnrotatedBBox" class="docs-item">
        <a href="#dia.ElementView.prototype.getNodeUnrotatedBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ElementView.prototype.getNodeUnrotatedBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">elementView<span class="token punctuation">.</span><span class="token function">getNodeUnrotatedBBox</span><span class="token punctuation">(</span>magnet<span class="token punctuation">)</span></code></pre>
<p>Return the unrotated bounding box of the SVGElement provided as <code class="highlighted">magnet</code> (element/subelement/port of this element view).</p>

<p>Use the <code class="highlighted">paper<span class="token punctuation">.</span>localToPaperRect</code> <a href="dia.Paper.prototype.localToPaperRect">function</a> to transform the returned bounding box to match the paper's translation and scaling.</p>

        </div>
    </div>
    </div>
    </div>
    <div id="dia.Graph" class="docs-item">
    <div id="dia.Graph.constructor" class="docs-item">
        <a href="#dia.Graph.constructor" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Graph.constructor</h4>
        </a>
        <div class="docs-item-content">
<p>
                    <b>joint.dia.Graph</b> is the model holding all the cells (elements and links) of the diagram. It's a <a href="http://backbonejs.org/#Model">Backbone model</a>.
                    The collection of all the cells is stored in the property <b><code class="highlighted">cells</code></b>.
                </p><p>
                  The graph is a powerful data model behind all JointJS diagrams. It not only provides an efficient storage
                  for directed graphs but also offers useful algorithms for traversing the graphs.
                </p><p>
                  Additionally, the graph accepts an option object in its constructor function that can contain the <code class="highlighted">cellNamespace</code> option.
                    This option can be used to change the default behavior of JointJS which by default reads cell model definitions from the <code class="highlighted">joint<span class="token punctuation">.</span>shapes</code> namespace.
                    For example, if a cell is of type <code class="highlighted"><span class="token string">'myshapes.MyElement'</span></code>, then the graph looks up <code class="highlighted">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>myshapes<span class="token punctuation">.</span>MyElement</code>
                    model when deserializing a graph from the JSON format. If the graph is instantiated as e.g. <code class="highlighted"><span class="token keyword">var</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> cellNamespace<span class="token punctuation">:</span> myShapesNamespace <span class="token punctuation">}</span><span class="token punctuation">)</span></code>, then
                    the graph will read the model definition from the <code class="highlighted">myShapesNamespace<span class="token punctuation">.</span>myshapes<span class="token punctuation">.</span>MyElement</code> object instead. This is useful in situations where you don't want to - for any reason -
                  use the <code class="highlighted">joint<span class="token punctuation">.</span>shapes</code> namespace for defining your own custom shapes. This option is often used in combination with the
                  <code class="highlighted">cellNamespaceView</code> option on the <a href="#dia.Paper.prototype.options.cellViewNamespace">joint.dia.Paper</a> object.
                </p>
        </div>
    </div>
    <div id="dia.Graph.events" class="docs-item">
        <a href="#dia.Graph.events" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Graph.events</h4>
        </a>
        <div class="docs-item-content">
<p>The following list contains events that you can react on:</p>

<ul>
    <li><code class="highlighted">change</code> - generic event triggered for any change in the graph</li>
    <li><code class="highlighted">add</code> - triggered when a new cell is added to the graph</li>
    <li><code class="highlighted">remove</code> - triggered when a cell is removed from the graph</li>
    <li>Moreover, all the events that are triggered on elements or links are propagated to the graph as well.</li>
</ul>

<pre><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'add'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>cell<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'New cell with id '</span> <span class="token operator">+</span> cell<span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">' added to the graph.'</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>

        </div>
    </div>
    <div id="dia.Graph.JSON" class="docs-item">
        <a href="#dia.Graph.JSON" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Graph.JSON</h4>
        </a>
        <div class="docs-item-content">
<p>The JointJS graph JSON representation has the following format:</p>
<pre><code data-lang="javascript" class="highlighted"><span class="token punctuation">{</span>
    cells<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token comment">// Array of cells (ie. links and elements).</span>
        <span class="token punctuation">{</span>
            id<span class="token punctuation">:</span> <span class="token string">'3d90f661-fe5f-45dc-a938-bca137691eeb'</span><span class="token punctuation">,</span><span class="token comment">// Some randomly generated UUID.</span>
            type<span class="token punctuation">:</span> <span class="token string">'basic.Rect'</span><span class="token punctuation">,</span>
            attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">'stroke'</span><span class="token punctuation">:</span> <span class="token string">'#000'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            position<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                y<span class="token punctuation">:</span> <span class="token number">50</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            angle<span class="token punctuation">:</span> <span class="token number">90</span><span class="token punctuation">,</span>
            size<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
                height<span class="token punctuation">:</span> <span class="token number">50</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            z<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            embeds<span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token string">'0c6bf4f1-d5db-4058-9e85-f2d6c74a7a30'</span><span class="token punctuation">,</span>
                <span class="token string">'cdbfe073-b160-4e8f-a9a0-22853f29cc06'</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            parent<span class="token punctuation">:</span> <span class="token string">'31f348fe-f5c6-4438-964e-9fc9273c02cb'</span>
            <span class="token comment">// ... and some other, maybe custom, data properties</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Graph.prototype" class="docs-item">
    <div id="dia.Graph.prototype.addCell" class="docs-item">
        <a href="#dia.Graph.prototype.addCell" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.addCell</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>cell<span class="token punctuation">)</span></code></pre>

<p>Add a new cell to the graph. If <code class="highlighted">cell</code> is an array, all the cells in the array will be added to the graph.</p>

<pre><code class="highlighted"><span class="token keyword">var</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>Rect</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 
    position<span class="token punctuation">:</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    size<span class="token punctuation">:</span> <span class="token punctuation">{</span> width<span class="token punctuation">:</span> <span class="token number">70</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span> text<span class="token punctuation">:</span> <span class="token punctuation">{</span> text<span class="token punctuation">:</span> <span class="token string">'my rectangle'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> rect2 <span class="token operator">=</span> rect<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">{</span> source<span class="token punctuation">:</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> rect<span class="token punctuation">.</span>id <span class="token punctuation">}</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> rect2<span class="token punctuation">.</span>id <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</span>
graph<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>rect2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span></code></pre>

        </div>
    </div>
    <div id="dia.Graph.prototype.addCells" class="docs-item">
        <a href="#dia.Graph.prototype.addCells" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.addCells</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">addCells</span><span class="token punctuation">(</span>cells<span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">addCells</span><span class="token punctuation">(</span>cell<span class="token punctuation">,</span> cell<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Add new cells to the graph. This is just a convenience method that wraps the <a href="#dia.Graph.prototype.addCell">addCell</a> method.</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.bfs" class="docs-item">
        <a href="#dia.Graph.prototype.bfs" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.bfs</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">bfs</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> iteratee <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Traverse the graph using the <a target="_blank" href="https://en.wikipedia.org/wiki/Breadth-first_search">Breadth-first search algorithm</a> starting at <code class="highlighted">element</code> (note the element itself will be visited too). <code class="highlighted">iteratee</code> is a function of the form <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> distance<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code> that will be called with the currently visited element and distance of that element from the root element of the search (the <code class="highlighted">element</code> passed to <code class="highlighted"><span class="token function">bfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>). If <code class="highlighted">iteratee</code> explicitely returns <code class="highlighted"><span class="token boolean">false</span></code>, the search stops.</p>
<p>The following image shows the order in which elements are traversed in the graph:</p>
<p><img width="200" alt="graph BFS algorithm" title="graph BFS algorithm" src="images/joint.dia.Graph.bfs.png"></p>
<p>Note that the <code class="highlighted"><span class="token function">bfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> algorithm is not only capable of traversing tree graphs but it can traverse any directed graph too.</p>
<p>It is smart enough not to traverse an element that was already visited.</p>
<p>If <code class="highlighted">opt<span class="token punctuation">.</span>inbound</code> is <code class="highlighted"><span class="token boolean">true</span></code>, reverse the search direction (it's like reversing all the link directions, i.e. swaping their <code class="highlighted">source</code> and <code class="highlighted">target</code>).</p>
<p>If <code class="highlighted">opt<span class="token punctuation">.</span>outbound</code> is <code class="highlighted"><span class="token boolean">true</span></code>, search follows the link directions. Calling <code class="highlighted"><span class="token function">bfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> with <code class="highlighted">opt<span class="token punctuation">.</span>outbound</code> set to <code class="highlighted"><span class="token boolean">true</span></code> is the most common case (graph is traversed following the direction of links).</p>
<p>If none of <code class="highlighted">opt<span class="token punctuation">.</span>inbound</code> and <code class="highlighted">opt<span class="token punctuation">.</span>outbound</code> are used or both options are set to <code class="highlighted"><span class="token boolean">true</span></code>, the graph is traversed in both directions (very rare use case).</p>
<p>If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code>, the traversal takes into account embedded elements too. This option has the usual meaning as in other methods were <code class="highlighted">deep</code> option is used. For example, in a hierarchy A (top level element), A1 (embedded in A), B (top level element), where A is not directly connected to B but its embedded element is (there is a link from A1 ----&gt; B), bfs(A)would not visit B but bfs(A, function() {}, { deep: true }) would.</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.clear" class="docs-item">
        <a href="#dia.Graph.prototype.clear" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.clear</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">[</span>options<span class="token punctuation">)</span></code></pre>

<p>Remove all the cells from the graph. <code class="highlighted">options</code> object can optionally contain additional data that is passed overto the event listeners of the graph cells remove event.</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.cloneCells" class="docs-item">
        <a href="#dia.Graph.prototype.cloneCells" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.cloneCells</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">cloneCells</span><span class="token punctuation">(</span>cells<span class="token punctuation">)</span></code></pre><p>Clone all the cells (elements and/or links) from the <code class="highlighted">cells</code> array and return an
                  object that maps the original cell ID to the clone (i.e. an object of the form <code class="highlighted"><span class="token punctuation">{</span> <span class="token punctuation">[</span>original cell <span class="token constant">ID</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>clone<span class="token punctuation">]</span> <span class="token punctuation">}</span></code>).
                  The reason why this object is returned instead of an array of clones is that it is very useful to know which object the clone
                  was created for.
                  <br>
                  The number of clones returned equals <code class="highlighted">cells<span class="token punctuation">.</span>length</code>. This function does not simply
                  clone all the cells but it also reconstructs all the source/target and parent/embed references
                  within <code class="highlighted">cells</code>. This is very useful. For example, for a graph <code class="highlighted"><span class="token constant">A</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token constant">L</span> <span class="token operator">--</span><span class="token operator">-</span><span class="token operator">></span> <span class="token constant">B</span></code>, 
                  <code class="highlighted"><span class="token function">cloneCells</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">L</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code> returns <code class="highlighted"><span class="token punctuation">{</span> <span class="token constant">A</span><span class="token punctuation">.</span>id<span class="token punctuation">:</span> <span class="token constant">A2</span><span class="token punctuation">,</span> <span class="token constant">L</span><span class="token punctuation">.</span>id<span class="token punctuation">:</span> <span class="token constant">L2</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">.</span>id<span class="token punctuation">:</span> <span class="token constant">B2</span> <span class="token punctuation">}</span></code> resulting
                  in a graph <code class="highlighted"><span class="token constant">A2</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token constant">L2</span> <span class="token operator">--</span><span class="token operator">-</span><span class="token operator">></span> <span class="token constant">B2</span></code>, i.e. the source and target of the link <code class="highlighted"><span class="token constant">L2</span></code>
                  is changed to point to <code class="highlighted"><span class="token constant">A2</span></code> and <code class="highlighted"><span class="token constant">B2</span></code> (in contrast to just looping over <code class="highlighted">cells</code>
                  and calling <code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> on each item).
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.cloneSubgraph" class="docs-item">
        <a href="#dia.Graph.prototype.cloneSubgraph" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.cloneSubgraph</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">cloneSubgraph</span><span class="token punctuation">(</span>cells <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Clone the whole subgraph, including all the connected links whose source/target is in the subgraph.
                  This is equivalent to calling <code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">cloneCells</span><span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">getSubgraph</span><span class="token punctuation">(</span>cells<span class="token punctuation">)</span><span class="token punctuation">)</span></code>.
                  <br>
                  If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code>, take into account embedded cells of the subgraph cells.
                  <br>                  
                  Return an object of the form <code class="highlighted"><span class="token punctuation">{</span> <span class="token punctuation">[</span>original cell <span class="token constant">ID</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>clone<span class="token punctuation">]</span> <span class="token punctuation">}</span></code>.
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.dfs" class="docs-item">
        <a href="#dia.Graph.prototype.dfs" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.dfs</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">dfs</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> iteratee <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Traverse the graph using the <a target="_blank" href="https://en.wikipedia.org/wiki/Depth-first_search">Depth-first search algorithm</a> starting at <code class="highlighted">element</code> (note the element itself will be visited too). <code class="highlighted">iterate</code> is a function of the form <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> distance<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code> that will be called with the currently visited element and distance of that element from the root element of the search (the <code class="highlighted">element</code> passed to <code class="highlighted"><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>). If <code class="highlighted">iteratee</code> explicitely returns <code class="highlighted"><span class="token boolean">false</span></code>, the search stops.</p>
<p>The following image shows the order in which elements are traversed in the graph:</p>
<p><img width="200" alt="graph DFS algorithm" title="graph DFS algorithm" src="images/joint.dia.Graph.dfs.png"></p>
<p>Note that the <code class="highlighted"><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> algorithm is not only capable of traversing tree graphs but it can traverse any directed graph too. It is smart enough not to traverse an element that was already visited.</p>
<p>If <code class="highlighted">opt<span class="token punctuation">.</span>inbound</code> is <code class="highlighted"><span class="token boolean">true</span></code>, reverse the search direction (it's like reversing all the link directions, i.e. swaping their <code class="highlighted">source</code> and <code class="highlighted">target</code>).</p>
<p>If <code class="highlighted">opt<span class="token punctuation">.</span>outbound</code> is <code class="highlighted"><span class="token boolean">true</span></code>, search follows the link directions. Calling <code class="highlighted"><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
with <code class="highlighted">opt<span class="token punctuation">.</span>outbound</code> set to <code class="highlighted"><span class="token boolean">true</span></code> is the most common case (graph is traversed following the direction of links).</p>
<p>If none of <code class="highlighted">opt<span class="token punctuation">.</span>inbound</code> and <code class="highlighted">opt<span class="token punctuation">.</span>outbound</code> are used or both options are set to <code class="highlighted"><span class="token boolean">true</span></code>, the graph is traversed in both directions (very rare use case).</p>
<p>If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code>, the traversal takes into account embedded elements too. This option has the usual meaning as in other methods were <code class="highlighted">deep</code> option is used. For example, in a hierarchy A (top level element), A1 (embedded in A), B (top level element), where A is not directly connected to B but its embedded element is (there is a link from A1 ----&gt; B), dfs(A) would not visit B but dfs(A, function() {}, { deep: true }) would.</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.disconnectLinks" class="docs-item">
        <a href="#dia.Graph.prototype.disconnectLinks" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.disconnectLinks</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">disconnectLinks</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code></pre><p>Disconnect all the associated links with the <code class="highlighted">element</code>.</p>
        </div>
    </div>
    <div id="dia.Graph.prototype.findModelsFromPoint" class="docs-item">
        <a href="#dia.Graph.prototype.findModelsFromPoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.findModelsFromPoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">findModelsFromPoint</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span></code></pre><p>Find elements (instance of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code>) under a certain point in the graph. <code class="highlighted">point</code> is an object with <code class="highlighted">x</code> and <code class="highlighted">y</code> properties. Returns an
                array of elements whose bounding box contains <code class="highlighted">point</code>. Note that there can be more then one element as elements might overlap.</p>
        </div>
    </div>
    <div id="dia.Graph.prototype.findModelsInArea" class="docs-item">
        <a href="#dia.Graph.prototype.findModelsInArea" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.findModelsInArea</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">findModelsInArea</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span></code></pre><p>Find elements (instance of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code>) in a certain area in the graph. <code class="highlighted">rect</code> is an object with <code class="highlighted">x</code>, <code class="highlighted">y</code>, <code class="highlighted">width</code> and <code class="highlighted">height</code> properties. Returns an
                array of elements whose bounding box top/left coordinate falls into the <code class="highlighted">rect</code> rectangle.</p>
        </div>
    </div>
    <div id="dia.Graph.prototype.findModelsUnderElement" class="docs-item">
        <a href="#dia.Graph.prototype.findModelsUnderElement" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.findModelsUnderElement</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">findModelsUnderElement</span><span class="token punctuation">(</span>element <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Find all the elements (instances of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code>) that are located below <code class="highlighted">element</code>.
                  <code class="highlighted">opt<span class="token punctuation">.</span>searchBy</code> parameter optionally determines what it means for an element to be below another element.
                  Possible values are <code class="highlighted"><span class="token string">'bbox'</span></code> (default), <code class="highlighted"><span class="token string">'center'</span></code>, <code class="highlighted"><span class="token string">'origin'</span></code>, <code class="highlighted"><span class="token string">'corner'</span></code>, <code class="highlighted"><span class="token string">'topRight'</span></code>,
                  and <code class="highlighted"><span class="token string">'bottomLeft'</span></code>.
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.fromJSON" class="docs-item">
        <a href="#dia.Graph.prototype.fromJSON" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.fromJSON</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">fromJSON</span><span class="token punctuation">(</span>jsonObject<span class="token punctuation">,</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Load a graph from a JSON object (not string). Used in conjunction with the <code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Graph.prototype.toJSON">function</a>.</p>

<p>The <code class="highlighted">options</code> object may contain additional data that is passed over to graph change event listeners.</p>

<p>Note that this method does not expect a JSON string but rather an object in the JSON format. Use <code class="highlighted"><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>jsonString<span class="token punctuation">)</span></code> if you need to convert a JSON string into the object form:</p>

<pre><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">fromJSON</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>jsonString<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Example of storing stringified JSON objects:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> jsonString <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ... send jsonString to the server</span>
<span class="token comment">// store jsonString to localStorage or do whatever you want</span>
<span class="token comment">// later on ...</span>
graph<span class="token punctuation">.</span><span class="token function">fromJSON</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>jsonString<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Example of storing JSON objects directly:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> jsonObject <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ... send jsonObject to the server</span>
<span class="token comment">// store jsonObject (e.g. in a non-relational database)</span>
<span class="token comment">// later on ...</span>
graph<span class="token punctuation">.</span><span class="token function">fromJSON</span><span class="token punctuation">(</span>jsonObject<span class="token punctuation">)</span></code></pre>

        </div>
    </div>
    <div id="dia.Graph.prototype.getBBox" class="docs-item">
        <a href="#dia.Graph.prototype.getBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getBBox</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Returns the bounding box (<a href="geometry.html#g.Rect">g.Rect</a>) that surrounds all cells in the graph. It returns <code class="highlighted">nul</code> if the graph is empty.</p>
<pre><code class="highlighted"><span class="token keyword">var</span> bbox <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Graph.prototype.getCell" class="docs-item">
        <a href="#dia.Graph.prototype.getCell" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getCell</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getCell</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span></code></pre><p>Get a cell from the graph by its <code class="highlighted">id</code>.</p>
        </div>
    </div>
    <div id="dia.Graph.prototype.getCells" class="docs-item">
        <a href="#dia.Graph.prototype.getCells" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getCells</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getCells</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Get all the elements and links in the graph.</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.getCellsBBox" class="docs-item">
        <a href="#dia.Graph.prototype.getCellsBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getCellsBBox</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getCellsBBox</span><span class="token punctuation">(</span>cells<span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Returns the bounding box (<a href="geometry.html#g.Rect">g.Rect</a>) that surrounds all the given cells.</p>
<pre><code class="highlighted"><span class="token comment">// Get the bounding box of all `el1` successors and their embeds</span>
<span class="token keyword">var</span> bbox <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getCellsBBox</span><span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">getSuccessors</span><span class="token punctuation">(</span>el1<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> deep<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Graph.prototype.getCommonAncestor" class="docs-item">
        <a href="#dia.Graph.prototype.getCommonAncestor" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getCommonAncestor</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getCommonAncestor</span><span class="token punctuation">(</span><span class="token operator">...</span>cells<span class="token punctuation">)</span></code></pre>
<p>Return the common ancestor of all the cells passed as arguments. For example, if an element <code class="highlighted"><span class="token constant">B</span></code> is embedded in an element <code class="highlighted"><span class="token constant">A</span></code> and an element <code class="highlighted"><span class="token constant">C</span></code> is also embedded in the element <code class="highlighted"><span class="token constant">A</span></code>, <code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getCommonAncestor</span><span class="token punctuation">(</span><span class="token constant">B</span><span class="token punctuation">,</span> <span class="token constant">C</span><span class="token punctuation">)</span></code> returns the element <code class="highlighted"><span class="token constant">A</span></code>. This also works on an arbitrary deep hierarchy.</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.getConnectedLinks" class="docs-item">
        <a href="#dia.Graph.prototype.getConnectedLinks" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getConnectedLinks</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getConnectedLinks</span><span class="token punctuation">(</span>element <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Get all links connected with <code class="highlighted">element</code>.</p>

<p>If <code class="highlighted">opt<span class="token punctuation">.</span>inbound <span class="token operator">===</span> <span class="token boolean">true</span></code>, return only inbound connected links. Conversely, if <code class="highlighted">opt<span class="token punctuation">.</span>outbound <span class="token operator">===</span> <span class="token boolean">true</span></code>, return only outbound connected links. If both of these options were left undefined, or if both of them were set to <code class="highlighted"><span class="token boolean">true</span></code>, return inbound as well as outbound links.</p>

<p>By default, this function returns only immediate (<q>shallow</q>) inbound and outbound links - no recursion. (Note that connections from <code class="highlighted">element</code> to embedded child elements, and connections to <code class="highlighted">element</code> from embedding parent elements count as <q>shallow</q>, too - they too are returned.)</p>

<p>If <code class="highlighted">opt<span class="token punctuation">.</span>deep <span class="token operator">===</span> <span class="token boolean">true</span></code>, return all outside links that connect with <code class="highlighted">element</code> or any of its descendants (<q>descendants</q> meaning elements that are embedded or deeply embedded within <code class="highlighted">element</code>). The <code class="highlighted">inbound</code> and <code class="highlighted">outbound</code> options can still be applied on top of this option.</p>

<p>Note that the specification of <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> excludes links that connect two descendants of <code class="highlighted">element</code> (<q>enclosed</q> links). If you do need to find all links connected with and/or enclosed within <code class="highlighted">element</code>, you should use <code class="highlighted">opt<span class="token punctuation">.</span>deep <span class="token operator">===</span> <span class="token boolean">true</span></code> alongside an additional option: <code class="highlighted">opt<span class="token punctuation">.</span>includeEnclosed <span class="token operator">===</span> <span class="token boolean">true</span></code>.</p>

<p>Example use:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> links <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getConnectedLinks</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// inbound and outbound</span>
<span class="token keyword">var</span> links <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getConnectedLinks</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token punctuation">{</span> outbound<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> links <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getConnectedLinks</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token punctuation">{</span> deep<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// inbound and outbound</span>
<span class="token keyword">var</span> links <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getConnectedLinks</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token punctuation">{</span> inbound<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> deep<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> links <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getConnectedLinks</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token punctuation">{</span> outbound<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> deep<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> includeEnclosed<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Graph.prototype.getElements" class="docs-item">
        <a href="#dia.Graph.prototype.getElements" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getElements</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Get all the elements in the graph (i.e. omit links).</p>
        </div>
    </div>
    <div id="dia.Graph.prototype.getFirstCell" class="docs-item">
        <a href="#dia.Graph.prototype.getFirstCell" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getFirstCell</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getFirstCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Get the first cell (element or link) in the graph. The first cell is defined as the cell
                with the lowest <code class="highlighted">z</code> property (the cell most in the back, see the Presentation section of <a href="#dia.Element">joint.dia.Element</a>).</p>
        </div>
    </div>
    <div id="dia.Graph.prototype.getLastCell" class="docs-item">
        <a href="#dia.Graph.prototype.getLastCell" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getLastCell</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getLastCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Get the last cell (element or link) in the graph. The last cell is defined as the cell
                with the highest <code class="highlighted">z</code> property (the cell most in the front, see the Presentation section of <a href="#dia.Element">joint.dia.Element</a>).</p>
        </div>
    </div>
    <div id="dia.Graph.prototype.getLinks" class="docs-item">
        <a href="#dia.Graph.prototype.getLinks" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getLinks</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getLinks</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Get all the links in the graph (i.e. omit elements).</p>
        </div>
    </div>
    <div id="dia.Graph.prototype.getNeighbors" class="docs-item">
        <a href="#dia.Graph.prototype.getNeighbors" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getNeighbors</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getNeighbors</span><span class="token punctuation">(</span>element <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Get all the neighbors of <code class="highlighted">element</code> in the graph. Neighbors are all the elements connected
                to <code class="highlighted">element</code> via either an inbound or an outbound link. If <code class="highlighted">opt<span class="token punctuation">.</span>inbound</code> is <code class="highlighted"><span class="token boolean">true</span></code>,
                only inbound neighbords (all neighbors connected with a link who's <code class="highlighted">target</code> is the <code class="highlighted">element</code>) will be returned. Similarly, if <code class="highlighted">opt<span class="token punctuation">.</span>outbound</code> is <code class="highlighted"><span class="token boolean">true</span></code>, only
                outbound neighbors will be returned. If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code>,
                return also all the neighbors of all the elements embedded inside <code class="highlighted">element</code>.</p>
        </div>
    </div>
    <div id="dia.Graph.prototype.getPredecessors" class="docs-item">
        <a href="#dia.Graph.prototype.getPredecessors" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getPredecessors</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getPredecessors</span><span class="token punctuation">(</span>element <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Return an array of all the predecessors of <code class="highlighted">element</code>. By default, <a href="#dia.Graph.prototype.dfs">Depth-first search algorithm</a> is used (important for the order of returned elements).
                  <br>
                  If <code class="highlighted">opt<span class="token punctuation">.</span>breadthFirst</code> is set to <code class="highlighted"><span class="token boolean">true</span></code>, use <a href="#dia.Graph.prototype.bfs">Breadth-first search algorithm</a> instead.
                  <br>
                  If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is set to <code class="highlighted"><span class="token boolean">true</span></code>, take into account embedded elements too (see <a href="#dia.Graph.prototype.dfs">dfs()</a> for details).
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.getSinks" class="docs-item">
        <a href="#dia.Graph.prototype.getSinks" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getSinks</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getSinks</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Return an array of all the leafs of the graph.
                  Time complexity: <code class="highlighted"><span class="token constant">O</span><span class="token punctuation">(</span><span class="token operator">|</span><span class="token constant">V</span><span class="token operator">|</span><span class="token punctuation">)</span></code>.
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.getSources" class="docs-item">
        <a href="#dia.Graph.prototype.getSources" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getSources</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getSources</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Return an array of all the roots of the graph.
                  Time complexity: <code class="highlighted"><span class="token constant">O</span><span class="token punctuation">(</span><span class="token operator">|</span><span class="token constant">V</span><span class="token operator">|</span><span class="token punctuation">)</span></code>.
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.getSubgraph" class="docs-item">
        <a href="#dia.Graph.prototype.getSubgraph" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getSubgraph</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getSubgraph</span><span class="token punctuation">(</span>cells <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Return an array of cells that result from finding elements/links that are connected to any of the cells in the <code class="highlighted">cells</code> array.
                  This function loops over <code class="highlighted">cells</code> and if the current cell is a link, it collects its source/target elements; if it is an element,
                  it collects its incoming and outgoing links if both the link ends (source/target) are in the <code class="highlighted">cells</code> array.
                  For example, for a single element, the result is that very same element.
                  For two elements connected with a link: <code class="highlighted"><span class="token constant">A</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token constant">L</span> <span class="token operator">--</span><span class="token operator">-</span><span class="token operator">></span> <span class="token constant">B</span></code>, the result of <code class="highlighted"><span class="token function">getSubgraph</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code>
                  is <code class="highlighted"><span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">L</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">]</span></code> and the result of <code class="highlighted"><span class="token function">getSubgraph</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token constant">L</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code> is also <code class="highlighted"><span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">L</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">]</span></code>.
                  <br>
                  If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code> take into account all the embedded cells too when finding neighboring links/elements.
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.getSuccessors" class="docs-item">
        <a href="#dia.Graph.prototype.getSuccessors" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.getSuccessors</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">getSuccessors</span><span class="token punctuation">(</span>element <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Return an array of all the successors of <code class="highlighted">element</code>. By default, <a href="#dia.Graph.prototype.dfs">Depth-first search algorithm</a> is used (important for the order of returned elements).
                  <br>
                  If <code class="highlighted">opt<span class="token punctuation">.</span>breadthFirst</code> is set to <code class="highlighted"><span class="token boolean">true</span></code>, use <a href="#dia.Graph.prototype.bfs">Breadth-first search algorithm</a> instead.
                  <br>
                  If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is set to <code class="highlighted"><span class="token boolean">true</span></code>, take into account embedded elements too (see <a href="#dia.Graph.prototype.dfs">dfs()</a> for details).
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.isNeighbor" class="docs-item">
        <a href="#dia.Graph.prototype.isNeighbor" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.isNeighbor</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">isNeighbor</span><span class="token punctuation">(</span>elementA<span class="token punctuation">,</span> elementB <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Return <code class="highlighted"><span class="token boolean">true</span></code> if <code class="highlighted">elementB</code> is a neighbor of <code class="highlighted">elementA</code>.
                  If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is set to <code class="highlighted"><span class="token boolean">true</span></code>, take into account embedded elements.
                  <br>
                  If <code class="highlighted">opt<span class="token punctuation">.</span>outbound</code> is set to <code class="highlighted"><span class="token boolean">true</span></code>, return <code class="highlighted"><span class="token boolean">true</span></code> only if <code class="highlighted">elementB</code> is a successing neighbor of <code class="highlighted">elementA</code>.
                  <br>
                  Similarly, if <code class="highlighted">opt<span class="token punctuation">.</span>inbound</code> is set to <code class="highlighted"><span class="token boolean">true</span></code>, return <code class="highlighted"><span class="token boolean">true</span></code> only if <code class="highlighted">elementB</code> is a preceeding neighbor of <code class="highlighted">elementA</code>.
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.isPredecessor" class="docs-item">
        <a href="#dia.Graph.prototype.isPredecessor" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.isPredecessor</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">isPredecessor</span><span class="token punctuation">(</span>elementA<span class="token punctuation">,</span> elementB<span class="token punctuation">)</span></code></pre><p>Return <code class="highlighted"><span class="token boolean">true</span></code> if <code class="highlighted">elementB</code> is a predecessor of <code class="highlighted">elementA</code>.
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.isSink" class="docs-item">
        <a href="#dia.Graph.prototype.isSink" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.isSink</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">isSink</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code></pre><p>Return <code class="highlighted"><span class="token boolean">true</span></code> if <code class="highlighted">element</code> is a leaf, i.e. there is no link coming out of the element.
                  Time complexity: <code class="highlighted"><span class="token constant">O</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></code>.
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.isSource" class="docs-item">
        <a href="#dia.Graph.prototype.isSource" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.isSource</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">isSource</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code></pre><p>Return <code class="highlighted"><span class="token boolean">true</span></code> if <code class="highlighted">element</code> is a root, i.e. there is no link that targets the element.
                  Time complexity: <code class="highlighted"><span class="token constant">O</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></code>.
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.isSuccessor" class="docs-item">
        <a href="#dia.Graph.prototype.isSuccessor" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.isSuccessor</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">isSuccessor</span><span class="token punctuation">(</span>elementA<span class="token punctuation">,</span> elementB<span class="token punctuation">)</span></code></pre><p>Return <code class="highlighted"><span class="token boolean">true</span></code> if <code class="highlighted">elementB</code> is a successor of <code class="highlighted">elementA</code>.
                </p>
        </div>
    </div>
    <div id="dia.Graph.prototype.maxZIndex" class="docs-item">
        <a href="#dia.Graph.prototype.maxZIndex" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.maxZIndex</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">maxZIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Get the highest Z value in the graph (the value of the cell on front).</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.minZIndex" class="docs-item">
        <a href="#dia.Graph.prototype.minZIndex" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.minZIndex</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">minZIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Get the lowest Z value in the graph (the value of the cell on the back).</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.removeCells" class="docs-item">
        <a href="#dia.Graph.prototype.removeCells" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.removeCells</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">removeCells</span><span class="token punctuation">(</span>cells<span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">removeCells</span><span class="token punctuation">(</span>cell<span class="token punctuation">,</span> cell<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Removes the given cells from the graph.</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.removeLinks" class="docs-item">
        <a href="#dia.Graph.prototype.removeLinks" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.removeLinks</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">removeLinks</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code></pre><p>Remove all the associated links with the <code class="highlighted">element</code>.</p>
        </div>
    </div>
    <div id="dia.Graph.prototype.resetCells" class="docs-item">
        <a href="#dia.Graph.prototype.resetCells" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.resetCells</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">resetCells</span><span class="token punctuation">(</span>cells<span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">resetCells</span><span class="token punctuation">(</span>cell<span class="token punctuation">,</span> cell<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Reset cells in the graph. Update all the cells in the graph in one bulk. This is a more efficient method of adding cells to the graph if you ou want to replace all the cells in one go. <code class="highlighted">options</code> object can optionally contain additional data that is passed over to the event listeners of the graph reset event.</p>

        </div>
    </div>
    <div id="dia.Graph.prototype.search" class="docs-item">
        <a href="#dia.Graph.prototype.search" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.search</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> iteratee <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Traverse the graph starting at <code class="highlighted">element</code> following links. This function is a wrapper around
                <a href="#dia.Graph.prototype.dfs">dfs()</a> or <a href="#dia.Graph.prototype.bfs">bfs()</a>. By default, it uses <code class="highlighted"><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. If <code class="highlighted">opt<span class="token punctuation">.</span>breadthFirst</code> is set to <code class="highlighted"><span class="token boolean">true</span></code>, <code class="highlighted"><span class="token function">bfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> will be used instead.</p>
        </div>
    </div>
    <div id="dia.Graph.prototype.toJSON" class="docs-item">
        <a href="#dia.Graph.prototype.toJSON" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.toJSON</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<p>Return an object representation of the graph, which can be used for persistence or serialization. Use the <code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">fromJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Graph.prototype.fromJSON">function</a> to load a previously converted graph.</p>

<p>Note that this method does not return a JSON string but rather an object that can then be serialized to JSON with <code class="highlighted"><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>jsonObject<span class="token punctuation">)</span></code>:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> jsonString <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Graph.prototype.translate" class="docs-item">
        <a href="#dia.Graph.prototype.translate" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Graph.prototype.translate</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>tx<span class="token punctuation">,</span> ty <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Translate all cells in the graph by <code class="highlighted">tx</code> and <code class="highlighted">ty</code> pixels. It uses the <a href="#dia.Element.prototype.translate"><code class="highlighted">dia<span class="token punctuation">.</span>Element<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>
                  and <a href="#dia.Link.prototype.translate"><code class="highlighted">dia<span class="token punctuation">.</span>Link<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> methods internally.</p>
        </div>
    </div>
    </div>
    </div>
    <div id="dia.Link" class="docs-item">
    <div id="dia.Link.intro" class="docs-item">
        <a href="#dia.Link.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Link</h4>
        </a>
        <div class="docs-item-content">
<p>The basic model for diagram links. It inherits from <a href="#dia.Cell">joint.dia.Cell</a> with a few additional properties and methods specific to links.</p>

<p>Links have two crucial attributes: <code class="highlighted">source</code> and <code class="highlighted">target</code>. They define the starting point and the end point of the link. They can be defined as an element id or as a Point:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> link1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    source<span class="token punctuation">:</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> sourceId <span class="token punctuation">}</span><span class="token punctuation">,</span>
    target<span class="token punctuation">:</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> targetId<span class="token punctuation">,</span> port<span class="token punctuation">:</span> portId <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> link2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    source<span class="token punctuation">:</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> sourceId <span class="token punctuation">}</span><span class="token punctuation">,</span>
    target<span class="token punctuation">:</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">100</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>These are not the only attributes that may be specified for a newly-created <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code>, however. An individual link instance may provide a value for these attributes:</p>

<ul>
    <li><code class="highlighted">markup</code> - provide custom link markup. May be specified as an <a href="#dia.Cell.markup">XML string or JSON array</a>.</li>
    <li><code class="highlighted">attrs</code> - provide custom link attributes. These allow you to change the style and size of SVG elements, identified by their selectors.</li>
    <li><code class="highlighted">vertices</code> - provide an array of <a href="#dia.Link.prototype.vertex">vertices</a>.</li>
    <li><code class="highlighted">vertexMarkup</code> - provide custom vertex markup (on hover).</li>
    <li><code class="highlighted">toolMarkup</code> - provide custom tool markup (on hover).</li>
    <li><code class="highlighted">doubleToolMarkup</code> - provide custom markup for second set of tools (on hover, if <code class="highlighted">linkView<span class="token punctuation">.</span>doubleLinkTools</code> is <code class="highlighted"><span class="token boolean">true</span></code>).</li>
    <li><code class="highlighted">arrowheadMarkup</code> - provide custom arrowhead markup (on hover).</li>
    <li><code class="highlighted">labels</code> - provide an array of <a href="#dia.Link.prototype.label">labels</a>. Each can have its own markup, position, and attrs specified.</li>
</ul>

<p>It is also possible to pass custom attributes to the link. These may be useful to identify an individual link model for the purposes of linkView interaction (see <code class="highlighted">LinkView</code> <a href="#dia.LinkView.intro">documentation</a> for more information). For example, to only enable custom contextmenu interaction for <code class="highlighted">link1</code> but not <code class="highlighted">link2</code>:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> CustomLinkView <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    contextmenu<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'customLinkInteractions'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// only links with `customLinkInteractions: true`</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addLabel</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    linkView<span class="token punctuation">:</span> CustomLinkView<span class="token punctuation">,</span>
    interactive<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>cellView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cellView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'customLinkInteractions'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// only links with `customLinkInteractions: true`</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span> vertexAdd<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// otherwise</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> link1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    customLinkInteractions<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token comment">// right-click adds a label</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> link2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    customLinkInteractions<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token comment">// or omit completely</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<h4 id="dia.Link.intro.customLink">Custom Link</h4>

<p>It is possible to extend the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> class to create a custom link. A custom link may override Link properties to assign its own defaults. These values override builtin defaults, if provided, and are applied to all instances of the new Link type, unless an individual instance overrides them with its own values. The following Link attributes are applicable in this context:</p>

<ul>
    <li><code class="highlighted">markup</code> - provide default link markup for all instances of this Link type. May be specified as an <a href="#dia.Cell.markup">XML string or JSON array</a>.</li>
    <li><code class="highlighted">attrs</code> - provide default link attributes for all instances of this Link type. These allow you to change the style and size of SVG elements, identified by their selectors.</li>
    <li><code class="highlighted">vertexMarkup</code> - provide default vertex markup for all vertices created on an instance of this Link type (on hover).</li>
    <li><code class="highlighted">toolMarkup</code> - provide custom tool markup for all instances of this Link type (on hover).</li>
    <li><code class="highlighted">doubleToolMarkup</code> - provide custom markup for second set of tools for all instances of this Link type (on hover, if <code class="highlighted">linkView<span class="token punctuation">.</span>doubleLinkTools</code> is <code class="highlighted"><span class="token boolean">true</span></code>).</li>
    <li><code class="highlighted">arrowheadMarkup</code> - provide custom arrowhead markup for all instances of this Link type (on hover).</li>
    <li><code class="highlighted">defaultLabel</code> - provide default properties (markup, attrs, position) for all labels created on an instance of this Link type.</li>
</ul>

<p>The values of these defaults may be important; the <code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">addLabel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.LinkView.prototype.addLabel">shortcut function</a> is only capable of adding default labels to the link.</p>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> CustomLink <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'examples.CustomLink'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    defaultLabel<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        markup<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                tagName<span class="token punctuation">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
                selector<span class="token punctuation">:</span> <span class="token string">'body'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                tagName<span class="token punctuation">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
                selector<span class="token punctuation">:</span> <span class="token string">'label'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            label<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                text<span class="token punctuation">:</span> <span class="token string">'%'</span><span class="token punctuation">,</span> <span class="token comment">// default label text</span>
                fill<span class="token punctuation">:</span> <span class="token string">'#ff0000'</span><span class="token punctuation">,</span> <span class="token comment">// default text color</span>
                fontSize<span class="token punctuation">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
                textAnchor<span class="token punctuation">:</span> <span class="token string">'middle'</span><span class="token punctuation">,</span>
                yAlignment<span class="token punctuation">:</span> <span class="token string">'middle'</span><span class="token punctuation">,</span>
                pointerEvents<span class="token punctuation">:</span> <span class="token string">'none'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            body<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                ref<span class="token punctuation">:</span> <span class="token string">'label'</span><span class="token punctuation">,</span>
                fill<span class="token punctuation">:</span> <span class="token string">'#ffffff'</span><span class="token punctuation">,</span>
                stroke<span class="token punctuation">:</span> <span class="token string">'#000000'</span><span class="token punctuation">,</span>
                strokeWidth<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                refR<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                refCx<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                refCy<span class="token punctuation">:</span> <span class="token number">0</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        position<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            distance<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token comment">// place label at midpoint by default</span>
            offset<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                y<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">20</span> <span class="token comment">// offset label by 20px upwards by default</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                absoluteOffset<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token comment">// keep offset absolute when moving by default</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CustomLink</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<h4 id="dia.Link.intro.builtinDefaultAttributes">Builtin Default Attributes</h4>

<p>To ensure backwards compatibility, the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> class comes with a private builtin <code class="highlighted">defaultLabel</code> attribute. It is reproduced here for reference:</p>

<pre><code class="highlighted">defaultLabel<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// builtin default markup:</span>
    <span class="token comment">// used if neither defaultLabel.markup</span>
    <span class="token comment">// nor label.markup is set</span>
    markup<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            tagName<span class="token punctuation">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
            selector<span class="token punctuation">:</span> <span class="token string">'rect'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            tagName<span class="token punctuation">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
            selector<span class="token punctuation">:</span> <span class="token string">'text'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// builtin default attributes:</span>
    <span class="token comment">// applied only if builtin default markup is used</span>
    attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        text<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            fill<span class="token punctuation">:</span> <span class="token string">'#000000'</span><span class="token punctuation">,</span>
            fontSize<span class="token punctuation">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
            textAnchor<span class="token punctuation">:</span> <span class="token string">'middle'</span><span class="token punctuation">,</span>
            yAlignment<span class="token punctuation">:</span> <span class="token string">'middle'</span><span class="token punctuation">,</span>
            pointerEvents<span class="token punctuation">:</span> <span class="token string">'none'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        rect<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            ref<span class="token punctuation">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
            fill<span class="token punctuation">:</span> <span class="token string">'#ffffff'</span><span class="token punctuation">,</span>
            rx<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
            ry<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
            refWidth<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            refHeight<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            refX<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            refY<span class="token punctuation">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// builtin default position:</span>
    <span class="token comment">// used if neither defaultLabel.position</span>
    <span class="token comment">// nor label.position is set</span>
    position<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        distance<span class="token punctuation">:</span> <span class="token number">0.5</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>

<p>If custom <code class="highlighted">position</code> object is not provided (neither as a type default nor as an instance value), builtin default label position is applied instead (<code class="highlighted"><span class="token punctuation">{</span> distance<span class="token punctuation">:</span> <span class="token number">0.5</span> <span class="token punctuation">}</span></code>).</p>

<p>Furthermore, if custom <code class="highlighted">markup</code> is not provided (neither as a type default nor as an instance value), builtin default label markup is applied, alongside the builtin default label attrs object. However, it is very highly recommended that you provide both your own <code class="highlighted">markup</code> and your own <code class="highlighted">attrs</code> - unless you want to use the builtin default precisely as-is.</p>

        </div>
    </div>
    <div id="dia.Link.events" class="docs-item">
        <a href="#dia.Link.events" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Link.events</h4>
        </a>
        <div class="docs-item-content">
<ul>
    <li><code class="highlighted">change</code> - generic event triggered for any change on the link</li>
    <li><code class="highlighted">change<span class="token punctuation">:</span>source</code> - triggered when the link changes its source</li>
    <li><code class="highlighted">change<span class="token punctuation">:</span>target</code> - triggered when the link changes its target</li>
    <li><code class="highlighted">change<span class="token punctuation">:</span>attrs</code> - triggered when the link changes its attributes</li>
    <li><code class="highlighted">change<span class="token punctuation">:</span>smooth</code> - triggered when the link toggled interpolation </li>
    <li><code class="highlighted">change<span class="token punctuation">:</span>manhattan</code> - triggered when the link toggled orthogonal routing</li>
    <li><code class="highlighted">change<span class="token punctuation">:</span>vertices</code> - triggered when the link changes its vertices array </li>
    <li><code class="highlighted">change<span class="token punctuation">:</span>z</code> - triggered when the link is moved in the z-level (<a href="#dia.Link.prototype.toFront">toFront</a> and <a href="#dia.Link.prototype.toBack">toBack</a>)</li>
    <li><code class="highlighted">transition<span class="token punctuation">:</span>start</code> - triggered when a transition starts.</li>
    <li><code class="highlighted">transition<span class="token punctuation">:</span>end</code> - triggered when a transition ends.</li>
</ul>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'change:source'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'source of the link changed'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>

        </div>
    </div>
    <div id="dia.Link.labels" class="docs-item">
        <a href="#dia.Link.labels" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Link.labels</h4>
        </a>
        <div class="docs-item-content">
<p>JointJS supports adding labels on links. One link can have multiple labels, and each label can have different properties.</p>

<p>Properties recognized by JointJS are summarized in the following TypeScript-like schema:</p>

<pre><code class="highlighted"><span class="token punctuation">{</span>
    markup<span class="token operator">?</span><span class="token punctuation">:</span> string <span class="token operator">|</span> Array<span class="token operator">&lt;</span><span class="token punctuation">{</span>
        tagName<span class="token punctuation">:</span> SVGElement<span class="token punctuation">,</span>
        selector<span class="token operator">?</span><span class="token punctuation">:</span> string
    <span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">,</span>
    attrs<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span>key<span class="token punctuation">:</span> selector<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token punctuation">[</span>key<span class="token punctuation">:</span> <span class="token constant">SVG</span> attribute <span class="token operator">|</span> JointJS attribute<span class="token punctuation">]</span><span class="token punctuation">:</span> any
        <span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    position<span class="token operator">?</span><span class="token punctuation">:</span> number <span class="token operator">|</span> <span class="token punctuation">{</span>
        distance<span class="token punctuation">:</span> number<span class="token punctuation">,</span>
        offset<span class="token operator">?</span><span class="token punctuation">:</span> number <span class="token operator">|</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> number <span class="token punctuation">}</span><span class="token punctuation">,</span>
        angle<span class="token operator">?</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
        args<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            absoluteDistance<span class="token operator">?</span><span class="token punctuation">:</span> boolean<span class="token punctuation">,</span>
            reverseDistance<span class="token operator">?</span><span class="token punctuation">:</span> boolean<span class="token punctuation">,</span>
            absoluteOffset<span class="token operator">?</span><span class="token punctuation">:</span> boolean<span class="token punctuation">,</span>
            keepGradient<span class="token operator">?</span><span class="token punctuation">:</span> boolean<span class="token punctuation">,</span>
            ensureLegibility<span class="token operator">?</span><span class="token punctuation">:</span> boolean
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>

<h4>Markup</h4>

<p>The <code class="highlighted">markup</code> property specifies the markup of the label. It can be provided either as a parsable SVG (e.g. <code class="highlighted"><span class="token string">'&lt;rect />&lt;text />'</span></code>), or as a JSON array (e.g.<code class="highlighted"><span class="token punctuation">[</span><span class="token punctuation">{</span> tagName<span class="token punctuation">:</span> <span class="token string">'rect'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> tagName<span class="token punctuation">:</span> <span class="token string">'text'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span></code>). The JSON allows the user to specify custom selectors for the SVGElements; these can then be used for targeting elements from within the <code class="highlighted">attrs</code> property.</p>

<p>If <code class="highlighted">markup</code> is not provided on the label, markup is taken from the Link type's <code class="highlighted">defaultLabel<span class="token punctuation">.</span>markup</code> property. A custom Link type can be created by the user, providing a <code class="highlighted">defaultLabel</code> (see the <code class="highlighted">Link</code> <a href="#dia.Link.intro">documentation</a> for more information). However, if the used link type does not provide <code class="highlighted">defaultLabel<span class="token punctuation">.</span>markup</code> (this includes <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> and <code class="highlighted">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</code>), the builtin default Link markup is used, which defines markup as a JSON array with a <code class="highlighted"><span class="token string">'body'</span></code> (a <code class="highlighted"><span class="token operator">&lt;</span>rect<span class="token operator">></span></code> SVGElement) under a <code class="highlighted"><span class="token string">'label'</span></code> (a <code class="highlighted"><span class="token operator">&lt;</span>text<span class="token operator">></span></code> SVGElement).</p>

<h4>Styling</h4>

<p>The <code class="highlighted">attrs</code> property is an object where the keys are CSS selectors (referring to custom selectors or SVGElements specified in <code class="highlighted">markup</code>, e.g. <code class="highlighted">body</code> in the above example). They are expected to contain objects that specify native SVG and/or JointJS special attributes (e.g. <code class="highlighted">fill</code>), alongside the value to be assigned (e.g. <code class="highlighted"><span class="token string">'white'</span></code>).</p>

<p>If the Link type provides <code class="highlighted">defaultLabel<span class="token punctuation">.</span>attrs</code>, these attrs are merged with <code class="highlighted">label<span class="token punctuation">.</span>attrs</code>. This allows you to reference selectors from <code class="highlighted">defaultLabel<span class="token punctuation">.</span>markup</code> in <code class="highlighted">label<span class="token punctuation">.</span>attrs</code> and, for example, simply add an attribute (<code class="highlighted">attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span> body<span class="token punctuation">:</span> <span class="token punctuation">{</span> stroke<span class="token punctuation">:</span> <span class="token string">'black'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span></code>).</p>

<p>If the builtin default markup is used (i.e. no custom <code class="highlighted">label<span class="token punctuation">.</span>markup</code> was provided, and no <code class="highlighted">defaultLabel<span class="token punctuation">.</span>markup</code>), several builtin default <code class="highlighted">attrs</code> are applied for reasons of backwards compatibility. These are merged with <code class="highlighted">defaultLabel<span class="token punctuation">.</span>attrs</code> (if present on the Link prototype) and then <code class="highlighted">label<span class="token punctuation">.</span>attrs</code> (if provided). See <code class="highlighted">Link</code> <a href="#dia.Link.intro">documentation</a> for more information.</p>

<h4>Position</h4>

<p>Finally, the <code class="highlighted">position</code> property specifies the position of the label, relative to the SVG path of the link. It may be defined as a number or as an object with <code class="highlighted">distance</code> and optionally <code class="highlighted">offset</code> and <code class="highlighted">args</code> properties. If no <code class="highlighted">position</code> is provided, the builtin default (<code class="highlighted"><span class="token punctuation">{</span> distance<span class="token punctuation">:</span> <span class="token number">0.5</span> <span class="token punctuation">}</span></code>) is used to maintain backwards compatibility.</p>

<table>
    <tr>
        <td><i>number</i></td>
        <td>
            <table>
                <tr>
                    <td>
                        If the distance is in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span></code> range (inclusive), then the position of the label is defined as a percentage of the total length of the <code class="highlighted"><span class="token punctuation">.</span>connection</code> path (the normalized length). For example, passing the number <code class="highlighted"><span class="token number">0.5</span></code> positions the label to the middle of the <code class="highlighted"><span class="token punctuation">.</span>connection</code> path.
                    </td>
                </tr>
                <tr>
                    <td>
                        If the distance is larger than <code class="highlighted"><span class="token number">1</span></code> (exclusive), the label will be positioned <code class="highlighted">distance</code> pixels away from the beginning of the path along the <code class="highlighted"><span class="token punctuation">.</span>connection</code> path.
                    </td>
                </tr>
                <tr>
                    <td>
                        If the distance is a negative number, the label will be positioned <code class="highlighted">distance</code> pixels away from the end of the path along the <code class="highlighted"><span class="token punctuation">.</span>connection</code> path.
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td><i>object</i></td>
        <td>
            <p>If <code class="highlighted">position</code> is specified as an object, it may have three properties:</p>
            <table>
                <tr>
                    <th>distance</th>
                    <td>
                        A number specifying the distance of the label along the <code class="highlighted"><span class="token punctuation">.</span>connection</code> path. Same as above.
                    </td>
                </tr>
                <tr>
                    <th>offset</th>
                    <td>
                        <p>Optional. Either a number or an object with <code class="highlighted">x</code> and <code class="highlighted">y</code> properties.</p>
                        <table>
                            <tr>
                                <td><i>number</i></td>
                                <td>
                                    <table>
                                        <tr>
                                            <td>
                                                If the offset is a positive number, displace the label perpendicularly to the right (in the direction of the <code class="highlighted"><span class="token punctuation">.</span>connection</code> path) in the paper local coordinate system. (An offset of <code class="highlighted"><span class="token number">0</span></code> is the default; it means no offset in either direction.)
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                If the offset is a negative number, displace the label perpendicularly to the left (in the direction of the <code class="highlighted"><span class="token punctuation">.</span>connection</code> path) in the paper local coordinate system.
                                        </td></tr>
                                    </table>
                                </td>
                            </tr>
                            <tr>
                                <td><i>object</i></td>
                                <td>
                                    <table>
                                        <tr>
                                            <th>x</th>
                                            <td>
                                                Offset the label by <code class="highlighted">x</code> in the paper local coordinate system.
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>y</th>
                                            <td>
                                                Offset the label by <code class="highlighted">y</code> in the paper local coordinate system.
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <th>angle</th>
                    <td>
                        Optional. A number specifying the rotation of the label along the <code class="highlighted"><span class="token punctuation">.</span>connection</code> path, in degrees. Angles 0-180 cause the label to rotate clockwise, angles 360-180 cause the label to rotate couterclockwise. This rotation is added on top of any rotation due to the <code class="highlighted">args<span class="token punctuation">.</span>keepGradient</code> option. (Note that the <code class="highlighted">args<span class="token punctuation">.</span>ensureLegibility</code> option is evaluated only after all these calculations are finished.)
                    </td>
                </tr>
                <tr>
                    <th>args</th>
                    <td>
                        <p>Optional. An object with boolean options for the <code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getLabelPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.LinkView.prototype.getLabelPosition">function</a>.</p>
                        <table>
                            <tr>
                                <th>absoluteDistance</th>
                                <td>
                                    If user moves the label, record <code class="highlighted">distance</code> as an absolute number. (Relative distances are used by default.)
                                </td>
                            </tr>
                            <tr>
                                <th>reverseDistance</th>
                                <td>
                                    If <code class="highlighted">absoluteDistance</code> is set and user moves the label, record <code class="highlighted">distance</code> as a negative absolute number. (Positive distances are used by default.)
                                </td>
                            </tr>
                            <tr>
                                <th>absoluteOffset</th>
                                <td>
                                    If user moves the label, record <code class="highlighted">offset</code> as an object with absolute <code class="highlighted">x</code> and <code class="highlighted">y</code> coordinates. (Relative offsets are used by default.)
                                </td>
                            </tr>
                            <tr>
                                <th>keepGradient</th>
                                <td>
                                    Adjust the base rotation angle of the label (i.e. the "zero angle" before rotation due to the <code class="highlighted">angle</code> setting is applied) to match the angle of incline of the path at given <code class="highlighted">distance</code>.
                                </td>
                            </tr>
                            <tr>
                                <th>ensureLegibility</th>
                                <td>
                                    If <code class="highlighted">keepGradient</code> is set and the label ends up rotated so that its text is upside-down, rotate the label by additional 180 degrees so it becomes legible for the users.
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>

        </div>
    </div>
    <div id="dia.Link.presentation" class="docs-item">
        <a href="#dia.Link.presentation" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Link.presentation</h4>
        </a>
        <div class="docs-item-content">
<p>The shape of a link is determined by five properties - <b><code class="highlighted">source</code></b>, <b><code class="highlighted">target</code></b>, <b><code class="highlighted">vertices</code></b>, <b><code class="highlighted">connector</code></b> and <b><code class="highlighted">router</code></b>.</p>

<h4><span id="dia.Link.presentation.source">Source</span> and <span id="dia.Link.presentation.target">Target</span></h4>

<p>The <code class="highlighted">source</code> and <code class="highlighted">target</code> properties have to be provided when creating a Link. Either an Element can be provided (either directly or via an <code class="highlighted">id</code> property) or a Point (with <code class="highlighted">x</code> and <code class="highlighted">y</code> properties).</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token punctuation">:</span> rect<span class="token punctuation">.</span>id <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">g<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>If the end is specified as an Element, a specific subelement on that element may be identified for use as the link end. The <code class="highlighted">selector</code> property allows specifying the subelement with a selector string, while the <code class="highlighted">magnet</code> property uses magnet id, and the <code class="highlighted">port</code> property uses the port id.</p>

<p>For the purposes of link geometry, however, the most important are the <code class="highlighted">anchor</code> and <code class="highlighted">connectionPoint</code> properties of link end elements. The <code class="highlighted">connectionStrategy</code> <a href="#dia.Paper.prototype.options.connectionStrategy">paper option</a> is also relevant to mention in this context.</p>

<h4 id="dia.Link.presentation.anchor">Anchor</h4>

<p>If the link end (<a href="#dia.Link.presentation.source">source</a>/<a href="#dia.Link.presentation.target">target</a>) is specified as an Element (whether or not one of the subelement specifications is in effect), the precise position of the link end's anchor may be specified by the <code class="highlighted">anchor</code> property. (If the link end is specified as a Point, its coordinates are used as its anchor directly.) Every link has two anchors; one at the source end and one at the target end.</p>

<p>A link end anchor is a point inside a given (sub)element that the link path wants to connect to at that source/target end - if it were not obstructed by the body of the element itself (it is the role of <a href="#dia.Link.presentation.connectionPoint">connectionPoints</a> to take the end element into account). Alongside <a href="#dia.Link.presentation.vertices">link vertices</a>, source and target anchors determine the basic link path. Then, it is the job of <a href="#dia.Link.presentation.connectionPoint">connectionPoints</a>, <a href="#dia.Link.presentation.router">routers</a>, and <a href="#dia.Link.presentation.connector">connectors</a> to modify that path to make it look good.</p>

<p>The anchor functions reference the end element to find the anchor point - e.g. the center of the end element, or its top-right corner. Notably, anchor functions also allow you to offset found anchor points by a custom distance in both dimensions from the standard position (e.g. 10 pixels to the right and 20 pixels below the center of an end element). Several pre-made <a href="#anchors">anchors</a> are provided inside the JointJS library in the <code class="highlighted">joint<span class="token punctuation">.</span>anchors</code> namespace.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    anchor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'bottomLeft'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            dx<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
            dy<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">10</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>If an anchor function is not provided, the <code class="highlighted">defaultAnchor</code> <a href="#dia.Paper.prototype.options.defaultAnchor">paper option</a> is used instead. The <code class="highlighted">joint<span class="token punctuation">.</span>anchors<span class="token punctuation">.</span>center</code> <a href="#anchors.center">function</a> is used by default.</p>

<h4 id="dia.Link.presentation.connectionPoint">Connection Point</h4>

<p>The link end's connection point may be specified by the <code class="highlighted">connectionPoint</code> property. Every link has two connection points; one at the source end and one at the target end.</p>

<p>A link connection point is the point the the link path actually ends at, taking the end element into account. This point will always lie on the link path (the line connecting link <a href="#dia.Link.presentation.anchor">anchors</a> and <a href="#dia.Link.presentation.vertices">vertices</a> together, in order).</p>

<p>The connectionPoints are found by considering intersections between the link path and a desired feature of the end element (e.g. bounding box, shape boundary, anchor). Although connectionPoints are not capable of being offset off the link path (<a href="#dia.Link.presentation.anchor">anchors</a> should be used to modify the link path if this is required), they can be offset <i>along</i> the path - e.g. to form a gap between the element and the actual link. Several pre-made <a href="#connectionPoints">connectionPoints</a> are provided in the JointJS library in the <code class="highlighted">joint<span class="token punctuation">.</span>connectionPoints</code> namespace.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    connectionPoint<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'boundary'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            offset<span class="token punctuation">:</span> <span class="token number">5</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>If a connection point function is not provided, the <code class="highlighted">defaultConnectionPoint</code> <a href="#dia.Paper.prototype.options.defaultConnectionPoint">paper option</a> is used instead. The <code class="highlighted">joint<span class="token punctuation">.</span>connectionPoints<span class="token punctuation">.</span>bbox</code> <a href="#connectionPoints.bbox">function</a> is used by default.</p>

<h4 id="dia.Link.presentation.connectionStrategy">Connection Strategy</h4>

<p>Related to <a href="#dia.Link.presentation.anchor">anchors</a> and <a href="#dia.Link.presentation.connectionPoint">connectionPoints</a> is the <code class="highlighted">connectionStrategy</code> <a href="#dia.Paper.prototype.options.connectionStrategy">paper option</a>. It allows you to specify which <code class="highlighted">anchor</code> and <code class="highlighted">connectionPoint</code> properties should be assigned to end elements in response to user interaction (e.g. in response to dragging a link arrowhead onto a new element). This setting is necessary because assigned <code class="highlighted">anchor</code> and <code class="highlighted">connectionPoint</code> are not preserved when the end element is reassigned by the user - and the paper's <code class="highlighted">defaultAnchor</code> and <code class="highlighted">defaultConnectionPoint</code> are used instead.

</p><p>Several pre-made <a href="#connectionStrategies">connectionStrategies</a> are provided inside the JointJS library in the <code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategies</code> namespace, but you may find it necessary to create your own <a href="#connectionStrategies.custom">custom connection strategies</a>. This is a <a href="#dia.Paper.prototype.options.connectionStrategy">paper-level setting</a>; connectionStrategies not assigned on a link-by-link basis.</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>connectionStrategy <span class="token operator">=</span> joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span>pinAbsolute<span class="token punctuation">;</span></code></pre>

<p>If a connection strategy is not provided, the <code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategies<span class="token punctuation">.</span>useDefaults</code> <a href="#connectionStrategies.useDefaults">function</a> is used by default.</p>

<h4 id="dia.Link.presentation.vertices">Vertices</h4>

<p>The <code class="highlighted">vertices</code> array is an array of user-defined points for the link to pass through. Alongside the source and target <a href="#dia.Link.presentation.anchor">anchors</a>, the link vertices determine the basic link path. This skeleton path is then used for determining the <a href="#dia.Link.presentation.router">link route</a>. The vertices can be accessed with the <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">vertices</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Link.prototype.vertices">function</a> and related functions.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">vertices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">vertices</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">120</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">150</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">60</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<h4 id="dia.Link.presentation.router">Router</h4>

<p>Routers take an array of <a href="#dia.Link.presentation.vertices">link vertices</a> and transform them into an array of route points that the link should go through. This route is then used for generating the <a href="#dia.Link.presentation.connector">connection SVG path commands</a>. The <code class="highlighted">router</code> property of a link can be accessed with the <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Link.prototype.router">function</a>.</p>

<p>A collection of pre-made <a href="#routers">routers</a> is provided inside the JointJS library in the <code class="highlighted">joint<span class="token punctuation">.</span>routers</code> namespace. This includes <q>smart routers</q> that are able to automatically avoid obstacles (elements) in their way.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'manhattan'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    excludeEnds<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'source'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    excludeTypes<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'myNamespace.MyCommentElement'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    startDirections<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'top'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    endDirections<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'bottom'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>If a router is not provided, the <code class="highlighted">defaultRouter</code> <a href="#dia.Paper.prototype.options.defaultRouter">paper option</a> is used instead. The <code class="highlighted">joint<span class="token punctuation">.</span>routers<span class="token punctuation">.</span>normal</code> <a href="#routers.normal">function</a> is used by default.</p>

<h4 id="dia.Link.presentation.connector">Connector</h4>

<p>Connectors take an array of <a href="#dia.Link.presentation.router">link route points</a> and generate SVG path commands so that the link can be rendered. The <code class="highlighted">connector</code> property of a link can be accessed with the <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Link.prototype.connector">function</a>.</p>

<p>A collection of pre-made <a href="#connectors">connectors</a> is provided inside the JointJS library in the <code class="highlighted">joint<span class="token punctuation">.</span>connectors</code> namespace.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'rounded'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    raw<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    radius<span class="token punctuation">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>If a connector is not provided, the <code class="highlighted">defaultConnector</code> <a href="#dia.Paper.prototype.options.defaultConnector">paper option</a> is used instead. The <code class="highlighted">joint<span class="token punctuation">.</span>connectors<span class="token punctuation">.</span>normal</code> <a href="#connectors.normal">function</a> is used by default.</p>

<p>Note that the modular architecture of JointJS allows mixing-and-matching connectors with routers as desired; for example, a link may be specified to use the <code class="highlighted">jumpover</code> connector on top of the <code class="highlighted">manhattan</code> router:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>rect2<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'manhattan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'jumpover'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<h4>Styling</h4>

<p>Styling of the link is contained in the <b><code class="highlighted">attrs</code></b> property which has exactly the same structure as the <b><code class="highlighted">attrs</code></b> property of elements. Please refer to the <a href="#dia.Element">joint.dia.Element</a> and <a href="#dia.Link">joint.dia.Link</a> sections of this page for more information.</p>

<p>Links also have the <b><code class="highlighted">z</code></b> property which specifies the z-level of the link. It has exactly the same meaning as the <code class="highlighted">z</code> property of elements.</p>

        </div>
    </div>
    <div id="dia.Link.prototype" class="docs-item">
    <div id="dia.Link.prototype.addTo" class="docs-item">
        <a href="#dia.Link.prototype.addTo" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.addTo</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span></code></pre>
<p>Add the link to the <code class="highlighted">graph</code> (an instance of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</code>). This is equivalent to calling <code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span></code>.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.appendLabel" class="docs-item">
        <a href="#dia.Link.prototype.appendLabel" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.appendLabel</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">appendLabel</span><span class="token punctuation">(</span>label <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Add a new <code class="highlighted">label</code> at the end of the <code class="highlighted">labels</code> array.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.attr" class="docs-item">
        <a href="#dia.Link.prototype.attr" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.attr</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span>attrs<span class="token punctuation">)</span></code></pre>

<p>Set SVG attributes on subelements. This is a method analogous to <a href="#dia.Element.prototype.attr">attr</a> method of <code class="highlighted">Joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code>.  The keys of the <code class="highlighted">attrs</code> object are CSS selectors matching the SVG element the link consists of. The values are objects containing SVG attributes and their values. <code class="highlighted">attrs</code> object will be mixined with <code class="highlighted">attrs</code> property of the <code class="highlighted">link</code> model. This is a convenient way of rewriting only some of the attributes of the SVG elements. For overwritting all attributes of all SVG elements, use <code class="highlighted">link<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'attrs'</span><span class="token punctuation">,</span> attrs<span class="token punctuation">)</span></code>. Here it is important to mention how the markup of a link looks like:</p>

<pre><code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>connection<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>marker-source<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>marker-target<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>connection-wrap<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>labels<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>marker-vertices<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>marker-arrowheads<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-tools<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre>

<p>As you can see, the link consists of a couple of SVG path elements and couple of SVG group elements:</p>

<ul>
    <li><code class="highlighted"><span class="token punctuation">.</span>connection</code> is the actual line of the link.</li>
    <li><code class="highlighted"><span class="token punctuation">.</span>connection<span class="token operator">-</span>wrap</code> is an SVG path element that covers the <code class="highlighted"><span class="token punctuation">.</span>connection</code> element and is usually thicker so that the link is able to 
        handle pointer events (mousedown, mousemove, mouseup) that didn't target the thin <code class="highlighted"><span class="token punctuation">.</span>connection</code> path exactly. This makes it easy
        to &quot;grab&quot; the link even though the mouse cursor didn't point exactly at the (usually thin) <code class="highlighted"><span class="token punctuation">.</span>connection</code> path element.</li>
    <li><code class="highlighted"><span class="token punctuation">.</span>marker<span class="token operator">-</span>source</code> and <code class="highlighted"><span class="token punctuation">.</span>marker<span class="token operator">-</span>target</code> are the arrowheads of the link.</li>
</ul>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">'.connection'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> stroke<span class="token punctuation">:</span> <span class="token string">'blue'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'.marker-source'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> fill<span class="token punctuation">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span> d<span class="token punctuation">:</span> <span class="token string">'M 10 0 L 0 5 L 10 10 z'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'.marker-target'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> fill<span class="token punctuation">:</span> <span class="token string">'yellow'</span><span class="token punctuation">,</span> d<span class="token punctuation">:</span> <span class="token string">'M 10 0 L 0 5 L 10 10 z'</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>An alternative call using a string path and a value:</p>
<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'.marker-source/fill'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Link.prototype.clone" class="docs-item">
        <a href="#dia.Link.prototype.clone" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.clone</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Returns a new instance of the link with identical attributes.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.connector" class="docs-item">
        <a href="#dia.Link.prototype.connector" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.connector</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a shallow copy of the <code class="highlighted">connector</code> property of the link.</p>

<p>For backwards compatibility, if there is no connector, the function also checks whether the legacy <code class="highlighted">smooth</code> property is set on the link and returns <code class="highlighted"><span class="token punctuation">{</span> name<span class="token punctuation">:</span> smooth <span class="token punctuation">}</span></code> if it is.</p>

<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span>connector <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Set the <code class="highlighted">connector</code> of the link.</p>

<p>If the <code class="highlighted">connector</code> argument is an object, it is expected to have the form <code class="highlighted"><span class="token punctuation">{</span> name<span class="token punctuation">:</span> connectorName<span class="token punctuation">,</span> args<span class="token operator">?</span><span class="token punctuation">:</span> connectorArgs <span class="token punctuation">}</span></code>. Here <code class="highlighted">connectorName</code> is expected to match either the name of a <a href="#connectors">built-in connector</a> or the name of a <a href="#connectors.custom">custom connector</a>.</p>

<p>If the <code class="highlighted">connector</code> argument is a function, it is expected to define a <a href="#connectors.custom">custom connector</a> with the signature <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span>sourcePoint<span class="token punctuation">,</span> targetPoint<span class="token punctuation">,</span> vertices<span class="token punctuation">,</span> connectorArgs<span class="token punctuation">,</span> linkView<span class="token punctuation">)</span></code> that returns a string representing the <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d">SVG path data</a> that will be used to render the link.</p>

<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span>connectorName <span class="token punctuation">[</span><span class="token punctuation">,</span> connectorArgs<span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Set the <code class="highlighted">connector</code> of the link to have the value <code class="highlighted"><span class="token punctuation">{</span> name<span class="token punctuation">:</span> connectorName<span class="token punctuation">,</span> args<span class="token punctuation">:</span> connectorArgs <span class="token punctuation">}</span></code>.</p>

<p>The <code class="highlighted">connectorName</code> string is expected to match either the name of a <a href="#connectors">built-in connector</a> or the name of a <a href="#connectors.custom">custom connector</a>. The <code class="highlighted">connectorArgs</code> parameter is optional.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.disconnect" class="docs-item">
        <a href="#dia.Link.prototype.disconnect" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.disconnect</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Disconnect the link from its <code class="highlighted">source</code> and <code class="highlighted">target</code> elements. The <code class="highlighted">source</code> and <code class="highlighted">target</code> then become a point at <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span></code>.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.findView" class="docs-item">
        <a href="#dia.Link.prototype.findView" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.findView</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span>paper<span class="token punctuation">)</span></code></pre>
<p>Find view (<a href="#dia.LinkView"><code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView</code></a>) for the link model in the <code class="highlighted">paper</code>. This is a shortcut to the equivalent call <code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">findViewByModel</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span></code>.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.getAncestors" class="docs-item">
        <a href="#dia.Link.prototype.getAncestors" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.getAncestors</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">getAncestors</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return an array of all the ancestors of this link starting from the immediate parent all the way up to the most distant ancestor.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.getBBox" class="docs-item">
        <a href="#dia.Link.prototype.getBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.getBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the bounding box of the link model, represented as a <code class="highlighted">g<span class="token punctuation">.</span>Rect</code>.</p>

<p>This method creates the bounding box from the link polyline (see the <code class="highlighted">link<span class="token punctuation">.</span>getPolyline</code> <a href="#dia.Link.prototype.getPolyline">function</a>). This simplified heuristic may cause portions of curved links to protrude out of the reported bounding box. See the documentation of the <code class="highlighted">linkView<span class="token punctuation">.</span>getBBox</code> <a href="#dia.LinkView.prototype.getBBox">function</a> for details about the differences.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.getPolyline" class="docs-item">
        <a href="#dia.Link.prototype.getPolyline" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.getPolyline</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">getPolyline</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a polyline that approximates the shape of the link. The polyline is created from the two link endpoints, with link vertices in between.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.getSourceCell" class="docs-item">
        <a href="#dia.Link.prototype.getSourceCell" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.getSourceCell</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">getSourceCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the source cell (element or link) of the link, or <code class="highlighted"><span class="token keyword">null</span></code> if the element's source is a point.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.getSourceElement" class="docs-item">
        <a href="#dia.Link.prototype.getSourceElement" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.getSourceElement</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">getSourceElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the source element of the link or <code class="highlighted"><span class="token keyword">null</span></code> if there is none.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.getSourcePoint" class="docs-item">
        <a href="#dia.Link.prototype.getSourcePoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.getSourcePoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">getSourcePoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the source point of the link.</p>

<ul>
	<li>If the link endpoint is pinned to a specific point on the paper, return that point.</li>
	<li>If the link is connected to another link, return the midpoint of <a href="#dia.Link.prototype.getPolyline">that link's polyline</a>.</li>
	<li>If the link is connected to a port on an element, return the center of that port.</li>
	<li>If the link is connected to an element, return the center of that element.</li>
</ul>

        </div>
    </div>
    <div id="dia.Link.prototype.getTargetCell" class="docs-item">
        <a href="#dia.Link.prototype.getTargetCell" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.getTargetCell</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">getTargetCell</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the target cell (element or link) of the link, or <code class="highlighted"><span class="token keyword">null</span></code> if the element's target is a point.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.getTargetElement" class="docs-item">
        <a href="#dia.Link.prototype.getTargetElement" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.getTargetElement</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">getTargetElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the target element of the link or <code class="highlighted"><span class="token keyword">null</span></code> if there is none.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.getTargetPoint" class="docs-item">
        <a href="#dia.Link.prototype.getTargetPoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.getTargetPoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">getTargetPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the target point of the link.</p>

<ul>
	<li>If the link endpoint is pinned to a specific point on the paper, return that point.</li>
	<li>If the link is connected to another link, return the midpoint of <a href="#dia.Link.prototype.getPolyline">that link's polyline</a>.</li>
	<li>If the link is connected to a port on an element, return the center of that port.</li>
	<li>If the link is connected to an element, return the center of that element.</li>
</ul>

        </div>
    </div>
    <div id="dia.Link.prototype.getTransitions" class="docs-item">
        <a href="#dia.Link.prototype.getTransitions" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.getTransitions</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">getTransitions</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return an array of all active transitions (their paths).</p>

        </div>
    </div>
    <div id="dia.Link.prototype.hasLoop" class="docs-item">
        <a href="#dia.Link.prototype.hasLoop" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.hasLoop</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">hasLoop</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> if this link is a <q>loop link</q>. In a <q>loop link</q> <code class="highlighted">source</code> and <code class="highlighted">target</code> are equal.</p>

<p>If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code>, the notion of a <q>loop link</q> is extended to a deep hierarchy. For example, if the link connects a parent element with one of its embedded elements, the link is considered a <q>loop link</q>, as well.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.insertLabel" class="docs-item">
        <a href="#dia.Link.prototype.insertLabel" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.insertLabel</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">insertLabel</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> label <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Add a new <code class="highlighted">label</code> at <code class="highlighted">index</code>. Pass index <code class="highlighted"><span class="token operator">-</span><span class="token number">1</span></code> to add the label at the end of the labels array.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.insertVertex" class="docs-item">
        <a href="#dia.Link.prototype.insertVertex" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.insertVertex</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">insertVertex</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> vertex <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Add a new <code class="highlighted">vertex</code> at <code class="highlighted">index</code>. Pass index <code class="highlighted"><span class="token operator">-</span><span class="token number">1</span></code> to add the vertex at the end of the vertices array.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.isElement" class="docs-item">
        <a href="#dia.Link.prototype.isElement" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.isElement</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">isElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Always returns <code class="highlighted"><span class="token boolean">false</span></code>. The reason the method is here is that both <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code> and <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> inherit from <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Cell</code>. This method is useful if you don't know what the cell is. Calling <code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">isElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> is equivalent to <code class="highlighted">cell <span class="token keyword">instanceof</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</span></code>. Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> cell <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getCell</span><span class="token punctuation">(</span>myId<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>cell<span class="token punctuation">.</span><span class="token function">isElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something if the cell is an element.</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Link.prototype.isEmbeddedIn" class="docs-item">
        <a href="#dia.Link.prototype.isEmbeddedIn" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.isEmbeddedIn</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">isEmbeddedIn</span><span class="token punctuation">(</span>element <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> if the link is embedded in an element <code class="highlighted">element</code>.</p>

<p>If <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">false</span></code>, only direct parentage will be checked. <code class="highlighted">opt<span class="token punctuation">.</span>deep</code> is <code class="highlighted"><span class="token boolean">true</span></code> by default.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.isLink" class="docs-item">
        <a href="#dia.Link.prototype.isLink" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.isLink</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Always returns <code class="highlighted"><span class="token boolean">true</span></code>. The reason the method is here is that both <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code> and <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> inherit from <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Cell</code>. This method is useful if you don't know what the cell is. Calling <code class="highlighted">cell<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> is equivalent to <code class="highlighted">cell <span class="token keyword">instanceof</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</span></code>. Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> cell <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">getCell</span><span class="token punctuation">(</span>myId<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>cell<span class="token punctuation">.</span><span class="token function">isLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something if the cell is a link.</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Link.prototype.label" class="docs-item">
        <a href="#dia.Link.prototype.label" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.label</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">label</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span></code></pre>
<p>Return the label at <code class="highlighted">index</code>.</p>

<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">label</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> properties <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Update <code class="highlighted">properties</code> of the label at <code class="highlighted">index</code>. By default, the new properties are merged into the old ones; pass the <code class="highlighted"><span class="token punctuation">{</span> rewrite<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span></code> option along to disregard old properties.</p>

<p>Example usage:

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">label</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    markup<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            tagName<span class="token punctuation">:</span> <span class="token string">'rect'</span><span class="token punctuation">,</span>
            selector<span class="token punctuation">:</span> <span class="token string">'body'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            tagName<span class="token punctuation">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
            selector<span class="token punctuation">:</span> <span class="token string">'label'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        body<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            fill<span class="token punctuation">:</span> <span class="token string">'white'</span> <span class="token comment">// white background</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        label<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            text<span class="token punctuation">:</span> <span class="token string">'my label'</span><span class="token punctuation">,</span> <span class="token comment">// text to show</span>
            fill<span class="token punctuation">:</span> <span class="token string">'blue'</span> <span class="token comment">// blue text</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    position<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        distance<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token comment">// midway on the connection path</span>
        offset<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            x<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 10 local x units to the right</span>
            y<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">5</span> <span class="token comment">// 5 local y units above</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        angle<span class="token punctuation">:</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token comment">// rotate by 45 degrees clockwise</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            keepGradient<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// auto-rotate by path slope at distance</span>
            ensureLegibility<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token comment">// auto-rotate label if upside-down</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

</p><p>Note that all labels are stored in an array on the link model under the attribute <code class="highlighted">labels</code>. Use the <code class="highlighted">link<span class="token punctuation">.</span>labels</code> <a href="#dia.Link.prototype.labels">function</a> to access the array.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.labels" class="docs-item">
        <a href="#dia.Link.prototype.labels" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.labels</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">labels</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a shallow copy of labels array.</p>

<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">labels</span><span class="token punctuation">(</span>labelsArray <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Set array of labels on the link.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.prop" class="docs-item">
        <a href="#dia.Link.prototype.prop" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.prop</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span></code></pre>
<p>Set properties, possibly nested, on the element model. This is equivalent to the <a href="#dia.Link.prototype.attr">attr()</a> method but this time for custom data properties.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'name/first'</span><span class="token punctuation">,</span> <span class="token string">'John'</span><span class="token punctuation">)</span>
link<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'name/first'</span><span class="token punctuation">)</span>  <span class="token comment">// 'John'</span>
link<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token punctuation">{</span> first<span class="token punctuation">:</span> <span class="token string">'John'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// Nested arrays are supported too:</span>
link<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'mylist/0/data/0/value'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
link<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token punctuation">{</span> mylist<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span> data<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token number">50</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>

<p>As you can see, this is the exact same method as the <a href="#dia.Element.prototype.prop">joint.dia.Element.prop()</a> method.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.remove" class="docs-item">
        <a href="#dia.Link.prototype.remove" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.remove</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Remove the link from the graph.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.removeAttr" class="docs-item">
        <a href="#dia.Link.prototype.removeAttr" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.removeAttr</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">removeAttr</span><span class="token punctuation">(</span>path <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Remove a previously set attribute from the link. <code class="highlighted">path</code> can either be a string that specifies the path to the (possibly nested) attribute to be removed, or an array of more paths. The associated link view makes sure the link gets re-rendered properly.</p>

<p>If <code class="highlighted">opt</code> is passed, it can contain data that is passed over to the event listeners for the <code class="highlighted">change<span class="token punctuation">:</span>attrs</code> event triggered on the link itself and also on the graph the link is in.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.removeLabel" class="docs-item">
        <a href="#dia.Link.prototype.removeLabel" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.removeLabel</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">removeLabel</span><span class="token punctuation">(</span>index <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Remove <code class="highlighted">label</code> at <code class="highlighted">index</code>. Pass index <code class="highlighted"><span class="token operator">-</span><span class="token number">1</span></code> to remove the last label of the labels array.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.removeVertex" class="docs-item">
        <a href="#dia.Link.prototype.removeVertex" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.removeVertex</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">removeVertex</span><span class="token punctuation">(</span>index <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Remove <code class="highlighted">vertex</code> at <code class="highlighted">index</code>. Pass index <code class="highlighted"><span class="token operator">-</span><span class="token number">1</span></code> to remove the last vertex of the vertices array.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.reparent" class="docs-item">
        <a href="#dia.Link.prototype.reparent" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.reparent</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">reparent</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Automatically find and set the best parent element for the link so that when the parent element is moved, the link and all its vertices are moved too. The best parent is determined as the <a href="#dia.Graph.prototype.getCommonAncestor">common ancestor</a> of the source and target elements of the link. Useful for hierarchical diagrams. See the <a href="#shapes.devs.hierarchical_diagrams">DEVS demo</a> on how this can be used.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.router" class="docs-item">
        <a href="#dia.Link.prototype.router" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.router</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a shallow copy of the <code class="highlighted">router</code> property of the link.</p>

<p>For backwards compatibility, if there is no router, the function also checks whether the legacy <code class="highlighted">manhattan</code> property is set on the link and returns <code class="highlighted"><span class="token punctuation">{</span> name<span class="token punctuation">:</span> orthogonal <span class="token punctuation">}</span></code> if it is.</p>

<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span>router <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Set the <code class="highlighted">router</code> of the link.</p>

<p>If the <code class="highlighted">router</code> argument is an object, it is expected to have the form <code class="highlighted"><span class="token punctuation">{</span> name<span class="token punctuation">:</span> routerName<span class="token punctuation">,</span> args<span class="token operator">?</span><span class="token punctuation">:</span> routerArgs <span class="token punctuation">}</span></code>. Here <code class="highlighted">routerName</code> is expected to match either the name of a <a href="#routers">built-in router</a> or the name of a <a href="#routers.custom">custom router</a>.</p>

<p>If the <code class="highlighted">router</code> argument is a function, it is expected to define a <a href="#routers.custom">custom router</a> with the signature <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span>vertices<span class="token punctuation">,</span> routerArgs<span class="token punctuation">,</span> linkView<span class="token punctuation">)</span></code> that returns an array of route points.</p>

<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span>routerName <span class="token punctuation">[</span><span class="token punctuation">,</span> routerArgs<span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Set the <code class="highlighted">router</code> of the link to have the value <code class="highlighted"><span class="token punctuation">{</span> name<span class="token punctuation">:</span> routerName<span class="token punctuation">,</span> args<span class="token punctuation">:</span> routerArgs <span class="token punctuation">}</span></code>.</p>

<p>The <code class="highlighted">routerName</code> string is expected to match either the name of a <a href="#routers">built-in router</a> or the name of a <a href="#routers.custom">custom router</a>. The <code class="highlighted">routerArgs</code> parameter is optional.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.scale" class="docs-item">
        <a href="#dia.Link.prototype.scale" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.scale</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span>sx<span class="token punctuation">,</span> sy<span class="token punctuation">,</span> origin <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Scales the link's points (vertices) relative to the given origin.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.source" class="docs-item">
        <a href="#dia.Link.prototype.source" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.source</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a shallow copy of the <code class="highlighted">source</code> property of the link.</p>

<p>If the beginning of the link is connected to an element, an object in the format <code class="highlighted"><span class="token punctuation">{</span> id<span class="token punctuation">:</span> elementID <span class="token punctuation">}</span></code> is returned. If the beginning of the link is specified as a point instead (the link is <q>pinned</q> to the paper at that point), an object in the format <code class="highlighted"><span class="token punctuation">{</span> x<span class="token punctuation">:</span> sourceX<span class="token punctuation">,</span> y<span class="token punctuation">:</span> sourceY <span class="token punctuation">}</span></code> is returned. Furthermore, any additional arguments of the source are returned alongside those properties.</p>

<p>If you need to be sure that a Cell is returned (and not a Point), use the <code class="highlighted">link<span class="token punctuation">.</span>getSourceCell</code> <a href="#dia.Link.prototype.getSourceCell">function</a> instead. If you need an Element, use the <code class="highlighted">link<span class="token punctuation">.</span>getSourceElement</code> <a href="#dia.Link.prototype.getSourceElement">function</a>.</p>


<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>source <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Set the <code class="highlighted">source</code> of the link.</p>

<p>If the link is to be connected to an element, send an object in the format <code class="highlighted"><span class="token punctuation">{</span> id<span class="token punctuation">:</span> element<span class="token punctuation">.</span>id <span class="token punctuation">}</span></code> (or a <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code> object). If the link is to be pinned to the paper, send an object in the format <code class="highlighted"><span class="token punctuation">{</span> x<span class="token punctuation">:</span> sourceX<span class="token punctuation">,</span> y<span class="token punctuation">:</span> sourceY <span class="token punctuation">}</span></code> (or a <code class="highlighted">g<span class="token punctuation">.</span>Point</code> object).</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token punctuation">:</span> rect<span class="token punctuation">.</span>id <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">g<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Additional options may by provided to further specify the behavior of link at the source:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    selector<span class="token punctuation">:</span> <span class="token string">'body'</span><span class="token punctuation">,</span>
    anchor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'bottomLeft'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            dx<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
            dy<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">10</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>More information can be found in <code class="highlighted">dia<span class="token punctuation">.</span>Link</code> <a href="#dia.Link.presentation">documentation</a>.

        </p></div>
    </div>
    <div id="dia.Link.prototype.stopTransitions" class="docs-item">
        <a href="#dia.Link.prototype.stopTransitions" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.stopTransitions</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">stopTransitions</span><span class="token punctuation">(</span><span class="token punctuation">[</span>path<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Stops all running transitions. If parameter <code class="highlighted">path</code> is provided, it will stop only transitions specified by this path.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.target" class="docs-item">
        <a href="#dia.Link.prototype.target" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.target</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a shallow copy of the <code class="highlighted">target</code> property of the link.</p>

<p>If the ending of the link is connected to an element, an object in the format <code class="highlighted"><span class="token punctuation">{</span> id<span class="token punctuation">:</span> elementID <span class="token punctuation">}</span></code> is returned. If the ending of the link is specified as a point instead (the link is <q>pinned</q> to the paper at that point), an object in the format <code class="highlighted"><span class="token punctuation">{</span> x<span class="token punctuation">:</span> targetX<span class="token punctuation">,</span> y<span class="token punctuation">:</span> targetY <span class="token punctuation">}</span></code> is returned. Furthermore, any additional arguments of the target are returned alongside those properties.</p>

<p>If you need to be sure that a Cell is returned (and not a Point), use the <code class="highlighted">link<span class="token punctuation">.</span>getTargetCell</code> <a href="#dia.Link.prototype.getTargetCell">function</a> instead. If you need an Element, use the <code class="highlighted">link<span class="token punctuation">.</span>getTargetElement</code> <a href="#dia.Link.prototype.getTargetElement">function</a>.</p>


<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>target <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Set the <code class="highlighted">target</code> of the link.</p>

<p>If the link is to be connected to an element, send an object in the format <code class="highlighted"><span class="token punctuation">{</span> id<span class="token punctuation">:</span> element<span class="token punctuation">.</span>id <span class="token punctuation">}</span></code> (or a <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code> object). If the link is to be pinned to the paper, send an object in the format <code class="highlighted"><span class="token punctuation">{</span> x<span class="token punctuation">:</span> targetX<span class="token punctuation">,</span> y<span class="token punctuation">:</span> targetY <span class="token punctuation">}</span></code> (or a <code class="highlighted">g<span class="token punctuation">.</span>Point</code> object).</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token punctuation">:</span> rect<span class="token punctuation">.</span>id <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">g<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Additional options may by provided to further specify the behavior of link at the target:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>rect<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    selector<span class="token punctuation">:</span> <span class="token string">'body'</span><span class="token punctuation">,</span>
    anchor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'bottomLeft'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            dx<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
            dy<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">10</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>More information can be found in <code class="highlighted">dia<span class="token punctuation">.</span>Link</code> <a href="#dia.Link.presentation">documentation</a>.

        </p></div>
    </div>
    <div id="dia.Link.prototype.toBack" class="docs-item">
        <a href="#dia.Link.prototype.toBack" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.toBack</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">toBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Move the link so it is behind all other cells (elements/links). This is a method analogous to <a href="#dia.Element.prototype.toBack">toBack</a> method of <code class="highlighted">Joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code>.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.toFront" class="docs-item">
        <a href="#dia.Link.prototype.toFront" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.toFront</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">toFront</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Move the element so it is on top of all other cells (elements/links). This is a method analogous to <a href="#dia.Element.prototype.toFront">toFront</a> method of <code class="highlighted">Joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code>.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.toJSON" class="docs-item">
        <a href="#dia.Link.prototype.toJSON" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.toJSON</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a copy of the link's attributes for JSON serialization. This is a method analogous to <a href="#dia.Element.prototype.toJSON">toJSON</a> method of <code class="highlighted">Joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code>.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.transition" class="docs-item">
        <a href="#dia.Link.prototype.transition" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.transition</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> value <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Allows changing of the link properties gradually over a period of time. This is method is analogous to the <a href="#dia.Element.prototype.transition">transition</a> method of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code>.</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span><span class="token string">'target'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">250</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">250</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    delay<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    duration<span class="token punctuation">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
    timingFunction<span class="token punctuation">:</span> joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>timing<span class="token punctuation">.</span>bounce<span class="token punctuation">,</span>
    valueFunction<span class="token punctuation">:</span> joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>interpolate<span class="token punctuation">.</span>object
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// will start changing the link target coordinates in 100ms, for period of 500ms and performing a bounce effect.</span></code></pre>

        </div>
    </div>
    <div id="dia.Link.prototype.translate" class="docs-item">
        <a href="#dia.Link.prototype.translate" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.translate</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>tx<span class="token punctuation">,</span> ty <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Translate the link vertices (and source and target if they are points) by <code class="highlighted">tx</code> pixels in the x-axis and <code class="highlighted">ty</code> pixels in the y-axis.</p>

<p>If <code class="highlighted">opt</code> object is passed, it can contain data that is passed over the the event listeners for the change event on the link or graph.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.vertex" class="docs-item">
        <a href="#dia.Link.prototype.vertex" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.vertex</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">vertex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span></code></pre>
<p>Return the vertex at <code class="highlighted">index</code>.</p>

<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">vertex</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> vertex <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Update the vertex at <code class="highlighted">index</code> with value of <code class="highlighted">vertex</code>. By default the new value is merged into the old value. Pass the <code class="highlighted"><span class="token punctuation">{</span> rewrite<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span></code> option along to disregard the old value.</p>

<p>A vertex has only two properties, <code class="highlighted">x</code> and <code class="highlighted">y</code>. It may be defined as a g.Point object.</p>

<p>Example vertex:

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">vertex</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    y<span class="token punctuation">:</span> <span class="token number">200</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

</p><p>Note that all vertices are stored in an array on the link model under the attribute <code class="highlighted">vertices</code>. Use the <code class="highlighted">link<span class="token punctuation">.</span>vertices</code> <a href="#dia.Link.prototype.vertices">function</a> to access the array.</p>

        </div>
    </div>
    <div id="dia.Link.prototype.vertices" class="docs-item">
        <a href="#dia.Link.prototype.vertices" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Link.prototype.vertices</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">vertices</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a shallow copy of vertices array.</p>

<pre class="docs-method-signature"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">vertices</span><span class="token punctuation">(</span>verticesArray <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Set array of vertices on the link.</p>

        </div>
    </div>
    </div>
    </div>
    <div id="dia.LinkView" class="docs-item">
    <div id="dia.LinkView.intro" class="docs-item">
        <a href="#dia.LinkView.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.LinkView</h4>
        </a>
        <div class="docs-item-content">
<p>The view for the <a href="#dia.Link">joint.dia.Link</a> model. It inherits from <a href="#dia.CellView">joint.dia.CellView</a> and is responsible for:</p>

<ul>
  <li>Rendering a link inside a paper</li>
  <li>Handling the link's pointer events</li>
  <li>Providing various methods for working with the link (visually)</li>
</ul>

<p>To find the view associated with a specific link model, use the <code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">findViewByModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Paper.prototype.findViewByModel">method</a>:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> linkView <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">findViewByModel</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<h4>Custom LinkView</h4>

<p>It is possible to use a custom default link view for all your links in a paper. This can be set up via the <code class="highlighted">linkView</code> option on the <a href="#dia.Paper.prototype.options">paper object</a>. Several options in <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView</code> may be overridden in a custom LinkView:</p>

<ul>
  <li><b>shortLinkLength</b> - if link is shorter than the length specified, the size of link tools is scaled down by half. Defaults to <code class="highlighted"><span class="token number">105</span></code>.</li>
  <li><b>doubleLinkTools</b> - render link tools on both ends of the link (only if the link is longer than <code class="highlighted">longLinkLength</code>). Defaults to <code class="highlighted"><span class="token boolean">false</span></code>.</li>
  <li><b>longLinkLength</b> - if length is longer than the length specified and <code class="highlighted">doubleLinkTools<span class="token punctuation">:</span> <span class="token boolean">true</span></code>, render link tools on both ends of the link. Defaults to <code class="highlighted"><span class="token number">155</span></code>.</li>
  <li><b>linkToolsOffset</b> - the offset of link tools from the beginning of the link. Defaults to <code class="highlighted"><span class="token number">40</span></code>.</li>
  <li><b>doubleLinkToolsOffset</b> - the offset of duplicate link tools from the end of the link, if length is longer than <code class="highlighted">longLinkLength</code> and <code class="highlighted">doubleLinkTools<span class="token punctuation">:</span> <span class="token boolean">true</span></code>. Defaults to <code class="highlighted"><span class="token number">65</span></code>.</li>
</ul>

<p>A custom LinkView type may also override default LinkView event handlers, or provide new ones. It may be necessary to modify the <code class="highlighted">interactive</code> <a href="#dia.Paper.prototype.options.interactive">paper option</a> to prevent interference from builtin event handlers (most notably <code class="highlighted">vertexAdd</code> which listens for pointerdown events).</p>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> CustomLinkView <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// custom interactions:</span>
    pointerdblclick<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addVertex</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    contextmenu<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addLabel</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// custom options:</span>
    options<span class="token punctuation">:</span> joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">defaults</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        doubleLinkTools<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>options<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    linkView<span class="token punctuation">:</span> CustomLinkView<span class="token punctuation">,</span>
    interactive<span class="token punctuation">:</span> <span class="token punctuation">{</span> vertexAdd<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span> <span class="token comment">// disable default vertexAdd interaction</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.LinkView.prototype" class="docs-item">
    <div id="dia.LinkView.prototype.addLabel" class="docs-item">
        <a href="#dia.LinkView.prototype.addLabel" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.addLabel</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">addLabel</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token punctuation">[</span><span class="token punctuation">,</span> angle<span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Add a new <a href="#dia.Link.prototype.label">default label</a> to the link at the (x,y) coordinates provided. See also the <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">appendLabel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Link.prototype.appendLabel">function</a>.</p>

<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">addLabel</span><span class="token punctuation">(</span>point <span class="token punctuation">[</span><span class="token punctuation">,</span> angle<span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Add a new <a href="#dia.Link.prototype.label">default label</a> to the link at the coordinates specified by <code class="highlighted">point</code>. See also the <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">appendLabel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Link.prototype.appendLabel">function</a>.</p>

<p>In either case, this method uses the <code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getLabelPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.LinkView.prototype.getLabelPosition">function</a> to determine the new label's <code class="highlighted">position</code>. By default, <code class="highlighted">position<span class="token punctuation">.</span>distance</code> is recorded relative to connection length (as a number in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span></code> range), and <code class="highlighted">position<span class="token punctuation">.</span>offset</code> is set relative to the connection (as a number). This behavior may be changed by providing an <code class="highlighted">opt</code> object with some of the accepted boolean flags:</p>

<ul>
    <li><code class="highlighted">absoluteDistance<span class="token punctuation">:</span> <span class="token boolean">true</span></code> records <code class="highlighted">distance</code> absolutely (as distance from beginning of link)</li>
    <li><code class="highlighted">reverseDistance<span class="token punctuation">:</span> <span class="token boolean">true</span></code> switches <code class="highlighted">distance</code> to be calculated from end of link, if <code class="highlighted">absoluteDistance</code></li>
    <li><code class="highlighted">absoluteOffset<span class="token punctuation">:</span> <span class="token boolean">true</span></code> records <code class="highlighted">offset</code> absolutely (as <code class="highlighted">x</code> and <code class="highlighted">y</code> from connection)</li>
</ul>

<p>The <code class="highlighted">angle</code> parameter, if provided, is saved as <code class="highlighted">position<span class="token punctuation">.</span>angle</code> attribute inside the returned object. Two additional flags, which may be passed in the <code class="highlighted">opt</code> object, provide more control over label rotation:</p>

<ul>
    <li><code class="highlighted">keepGradient<span class="token punctuation">:</span> <span class="token boolean">true</span></code> - adjust the rotation of the label to match the angle of incline of the path at <code class="highlighted">position<span class="token punctuation">.</span>distance</code></li>
    <li><code class="highlighted">ensureLegible<span class="token punctuation">:</span> <span class="token boolean">true</span></code> - if the label text ends up being upside-down, rotate the label by additional 180 degrees to ensure that the text stays legible, if <code class="highlighted">keepGradient</code></li>
</ul>

<p>The <code class="highlighted">opt</code> object passed to the label is recorded as <code class="highlighted">label<span class="token punctuation">.</span>position<span class="token punctuation">.</span>args</code>. The label uses these options during subsequent labelMove interactions.</p>

<p>This function is useful within custom <code class="highlighted">linkView</code> event listener definitions:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> CustomLinkView <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    contextmenu<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addLabel</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            absoluteDistance<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            reverseDistance<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// applied only when absoluteDistance is set</span>
            absoluteOffset<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            keepGradient<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            ensureLegibility<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token comment">// applied only when keepGradient is set</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    linkView<span class="token punctuation">:</span> CustomLinkView<span class="token punctuation">,</span>
    interactive<span class="token punctuation">:</span> <span class="token punctuation">{</span> vertexAdd<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span> <span class="token comment">// disable default vertexAdd interaction</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.LinkView.prototype.addTools" class="docs-item">
        <a href="#dia.LinkView.prototype.addTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.addTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">addTools</span><span class="token punctuation">(</span>toolsView<span class="token punctuation">)</span></code></pre>
<p>Add the provided <code class="highlighted">toolsView</code> (of the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolsView</code> <a href="#dia.ToolsView">type</a>) to the link view.</p>

<p>Adding a tools view to a link view is the last (third) step in the process of setting up link tools on a link view:</p>

<pre><code class="highlighted"><span class="token comment">// 1) creating link tools</span>
<span class="token keyword">var</span> verticesTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Vertices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> segmentsTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Segments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> boundaryTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Boundary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 2) creating a tools view</span>
<span class="token keyword">var</span> toolsView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolsView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'basic-tools'</span><span class="token punctuation">,</span>
    tools<span class="token punctuation">:</span> <span class="token punctuation">[</span>verticesTool<span class="token punctuation">,</span> segmentsTool<span class="token punctuation">,</span> boundaryTool<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 3) attaching to a link view</span>
<span class="token keyword">var</span> linkView <span class="token operator">=</span> link<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span>paper<span class="token punctuation">)</span><span class="token punctuation">;</span>
linkView<span class="token punctuation">.</span><span class="token function">addTools</span><span class="token punctuation">(</span>toolsView<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Every link view we want to attach to requires its own tools view object (<code class="highlighted">ToolsView</code> objects are automatically reassigned to the last link view they are added to). Similarly, every tools view we create requires its own set of tools (<code class="highlighted">ToolView</code> objects are automatically reassigned to the last <code class="highlighted">toolsView<span class="token punctuation">.</span>tools</code> array they were made part of).</p>

<p>The link tools are added in the visible state. Use the <code class="highlighted">linkView<span class="token punctuation">.</span>hideTools</code> <a href="#dia.LinkView.prototype.hideTools">function</a> if this behavior is not desirable (e.g. if you want the link tools to appear in response to user interaction). Example:</p>

<pre><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">addTools</span><span class="token punctuation">(</span>toolsView<span class="token punctuation">)</span><span class="token punctuation">;</span>
linkView<span class="token punctuation">.</span><span class="token function">hideTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'link:mouseenter'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>linkView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    linkView<span class="token punctuation">.</span><span class="token function">showTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'link:mouseleave'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>linkView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    linkView<span class="token punctuation">.</span><span class="token function">hideTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.LinkView.prototype.addVertex" class="docs-item">
        <a href="#dia.LinkView.prototype.addVertex" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.addVertex</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">addVertex</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span></code></pre>
<p>Add a new <a href="#dia.Link.prototype.vertex">default vertex</a> to the link at the coordinates provided, and let the linkView automatically determine the index of the new vertex in the vertices array. If you need to add the vertex at a custom index, use the <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">addVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Link.prototype.addVertex">function</a> instead.</p>

<p>This method uses the <code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getVertexIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.LinkView.prototype.getVertexIndex">function</a> to determine the index of the new vertex in the <code class="highlighted">vertices</code> array. The linkView checks the distance of vertices in the <code class="highlighted">link<span class="token punctuation">.</span>vertices</code> array from the beginning of path and compares it to the distance of the added vertex. The new vertex is inserted before the first farther vertex in the <code class="highlighted">vertices</code> array.

</p><p>This function is useful within custom <code class="highlighted">linkView</code> event listener definitions. The following example adds a new vertex on a double click event, instead of a pointerdown event (which is the default behavior):</p>

<pre><code class="highlighted"><span class="token keyword">var</span> CustomLinkView <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    pointerdblclick<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addVertex</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    linkView<span class="token punctuation">:</span> CustomLinkView<span class="token punctuation">,</span>
    interactive<span class="token punctuation">:</span> <span class="token punctuation">{</span> vertexAdd<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span> <span class="token comment">// disable default vertexAdd interaction</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getBBox" class="docs-item">
        <a href="#dia.LinkView.prototype.getBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Return a bounding box of the link view.</p>

<p>If <code class="highlighted">opt<span class="token punctuation">.</span>useModelGeometry</code> option is set to <code class="highlighted"><span class="token boolean">true</span></code>, the resulting bounding box is calculated based on the dimensions of the link model. (This means that a simplified polyline is used and portions of curved links may be <q>sticking out</q> of the reported bounding box.) This behavior is similar to the <code class="highlighted">link<span class="token punctuation">.</span>getBBox</code> <a href="#dia.Link.prototype.getBBox">function</a> – but the <code class="highlighted">linkView</code> function transforms the bounding box to match <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</code> translation and scaling.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getClosestPoint" class="docs-item">
        <a href="#dia.LinkView.prototype.getClosestPoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getClosestPoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getClosestPoint</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span></code></pre>
<p>Return the point on the connection that lies closest to <code class="highlighted">point</code>.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getClosestPointLength" class="docs-item">
        <a href="#dia.LinkView.prototype.getClosestPointLength" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getClosestPointLength</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getClosestPointLength</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span></code></pre>
<p>Return the length of the connection up to the point that lies closest to <code class="highlighted">point</code>.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getClosestPointRatio" class="docs-item">
        <a href="#dia.LinkView.prototype.getClosestPointRatio" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getClosestPointRatio</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getClosestPointRatio</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span></code></pre>
<p>Return the ratio (normalized length) of the connection up to the point that lies closest to <code class="highlighted">point</code>. The returned value lies in the interval <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span></code> (inclusive).</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getConnection" class="docs-item">
        <a href="#dia.LinkView.prototype.getConnection" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getConnection</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a geometric representation of the connection (instance of <a target="_blank" href="geometry.html#g.Path">g.Path</a>).</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getConnectionLength" class="docs-item">
        <a href="#dia.LinkView.prototype.getConnectionLength" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getConnectionLength</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getConnectionLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a cached total length of the connection in pixels.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getConnectionSubdivisions" class="docs-item">
        <a href="#dia.LinkView.prototype.getConnectionSubdivisions" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getConnectionSubdivisions</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getConnectionSubdivisions</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a cached array of segment subdivision arrays of the connection. (See <code class="highlighted">g<span class="token punctuation">.</span>Path<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">getSegmentSubdivisons</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a target="_blank" href="geometry.html#g.Path.prototype.getSegmentSubdivisions">documentation</a> for more information.)</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getLabelCoordinates" class="docs-item">
        <a href="#dia.LinkView.prototype.getLabelCoordinates" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getLabelCoordinates</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getLabelCoordinates</span><span class="token punctuation">(</span>labelPosition<span class="token punctuation">)</span></code></pre>
<p>Return the <code class="highlighted">x</code> and <code class="highlighted">y</code> coordinates based on the provided <code class="highlighted">labelPosition</code> object.</p>

<p>See <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">label</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Link.prototype.label">documentation</a> for more information about the <code class="highlighted">position</code> object.</p>

<p>An object in the format <code class="highlighted"><span class="token punctuation">{</span> x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> number <span class="token punctuation">}</span></code> is returned.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getLabelPosition" class="docs-item">
        <a href="#dia.LinkView.prototype.getLabelPosition" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getLabelPosition</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getLabelPosition</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token punctuation">[</span><span class="token punctuation">,</span> angle<span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Return a label <code class="highlighted">position</code> object based on the <code class="highlighted">x</code> and <code class="highlighted">y</code> coordinates provided.</p>

<p>The function translates the provided coordinates and <code class="highlighted">angle</code> into an object with three fields:</p>

<ul>
    <li><code class="highlighted">distance</code> - the distance (following the line) of the point on the line that is closest to point <code class="highlighted">x<span class="token punctuation">,</span>y</code>.</li>
    <li><code class="highlighted">offset</code> - the distance between the closest point and the point <code class="highlighted">x<span class="token punctuation">,</span>y</code>.</li>
    <li><code class="highlighted">angle</code> - the angle of the label relative to the connection line, as determined by the <code class="highlighted">angle</code> parameter, or <code class="highlighted"><span class="token number">0</span></code> if <code class="highlighted">angle</code> was not specified.
</li></ul>

<p>By default, <code class="highlighted">position<span class="token punctuation">.</span>distance</code> is calculated as relative to <a href="#dia.LinkView.prototype.getConnectionLength">connection length</a> (as a number in the <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span></code> range that records the <a href="#dia.LinkView.prototype.getClosestPointRatio">length ratio</a>), and <code class="highlighted">position<span class="token punctuation">.</span>offset</code> is calculated as relative to the connection (as a number recording the <a href="geometry.html#g.Line.prototype.pointOffset">perpendicular distance</a>). The user may change this behavior by providing an <code class="highlighted">opt</code> object with some of the following accepted boolean flags:</p>

<ul>
    <li><code class="highlighted">absoluteDistance<span class="token punctuation">:</span> <span class="token boolean">true</span></code> - record <code class="highlighted">distance</code> absolutely (as <a href="#dia.LinkView.prototype.getClosestPointLength">absolute distance</a> from beginning of link, a positive number)</li>
    <li><code class="highlighted">reverseDistance<span class="token punctuation">:</span> <span class="token boolean">true</span></code> - if <code class="highlighted">absoluteDistance<span class="token punctuation">:</span> <span class="token boolean">true</span></code>, record <code class="highlighted">distance</code> absolutely from end of link (as a negative number)</li>
    <li><code class="highlighted">absoluteOffset<span class="token punctuation">:</span> <span class="token boolean">true</span></code> - record <code class="highlighted">offset</code> absolutely (as <code class="highlighted">x</code> and <code class="highlighted">y</code> distance from closest point)</li>
</ul>

<p>Please note that if the <code class="highlighted">absoluteOffset</code> flag is not set, label can only be placed/moved in the area that is reachable by lines perpendicular to the link (that is, the label can never be moved beyond link endpoints).</p>

<p>Two additional flags, which may be passed in the <code class="highlighted">opt</code> object, provide control over label rotation:</p>

<ul>
    <li><code class="highlighted">keepGradient<span class="token punctuation">:</span> <span class="token boolean">true</span></code> - adjust the rotation of the label to match the angle of incline of the path at <code class="highlighted">position<span class="token punctuation">.</span>distance</code></li>
    <li><code class="highlighted">ensureLegible<span class="token punctuation">:</span> <span class="token boolean">true</span></code> - if the label text ends up being upside-down, rotate the label by additional 180 degrees to ensure that the text stays legible, if <code class="highlighted">keepGradient</code></li>
</ul>

<p>The <code class="highlighted">opt</code> object passed to the label is recorded as <code class="highlighted">label<span class="token punctuation">.</span>position<span class="token punctuation">.</span>args</code>. The label uses these options during subsequent labelMove interactions.</p>

<p>An object in the following format is returned:</p>

<pre><code class="highlighted"><span class="token punctuation">{</span>
    distance<span class="token punctuation">:</span> number<span class="token punctuation">,</span>
    offset<span class="token punctuation">:</span> number <span class="token operator">|</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> number <span class="token punctuation">}</span><span class="token punctuation">,</span>
    angle<span class="token punctuation">:</span> number<span class="token punctuation">,</span>
    args<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        absoluteDistance<span class="token operator">?</span><span class="token punctuation">:</span> boolean<span class="token punctuation">,</span>
        reverseDistance<span class="token operator">?</span><span class="token punctuation">:</span> boolean<span class="token punctuation">,</span> <span class="token comment">// applied only when absoluteDistance is set</span>
        absoluteOffset<span class="token operator">?</span><span class="token punctuation">:</span> boolean<span class="token punctuation">,</span>
        keepGradient<span class="token operator">?</span><span class="token punctuation">:</span> boolean<span class="token punctuation">,</span>
        ensureLegible<span class="token operator">?</span><span class="token punctuation">:</span> boolean <span class="token comment">// applied only when keepGradient is set</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>

<p>See <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">label</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Link.prototype.label">documentation</a> for more information about the <code class="highlighted">position</code> object.</p>

<p>This function can be used to add a custom label to the <code class="highlighted">link<span class="token punctuation">.</span>labels</code> <a href="#dia.Link.prototype.labels">array</a>, in situations when the <code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">addLabel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.LinkView.prototype.addLabel">function</a> is not sufficient. For example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> CustomLinkView <span class="token operator">=</span> joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    contextmenu<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> idx <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// add at end of `labels`</span>
        <span class="token keyword">var</span> label <span class="token operator">=</span> <span class="token punctuation">{</span>
            markup<span class="token punctuation">:</span> <span class="token string">'&lt;g class="label">&lt;circle />&lt;path />&lt;/g>'</span><span class="token punctuation">,</span>
            attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                circle<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                    r<span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
                    fill<span class="token punctuation">:</span> <span class="token string">'lightgray'</span><span class="token punctuation">,</span>
                    stroke<span class="token punctuation">:</span> <span class="token string">'black'</span><span class="token punctuation">,</span>
                    strokeWidth<span class="token punctuation">:</span> <span class="token number">2</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                path<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                    d<span class="token punctuation">:</span> <span class="token string">'M 0 -15 0 -35 20 -35'</span><span class="token punctuation">,</span>
                    stroke<span class="token punctuation">:</span> <span class="token string">'black'</span><span class="token punctuation">,</span>
                    strokeWidth<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                    fill<span class="token punctuation">:</span> <span class="token string">'none'</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            position<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLabelPosition</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                absoluteOffset<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                keepGradient<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                ensureLegible<span class="token punctuation">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">addLabel</span><span class="token punctuation">(</span>idx<span class="token punctuation">,</span> label<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    linkView<span class="token punctuation">:</span> CustomLinkView<span class="token punctuation">,</span>
    interactive<span class="token punctuation">:</span> <span class="token punctuation">{</span> vertexAdd<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span> <span class="token comment">// disable default vertexAdd interaction</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getNodeBBox" class="docs-item">
        <a href="#dia.LinkView.prototype.getNodeBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getNodeBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">elementView<span class="token punctuation">.</span><span class="token function">getNodeBBox</span><span class="token punctuation">(</span>magnet<span class="token punctuation">)</span></code></pre>
<p>Return the bounding box of the SVGElement provided as <code class="highlighted">magnet</code> (model of this link view).</p>

<p>Use the <code class="highlighted">paper<span class="token punctuation">.</span>localToPaperRect</code> <a href="dia.Paper.prototype.localToPaperRect">function</a> to transform the returned bounding box to match the paper's translation and scaling.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getNodeUnrotatedBBox" class="docs-item">
        <a href="#dia.LinkView.prototype.getNodeUnrotatedBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getNodeUnrotatedBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">elementView<span class="token punctuation">.</span><span class="token function">getNodeUnrotatedBBox</span><span class="token punctuation">(</span>magnet<span class="token punctuation">)</span></code></pre>
<p>Return the unrotated bounding box of the SVGElement provided as <code class="highlighted">magnet</code> (model of this link view).</p>

<p>Use the <code class="highlighted">paper<span class="token punctuation">.</span>localToPaperRect</code> <a href="dia.Paper.prototype.localToPaperRect">function</a> to transform the returned bounding box to match the paper's translation and scaling.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getPointAtLength" class="docs-item">
        <a href="#dia.LinkView.prototype.getPointAtLength" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getPointAtLength</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getPointAtLength</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span></code></pre>
<p>Return the point on the path that lies <code class="highlighted">length</code> away from the beginning of the connection.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getPointAtRatio" class="docs-item">
        <a href="#dia.LinkView.prototype.getPointAtRatio" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getPointAtRatio</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getPointAtRatio</span><span class="token punctuation">(</span>ratio<span class="token punctuation">)</span></code></pre>
<p>Return the point on the path that lies <code class="highlighted">ratio</code> (normalized length) away from the beginning of the connection.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getSerializedConnection" class="docs-item">
        <a href="#dia.LinkView.prototype.getSerializedConnection" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getSerializedConnection</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getSerializedConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a cached path data of the connection (the value of the <code class="highlighted"><span class="token string">'d'</span></code> SVGPathElement attribute).</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getTangentAtLength" class="docs-item">
        <a href="#dia.LinkView.prototype.getTangentAtLength" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getTangentAtLength</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getTangentAtLength</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span></code></pre>
<p>Return a line tangent to the path at point that lies <code class="highlighted">length</code> away from the beginning of the connection.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getTangentAtRatio" class="docs-item">
        <a href="#dia.LinkView.prototype.getTangentAtRatio" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getTangentAtRatio</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getTangentAtRatio</span><span class="token punctuation">(</span>ratio<span class="token punctuation">)</span></code></pre>
<p>Return a line tangent to the path at point that lies <code class="highlighted">ratio</code> (normalized length) away from the beginning of the connection.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.getVertexIndex" class="docs-item">
        <a href="#dia.LinkView.prototype.getVertexIndex" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.getVertexIndex</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">getVertexIndex</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span></code></pre>
<p>Return the <code class="highlighted">vertices</code> array index at which to insert a new vertex with the provided <code class="highlighted">x</code> and <code class="highlighted">y</code> coordinates.</p>

<p>The linkView finds the point on the connection that lies closest to the point <code class="highlighted">x<span class="token punctuation">,</span>y</code>. Then, the linkView iterates over the vertices in the <code class="highlighted">link<span class="token punctuation">.</span>vertices</code> <a href="#dia.Link.prototype.vertices">array</a> until one is found that lies farther than the identified closest point. The index of the farther point is returned.</p>

<p>The returned index can be used as the first argument of the <code class="highlighted">link<span class="token punctuation">.</span>addVertex</code> <a href="#dia.Link.prototype.addVertex">function</a>.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.hasTools" class="docs-item">
        <a href="#dia.LinkView.prototype.hasTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.hasTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">hasTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> if this link view has a tools view attached.</p>

<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">hasTools</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> if this link view has a tools view of the provided <code class="highlighted">name</code> attached.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.hideTools" class="docs-item">
        <a href="#dia.LinkView.prototype.hideTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.hideTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">hideTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Hide all tools attached to this link view.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.removeRedundantLinearVertices" class="docs-item">
        <a href="#dia.LinkView.prototype.removeRedundantLinearVertices" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.removeRedundantLinearVertices</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">removeRedundantLinearVertices</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Remove any redundant vertices from the model's <code class="highlighted">vertices</code> array. Return the number of removed vertices.</p>

<p>A vertex is considered <q>redundant</q> if it lies on the straight line formed by the vertex that immediately precedes it and the vertex that immediately follows it. (Intuitively speaking, a vertex is considered <q>redundant</q> if its removal from the link does not change the shape of the link.)</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.removeTools" class="docs-item">
        <a href="#dia.LinkView.prototype.removeTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.removeTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">removeTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Remove the tools view attached to this link view.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.sendToken" class="docs-item">
        <a href="#dia.LinkView.prototype.sendToken" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.sendToken</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">sendToken</span><span class="token punctuation">(</span>token <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">,</span> callback<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Send a token along the link. <code class="highlighted">token</code> is an SVG element (or Vectorizer element) that will be animated along the link path for <code class="highlighted">opt<span class="token punctuation">.</span>duration</code> milliseconds (default is 1000ms). The <code class="highlighted">callback</code> function will be called once the token reaches the end of the link path.</p>

<p><code class="highlighted">opt<span class="token punctuation">.</span>direction</code> specifies whether the animation should be played forwards (<code class="highlighted"><span class="token string">'normal'</span></code> - from the link source to target, the default) or backwards (<code class="highlighted"><span class="token string">'reverse'</span></code>).</p>

<p>Use <code class="highlighted">opt<span class="token punctuation">.</span>connection</code> to specify the SVGPathElement for the token to follow. It expects a string selector, e.g. <code class="highlighted"><span class="token string">'.connection'</span></code>.</p>

<pre><code class="highlighted"><span class="token comment">// Send an SVG circle token along the link.</span>
<span class="token keyword">var</span> vCircle <span class="token operator">=</span> <span class="token constant">V</span><span class="token punctuation">(</span><span class="token string">'circle'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> r<span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span> fill<span class="token punctuation">:</span> <span class="token string">'green'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span>paper<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sendToken</span><span class="token punctuation">(</span>vCircle<span class="token punctuation">,</span> <span class="token punctuation">{</span> duration<span class="token punctuation">:</span> <span class="token number">500</span><span class="token punctuation">,</span> direction<span class="token punctuation">:</span> <span class="token string">'reverse'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'animation end'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Note that in the code above, we use the <a href="vectorizer.html">Vectorizer</a> mini-library to create the SVG <code class="highlighted">circle</code> element.</p>

<p>See the <a href="http://jointjs.com/demos/pn">Petri Net simulator demo</a> for a full working example.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.showTools" class="docs-item">
        <a href="#dia.LinkView.prototype.showTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.showTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">showTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Show all tools attached to this link view.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.sourceAnchor" class="docs-item">
        <a href="#dia.LinkView.prototype.sourceAnchor" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.sourceAnchor</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span>sourceAnchor</code></pre>
<p>A prototype variable. Contains a g.Point that records the position of the source anchor of the link, as determined by the <a href="#dia.Link.presentation.anchor">anchor function</a> specified on the link's <a href="#dia.Link.presentation.source">source</a>.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.sourceBBox" class="docs-item">
        <a href="#dia.LinkView.prototype.sourceBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.sourceBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span>sourceBBox</code></pre>
<p>A prototype variable. Contains a g.Rect that records the position and dimensions of the bounding box of the source magnet (element/subelement/port), as determined by the link's <a href="#dia.Link.presentation.source">source definition</a>.</p>

<p>If the source is defined as a point, a g.Rect is returned that records the position of the point and has the dimensions (1,1).</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.sourcePoint" class="docs-item">
        <a href="#dia.LinkView.prototype.sourcePoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.sourcePoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span>sourcePoint</code></pre>
<p>A prototype variable. Contains a g.Point that records the position of the source connection point of the link, as determined by the <a href="#dia.Link.presentation.connectionPoint">connection point function</a> specified on the link's <a href="#dia.Link.presentation.source">source</a>.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.targetAnchor" class="docs-item">
        <a href="#dia.LinkView.prototype.targetAnchor" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.targetAnchor</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span>targetAnchor</code></pre>
<p>A prototype variable. Contains a g.Point that records the position of the target anchor of the link, as determined by the <a href="#dia.Link.presentation.anchor">anchor function</a> specified on the link's <a href="#dia.Link.presentation.target">target</a>.</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.targetBBox" class="docs-item">
        <a href="#dia.LinkView.prototype.targetBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.targetBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span>targetBBox</code></pre>
<p>A prototype variable. Contains a g.Rect that records the position and dimensions of the bounding box of the target magnet (element/subelement/port), as determined by the link's <a href="#dia.Link.presentation.target">target definition</a>.</p>

<p>If the target is defined as a point, a g.Rect is returned that records the position of the point and has the dimensions (1,1).</p>

        </div>
    </div>
    <div id="dia.LinkView.prototype.targetPoint" class="docs-item">
        <a href="#dia.LinkView.prototype.targetPoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.LinkView.prototype.targetPoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">linkView<span class="token punctuation">.</span>targetPoint</code></pre>
<p>A prototype variable. Contains a g.Point that records the position of the target connection point of the link, as determined by the <a href="#dia.Link.presentation.conenctionPoint">connection point function</a> specified on the link's <a href="#dia.Link.presentation.target">target</a>.</p>

        </div>
    </div>
    </div>
    </div>
    <div id="dia.Paper" class="docs-item">
    <div id="dia.Paper.constructor" class="docs-item">
        <a href="#dia.Paper.constructor" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Paper.constructor</h4>
        </a>
        <div class="docs-item-content">
<p><b>joint.dia.Paper</b> is the view for the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</code> model. It inherits from <a href="http://backbonejs.org/#View">Backbone View</a>. Accepts an options object in its constructor with <a href="#dia.Paper.prototype.options">numerous settings</a>.</p>

<p>When a paper is associated with a graph, the paper makes sure that all the cells added to the graph are automatically rendered.</p>

<pre><code class="highlighted"><span class="token keyword">var</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</span>
<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token punctuation">:</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#paper'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    width<span class="token punctuation">:</span> <span class="token number">600</span><span class="token punctuation">,</span>
    height<span class="token punctuation">:</span> <span class="token number">400</span><span class="token punctuation">,</span>
    gridSize<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    model<span class="token punctuation">:</span> graph
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>Rect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    position<span class="token punctuation">:</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">70</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    size<span class="token punctuation">:</span> <span class="token punctuation">{</span> width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">40</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

graph<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Paper automatically handles this change and renders the rectangle to the SVG document that it internally holds.</p>

        </div>
    </div>
    <div id="dia.Paper.events" class="docs-item">
        <a href="#dia.Paper.events" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.Paper.events</h4>
        </a>
        <div class="docs-item-content">
<p>The following list contains events that you can react on in a paper:</p>
<table>
  <tr>
    <th>pointerdblclick</th>
    <td>
      <p>Triggered when pointer is double-clicked on a target (a <code class="highlighted">dblclick</code> event is detected).</p>
      <p>The callback function is passed <code class="highlighted">cellView</code>, <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:pointerdblclick</th>
          <td>Triggered when pointer is double-clicked on a cell.</td>
        </tr>
        <tr>
          <th>link:pointerdblclick</th>
          <td>Triggered when pointer is double-clicked on a link.</td>
        </tr>
        <tr>
          <th>element:pointerdblclick</th>
          <td>Triggered when pointer is double-clicked on an element.</td>
        </tr>
        <tr>
          <th>blank:pointerdblclick</th>
          <td>
            <p>Triggered when pointer is double-clicked on the paper outside any cell.</p>
            <p>The callback function is passed <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>pointerclick</th>
    <td>
      <p>Triggered when pointer is clicked on a target without pointer movement (a <code class="highlighted">click</code> or <code class="highlighted">touchend</code> event is detected). Occurs alongside <code class="highlighted">pointerdown</code> and <code class="highlighted">pointerup</code> events.</p>
      <p>The callback function is passed <code class="highlighted">cellView</code>, <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:pointerclick</th>
          <td>Triggered when pointer is clicked on a cell.</td>
        </tr>
        <tr>
          <th>link:pointerclick</th>
          <td>Triggered when pointer is clicked on a link. </td>
        </tr>
        <tr>
          <th>element:pointerclick</th>
          <td>Triggered when pointer is clicked on an element.</td>
        </tr>
        <tr>
          <th>blank:pointerclick</th>
          <td>
            <p>Triggered when pointer is clicked on the paper outside any cell.</p>
            <p>The callback function is passed <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>contextmenu</th>
    <td>
      <p>Triggered when pointer is right-clicked on a target (a <code class="highlighted">contextmenu</code> event is detected).</p>
      <p>The callback function is passed <code class="highlighted">cellView</code>, <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:contextmenu</th>
          <td>Triggered when pointer is right-clicked on a cell.</td>
        </tr>
        <tr>
          <th>link:contextmenu</th>
          <td>Triggered when pointer is right-clicked on a link.</td>
        </tr>
        <tr>
          <th>element:contextmenu</th>
          <td>Triggered when pointer is right-clicked on an element.</td>
        </tr>
        <tr>
          <th>blank:contextmenu</th>
          <td>
            <p>Triggered when pointer is right-clicked on the paper outside any cell.</p>
            <p>The callback function is passed <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>pointerdown</th>
    <td>
      <p>Triggered when pointer is pressed down on a target (a <code class="highlighted">mousedown</code> or <code class="highlighted">touchstart</code> event is detected). The paper also starts delegating respective <code class="highlighted">pointermove</code> and <code class="highlighted">pointerup</code> events (including their touch counterparts; see below).</p>
      <p>The callback function is passed <code class="highlighted">cellView</code>, <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:pointerdown</th>
          <td>Triggered when pointer is pressed down on a cell.</td>
        </tr>
        <tr>
          <th>link:pointerdown</th>
          <td>Triggered when pointer is pressed down on a link.</td>
        </tr>
        <tr>
          <th>element:pointerdown</th>
          <td>Triggered when pointer is pressed down on an element.</td>
        </tr>
        <tr>
          <th>blank:pointerdown</th>
          <td>
            <p>Triggered when pointer is pressed down on the paper outside any cell.</p>
            <p>The callback function is passed <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>pointermove</th>
    <td>
      <p>Triggered when pointer is moved over a target while pressed down (a <code class="highlighted">mousemove</code> or <code class="highlighted">touchmove</code> event is detected).</p>
      <p>The callback function is passed <code class="highlighted">cellView</code>, <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:pointermove</th>
          <td>Triggered when pointer is moved over a cell.</td>
        </tr>
        <tr>
          <th>link:pointermove</th>
          <td>Triggered when pointer is moved over a link.</td>
        </tr>
        <tr>
          <th>element:pointermove</th>
          <td>Triggered when pointer is moved over an element.</td>
        </tr>
        <tr>
          <th>blank:pointermove</th>
          <td>
            <p>Triggered when pointer is moved over the paper outside any cell.</p>
            <p>The callback function is passed <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>pointerup</th>
    <td>
      <p>Triggered when pointer is released on a target after being pressed down (a <code class="highlighted">mouseup</code> or <code class="highlighted">touchend</code> event is detected).</p>
      <p>The callback function is passed <code class="highlighted">cellView</code>, <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:pointerup</th>
          <td>Triggered when pointer is released on a cell.</td>
        </tr>
        <tr>
          <th>link:pointerup</th>
          <td>Triggered when pointer is relased on a link.</td>
        </tr>
        <tr>
          <th>element:pointerup</th>
          <td>Triggered when pointer is released on an element.</td>
        </tr>
        <tr>
          <th>blank:pointerup</th>
          <td>
            <p>Triggered when pointer is released on the paper outside any cell.</p>
            <p>The callback function is passed <code class="highlighted">evt</code>, <code class="highlighted">x</code> and <code class="highlighted">y</code> as arguments.</p>
          </td>
        </tr>
      </table>
      <p>Calling <code class="highlighted">evt<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> prevents triggering a subsequent <code class="highlighted">pointerclick</code> event.</p>
    </td>
  </tr>
  <tr>
    <th>mouseover</th>
    <td>
      <p>Triggered when pointer begins to hover directly over a target.</p>
      <p>The callback function is passed <code class="highlighted">cellView</code> and <code class="highlighted">evt</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:mouseover</th>
          <td>Triggered when pointer begins to hover directly over a cell.</td>
        </tr>
        <tr>
          <th>link:mouseover</th>
          <td>Triggered when pointer begins to hover directly over a link.</td>
        </tr>
        <tr>
          <th>element:mouseover</th>
          <td>Triggered when pointer begins to hover directly over an element.</td>
        </tr>
        <tr>
          <th>blank:mouseover</th>
          <td>
            <p>Triggered when pointer begins to hover over the <code class="highlighted">svg</code> element of the paper outside any cell.</p>
            <p>The callback function is passed <code class="highlighted">evt</code> as argument.</p>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>mouseout</th>
    <td>
      <p>Triggered when pointer ceases to hover directly over a target.</p>
      <p>The callback function is passed <code class="highlighted">cellView</code> and <code class="highlighted">evt</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:mouseout</th>
          <td>Triggered when pointer ceases to hover directly over a cell.</td>
        </tr>
        <tr>
          <th>link:mouseout</th>
          <td>Triggered when pointer ceases to hover directly over a link.</td>
        </tr>
        <tr>
          <th>element:mouseout</th>
          <td>Triggered when pointer ceases to hover directly over an element.</td>
        </tr>
        <tr>
          <th>blank:mouseout</th>
          <td>
            <p>Triggered when pointer ceases to hover over the <code class="highlighted">svg</code> element of the paper outside any cell.</p>
            <p>The callback function is passed <code class="highlighted">evt</code> as argument.</p>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>mouseenter</th>
    <td>
      <p>Triggered when pointer enters the area above a target.</p>
      <p>The callback function is passed <code class="highlighted">cellView</code> and <code class="highlighted">evt</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:mouseenter</th>
          <td>Triggered when pointer enters the area above a cell.</td>
        </tr>
        <tr>
          <th>link:mouseenter</th>
          <td>Triggered when pointer enters the area above a link.</td>
        </tr>
        <tr>
          <th>element:mouseenter</th>
          <td>Triggered when pointer enters the area above an element.</td>
        </tr>
        <tr>
          <th>paper:mouseenter</th>
          <td>
            <p>Triggered when pointer enters the area of the paper (including paper border, if present).</p>
            <p>The callback function is passed <code class="highlighted">evt</code> as argument.</p>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>mouseleave</th>
    <td>
      <p>Triggered when pointer leaves the area above a target.</p>
      <p>The callback function is passed <code class="highlighted">cellView</code> and <code class="highlighted">evt</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:mouseleave</th>
          <td>Triggered when pointer leaves the area above a cell.</td>
        </tr>
        <tr>
          <th>link:mouseleave</th>
          <td>Triggered when pointer leaves the area above a link.</td>
        </tr>
        <tr>
          <th>element:mouseleave</th>
          <td>Triggered when pointer leaves the area above an element.</td>
        </tr>
        <tr>
          <th>paper:mouseleave</th>
          <td>
            <p>Triggered when pointer leaves the area of the paper (including paper border, if present).</p>
            <p>The callback function is passed <code class="highlighted">evt</code> as argument.</p></td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>mousewheel</th>
    <td>
      <p>Triggered when mouse wheel is rotated while pointer is on a target.</p>
      <p>The callback function is passed <code class="highlighted">cellView</code>, <code class="highlighted">evt</code>, <code class="highlighted">x</code>, <code class="highlighted">y</code> and <code class="highlighted">delta</code> as arguments.</p>
      <table>
        <tr>
          <th>cell:mousewheel</th>
          <td>Triggered when mouse wheel is rotated while the pointer is on a cell.</td>
        </tr>
        <tr>
          <th>link:mousewheel</th>
          <td>Triggered when mouse wheel is rotated while the pointer is on a link.</td>
        </tr>
        <tr>
          <th>element:mousewheel</th>
          <td>Triggered when mouse wheel is rotated while the pointer is on an element.</td>
        </tr>
        <tr>
          <th>blank:mousewheel</th>
          <td>
            <p>Triggered when mouse wheel is rotated while the pointer is on the paper outside any cell.</p>
            <p>The callback function is passed <code class="highlighted">evt</code>, <code class="highlighted">x</code>, <code class="highlighted">y</code> and <code class="highlighted">delta</code> as arguments.</p>
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <th>magnet</th>
      <td>
        <p>Triggered when interacting with a magnet target.</p>
        <p>The callback function is passed <code class="highlighted">elementView</code>, <code class="highlighted">evt</code>, <code class="highlighted">magnetSVGElement</code>, <code class="highlighted">x</code>, <code class="highlighted">y</code> as arguments.</p>
        <table>
          <tr>
            <th>element:magnet:pointerclick</th>
            <td>Triggered when pointer is clicked on an element magnet and no link was created yet from this magnet (controlled by <a href="#dia.Paper.prototype.options.magnetThreshold">magnetThreshold</a> option). Calling <code class="highlighted">evt<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> prevents triggering <code class="highlighted">cell<span class="token punctuation">:</span>pointerclick</code> and <code class="highlighted">element<span class="token punctuation">:</span>pointerclick</code> events.</td>
          </tr>
          <tr>
            <th>element:magnet:pointerdblclick</th>
            <td>Triggered when pointer is double-clicked on an element magnet. Calling <code class="highlighted">evt<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> prevents triggering <code class="highlighted">cell<span class="token punctuation">:</span>pointerdblclick</code> and <code class="highlighted">element<span class="token punctuation">:</span>pointerdblclick</code> events.</td>
          </tr>
          <tr>
            <th>element:magnet:contextmenu</th>
            <td>Triggered when pointer is right-clicked on an element magnet. Calling <code class="highlighted">evt<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> prevents triggering <code class="highlighted">cell<span class="token punctuation">:</span>contextmenu</code> and <code class="highlighted">element<span class="token punctuation">:</span>contextmenu</code> events.</td><td>
          </td></tr>
        </table>
      </td>
    </tr>
  <tr>
    <th>cell:highlight</th>
    <td>
      <p>Triggered when the <code class="highlighted">cellView<span class="token punctuation">.</span>highlight</code> <a href="#dia.CellView.prototype.highlight">method</a> is called on a link or element view.</p>
      <p>The callback function is passed <code class="highlighted">cellView</code> and <code class="highlighted">el</code> as arguments.</p>
      <p>The default handler method adds the <code data-lang="css" class="highlighted"><span class="token string">"highlighted"</span></code> CSS class to the cell, so that it can be targeted in user stylesheets. To use a different method for highlighting cells, first unregister the default handler with <code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">'cell:highlight'</span><span class="token punctuation">)</span></code> and then register a custom handler with <code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'cell:highlight'</span><span class="token punctuation">,</span> myHandler<span class="token punctuation">)</span></code>.</p>
      <p>This method is also called automatically, in two situations. First, if the user reconnects a link and the connection is valid as determined by the <code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>validateConnection</code> <a href="#dia.Paper.prototype.options.validateConnection">method</a>. Second, if <a href="#dia.Paper.prototype.options.embeddingMode">embedding mode</a> is enabled on the paper and dragged element is above another element it can be dropped onto as determined by the <code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>validateEmbedding</code> <a href="#dia.Paper.prototype.options.validateEmbedding">method</a>.</p>
    </td>
  </tr>
  <tr>
    <th>cell:unhighlight</th>
    <td>
      <p>Triggered when the <code class="highlighted">cellView<span class="token punctuation">.</span>unhighlight</code> <a href="#dia.CellView.prototype.unhighlight">method</a> is called on a link or element view.</p>
      <p>The callback function is passed <code class="highlighted">cellView</code> and <code class="highlighted">el</code> as arguments.</p>
      <p>The default handler method removes the <code data-lang="css" class="highlighted"><span class="token string">"highlighted"</span></code> CSS class from the cell. To use a different method, first unregister the default handler with <code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">'cell:unhighlight'</span><span class="token punctuation">)</span></code> and then register a custom handler with <code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'cell:unhighlight'</span><span class="token punctuation">,</span> myHandler<span class="token punctuation">)</span></code>.</p>
      <p>It is important to note that if a cell was highlighted using custom options, those exact same options must be provided to the unhighlight handler.</p>
    </td>
  </tr>
  <tr>
    <th>link:connect</th>
    <td>
      <p>Triggered when a link is connected to a cell.</p>
      <p>The callback function is passed <code class="highlighted">linkView</code>, <code class="highlighted">evt</code>, <code class="highlighted">elementViewConnected</code>, <code class="highlighted">magnet</code> and <code class="highlighted">arrowhead</code> as arguments.</p>
    </td>
  </tr>
  <tr>
    <th>link:disconnect</th>
    <td>
      <p>Triggered when a link is disconnected from a cell.</p>
      <p>The callback function is passed <code class="highlighted">linkView</code>, <code class="highlighted">evt</code>, <code class="highlighted">elementViewDisconnected</code>, <code class="highlighted">magnet</code> and <code class="highlighted">arrowhead</code> as arguments.</p>
    </td>
  </tr>
  <tr>
    <th>rendered:done</th>
    <td>Triggered when the paper has finished rendering all cell views in case <a href="#dia.Paper.prototype.options.async">async</a> rendering is enabled.</td>
  </tr>
  <tr>
    <th>[custom]</th>
    <td>Custom cell event can be triggered on pointerdown with <a href="#dia.attributes.event">Event</a> attribute. Calling <code class="highlighted">evt<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> prevents triggering all subsequent events.</td>
  </tr>
</table>

<p>An example of a simple <code class="highlighted">blank<span class="token punctuation">:</span>pointerdown</code> event listener:</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'blank:pointerdown'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'pointerdown on a blank area in the paper.'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>

<p>Consecutive <code class="highlighted">pointerdown</code>, <code class="highlighted">pointermove</code> and <code class="highlighted">pointerup</code> events can share information through the <code class="highlighted">evt<span class="token punctuation">.</span>data</code> object:</p>

<pre><code class="highlighted"><span class="token comment">// Create a new link by dragging</span>
paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string">'blank:pointerdown'</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    link<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'source'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> y <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    link<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'target'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> y <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    link<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>
    evt<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">{</span> link<span class="token punctuation">:</span> link<span class="token punctuation">,</span> x<span class="token punctuation">:</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> y <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">'blank:pointermove'</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    evt<span class="token punctuation">.</span>data<span class="token punctuation">.</span>link<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'target'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> y <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">'blank:pointerup'</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> target <span class="token operator">=</span> evt<span class="token punctuation">.</span>data<span class="token punctuation">.</span>link<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'target'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>evt<span class="token punctuation">.</span>data<span class="token punctuation">.</span>x <span class="token operator">===</span> target<span class="token punctuation">.</span>x <span class="token operator">&amp;&amp;</span> evt<span class="token punctuation">.</span>data<span class="token punctuation">.</span>y <span class="token operator">===</span> target<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// remove zero-length links</span>
        evt<span class="token punctuation">.</span>data<span class="token punctuation">.</span>link<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype" class="docs-item">
    <div id="dia.Paper.prototype.cancelRenderViews" class="docs-item">
        <a href="#dia.Paper.prototype.cancelRenderViews" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.cancelRenderViews</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">cancelRenderViews</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>When the method is called any asynchronous rendering in progress is canceled.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.clearGrid" class="docs-item">
        <a href="#dia.Paper.prototype.clearGrid" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.clearGrid</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">clearGrid</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Hide the current grid.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.clientOffset" class="docs-item">
        <a href="#dia.Paper.prototype.clientOffset" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.clientOffset</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">clientOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Returns coordinates of the paper viewport, relative to the application's client area.
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.clientToLocalPoint" class="docs-item">
        <a href="#dia.Paper.prototype.clientToLocalPoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.clientToLocalPoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">clientToLocalPoint</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span></code></pre>
<p>Transform client coordinates represented by point <code class="highlighted">p</code> to the paper local coordinates.
    This is especially useful when you have a mouse event object and want coordinates
    inside the paper that correspond to event <code class="highlighted">clientX</code> and <code class="highlighted">clientY</code> point.
    <pre><code class="highlighted"><span class="token keyword">var</span> localPoint1 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">clientToLocalPoint</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token punctuation">:</span> evt<span class="token punctuation">.</span>clientX<span class="token punctuation">,</span> y<span class="token punctuation">:</span> evt<span class="token punctuation">.</span>clientY <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// alternative method signature</span>
<span class="token keyword">var</span> localPoint2 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">clientToLocalPoint</span><span class="token punctuation">(</span>evt<span class="token punctuation">.</span>clientX<span class="token punctuation">,</span> evt<span class="token punctuation">.</span>clientY<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.clientToLocalRect" class="docs-item">
        <a href="#dia.Paper.prototype.clientToLocalRect" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.clientToLocalRect</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">clientToLocalRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span></code></pre>
<p>Transform the rectangle <code class="highlighted">rect</code> defined in the client coordinate system to the local coordinate system.
<pre><code class="highlighted"><span class="token keyword">var</span> bcr <span class="token operator">=</span> paper<span class="token punctuation">.</span>svg<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> localRect1 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">clientToLocalRect</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token punctuation">:</span> bcr<span class="token punctuation">.</span>left<span class="token punctuation">,</span> y<span class="token punctuation">:</span> bcr<span class="token punctuation">.</span>top<span class="token punctuation">,</span> width<span class="token punctuation">:</span> bcr<span class="token punctuation">.</span>width<span class="token punctuation">,</span> height<span class="token punctuation">:</span> bcr<span class="token punctuation">.</span>height <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// alternative method signature</span>
<span class="token keyword">var</span> localRect2 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">clientToLocalRect</span><span class="token punctuation">(</span>bcr<span class="token punctuation">.</span>left<span class="token punctuation">,</span> bcr<span class="token punctuation">.</span>top<span class="token punctuation">,</span> bcr<span class="token punctuation">.</span>width<span class="token punctuation">,</span> bcr<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Move the element to the center of the paper viewport.</span>
<span class="token keyword">var</span> localCenter <span class="token operator">=</span> localRect1<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> elSize <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span>localCenter<span class="token punctuation">.</span>x <span class="token operator">-</span> elSize<span class="token punctuation">.</span>width<span class="token punctuation">,</span> localCenter<span class="token punctuation">.</span>y <span class="token operator">-</span> elSize<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.defineFilter" class="docs-item">
        <a href="#dia.Paper.prototype.defineFilter" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.defineFilter</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">defineFilter</span><span class="token punctuation">(</span>filterDefinition<span class="token punctuation">)</span></code></pre>

<p>Define an SVG filter for later reuse within the paper. The method returns the filter id and the <code class="highlighted">filterDefinition</code> must have the following form:</p>

<pre><code class="highlighted"><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token operator">&lt;</span>name <span class="token keyword">of</span> the filter<span class="token operator">></span><span class="token punctuation">,</span>
    args<span class="token punctuation">:</span> <span class="token operator">&lt;</span>filter arguments<span class="token operator">></span>
<span class="token punctuation">}</span></code></pre>

<p>Where <code class="highlighted">name</code> is the name of the filter. See below for the list of built-in filters. <code class="highlighted">args</code> is an object containing filter parameters. These parameters are dependent on the filter used and are described in the list below as well. Example usage:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> filterId <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">defineFilter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'dropShadow'</span><span class="token punctuation">,</span>
    args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        dx<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        dy<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        blur<span class="token punctuation">:</span> <span class="token number">3</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

svgNode<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'filter'</span><span class="token punctuation">,</span> <span class="token string">'url(#'</span> <span class="token operator">+</span> filterId <span class="token operator">+</span> '<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

<p>The following is the list of built-in filters. All these filters are defined in the <code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>filter</code> namespace. This namespace can be extended simply by adding a new method to it with one argument, an object with filter parameters, returning a string representing the SVG filter definition.</p>
<ul>
    <li><code class="highlighted">blur</code>
        <ul>
            <li><code class="highlighted">x</code> - horizontal blur</li>
            <li><code class="highlighted">y</code> - vertical blur [optional, if not defined <code class="highlighted">y</code> is the same as <code class="highlighted">x</code>]</li>
        </ul>
    </li>
    <li><code class="highlighted">dropShadow</code>
        <ul>
            <li><code class="highlighted">dx</code> - horizontal shift</li>
            <li><code class="highlighted">dy</code> - vertical shift</li>
            <li><code class="highlighted">blur</code> - blur</li>
            <li><code class="highlighted">color</code> - color</li>
            <li><code class="highlighted">opacity</code> - opacity</li>
        </ul>
    </li>
    <li><code class="highlighted">grayscale</code>
        <ul>
            <li><code class="highlighted">amount</code> - the proportion of the conversion. <code class="highlighted"><span class="token number">1</span></code> is completely grayscale. <code class="highlighted"><span class="token number">0</span></code> leaves the element unchanged.</li>
        </ul>
    </li>
    <li><code class="highlighted">sepia</code>
        <ul>
            <li><code class="highlighted">amount</code> - the proportion of the conversion. <code class="highlighted"><span class="token number">1</span></code> is completely sepia. <code class="highlighted"><span class="token number">0</span></code> leaves the element unchanged.</li>
        </ul>
    </li>
    <li><code class="highlighted">saturate</code>
        <ul>
            <li><code class="highlighted">amount</code> - the proportion of the conversion. <code class="highlighted"><span class="token number">0</span></code> is completely un-saturated. <code class="highlighted"><span class="token number">1</span></code> leaves the element unchanged.</li>
        </ul>
    </li>
    <li><code class="highlighted">hueRotate</code>
        <ul>
            <li><code class="highlighted">angle</code> - the number of degrees around the color circle the input samples will be adjusted</li>
        </ul>
    </li>
    <li><code class="highlighted">invert</code>
        <ul>
            <li><code class="highlighted">amount</code> - the proportion of the conversion. <code class="highlighted"><span class="token number">1</span></code> is completely inverted. <code class="highlighted"><span class="token number">0</span></code> leaves the element unchanged.</li>
        </ul>
    </li>
    <li><code class="highlighted">brightness</code>
        <ul>
            <li><code class="highlighted">amount</code> - the proportion of the conversion. <code class="highlighted"><span class="token number">0</span></code> makes the element completely black. <code class="highlighted"><span class="token number">1</span></code> leaves the element unchanged.</li>
        </ul>
    </li>
    <li><code class="highlighted">contrast</code>
        <ul>
            <li><code class="highlighted">amount</code> - the proportion of the conversion. <code class="highlighted"><span class="token number">0</span></code> makes the element completely black. <code class="highlighted"><span class="token number">1</span></code> leaves the element unchanged.</li>
        </ul>
    </li>
</ul>

        </div>
    </div>
    <div id="dia.Paper.prototype.defineGradient" class="docs-item">
        <a href="#dia.Paper.prototype.defineGradient" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.defineGradient</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">defineGradient</span><span class="token punctuation">(</span>gradientDefinition<span class="token punctuation">)</span></code></pre>

<p>Define an SVG gradient for later reuse within the paper. The method returns the gradient id and the <code class="highlighted">gradientDefinition</code> must have the following form:</p>

<pre><code class="highlighted"><span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token operator">&lt;</span>type <span class="token keyword">of</span> gradient<span class="token operator">></span><span class="token punctuation">,</span>
    stops<span class="token punctuation">:</span> <span class="token operator">&lt;</span>stop colors<span class="token operator">></span><span class="token punctuation">,</span>
    attrs<span class="token punctuation">:</span> <span class="token operator">&lt;</span>additional attributes<span class="token operator">></span>
<span class="token punctuation">}</span></code></pre>

<p>Where <code class="highlighted">type</code> is either <code class="highlighted"><span class="token string">'linearGradient'</span></code> or <code class="highlighted"><span class="token string">'radialGradient'</span></code>, <code class="highlighted">attrs</code> is an object containing additional SVG attributes for the SVG gradient element and <code class="highlighted">stops</code> is an array of the ramps of color on the gradient. Each stop object is of the form:</p>

<pre><code class="highlighted"><span class="token punctuation">{</span>
    offset<span class="token punctuation">:</span> <span class="token operator">&lt;</span>offset<span class="token operator">></span><span class="token punctuation">,</span>
    color<span class="token punctuation">:</span> <span class="token operator">&lt;</span>color<span class="token operator">></span><span class="token punctuation">,</span>
    opacity<span class="token punctuation">:</span> <span class="token operator">&lt;</span>opacity<span class="token operator">></span>
<span class="token punctuation">}</span></code></pre>

<p>Where <code class="highlighted">offset</code> is a string representing the offset of the gradient stop, <code class="highlighted">color</code> indicates what
    color to use at that gradient stop and <code class="highlighted">opacity</code> is a number in the [0..1] range representing the
    transparency of the stop color.
    Example use:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> gradientId <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">defineGradient</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token string">'linearGradient'</span><span class="token punctuation">,</span>
    stops<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> offset<span class="token punctuation">:</span> <span class="token string">'0%'</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">'#E67E22'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> offset<span class="token punctuation">:</span> <span class="token string">'20%'</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">'#D35400'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> offset<span class="token punctuation">:</span> <span class="token string">'40%'</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">'#E74C3C'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> offset<span class="token punctuation">:</span> <span class="token string">'60%'</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">'#C0392B'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> offset<span class="token punctuation">:</span> <span class="token string">'80%'</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">'#F39C12'</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

svgNode<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'fill'</span><span class="token punctuation">,</span> <span class="token string">'url(#'</span> <span class="token operator">+</span> gradientId <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

<p>For an introduction to gradients, please refer to the tutorial on <a href="http://resources.jointjs.com/tutorial/filters-gradients">Filters and Gradients</a>.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.defineMarker" class="docs-item">
        <a href="#dia.Paper.prototype.defineMarker" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.defineMarker</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">defineMarker</span><span class="token punctuation">(</span>markerDefinition<span class="token punctuation">)</span></code></pre>

<p>Define an SVG marker for later reuse within the paper. The method returns the marker id and the <code class="highlighted">markerDefinition</code> is an object with <code class="highlighted">type</code> property and any other visual attributes. The valid values for <code class="highlighted">type</code> are <code class="highlighted"><span class="token string">'path'</span></code>, <code class="highlighted"><span class="token string">'circle'</span></code>, <code class="highlighted"><span class="token string">'ellipse'</span></code>, <code class="highlighted"><span class="token string">'rect'</span></code>, <code class="highlighted"><span class="token string">'polyline'</span></code> and <code class="highlighted"><span class="token string">'polygon'</span></code>.</p>

<pre><code class="highlighted"><span class="token keyword">var</span> markerId <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">defineMarker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  type<span class="token punctuation">:</span> <span class="token string">'path'</span><span class="token punctuation">,</span> <span class="token comment">// SVG Path</span>
  fill<span class="token punctuation">:</span> <span class="token string">'#666'</span><span class="token punctuation">,</span>
  stroke<span class="token punctuation">:</span> <span class="token string">'#333'</span><span class="token punctuation">,</span>
  <span class="token comment">// The coordinate system for defining the path data</span>
  <span class="token comment">// ------------------------------------------------</span>
  <span class="token comment">// 0,0: marker-start, marker-end or marker-mid</span>
  <span class="token comment">// n,0: n > 0 in path direction</span>
  <span class="token comment">//      n &lt; 0 opposite path direction</span>
  <span class="token comment">// 0,m: m > 0 left to the path direction</span>
  <span class="token comment">//      m &lt; 0 right to the path direction</span>
  d<span class="token punctuation">:</span> <span class="token string">'M 10 -10 0 0 10 10 z'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Draw an arrow at the start and the end of a path</span>
svgPath<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'marker-start'</span><span class="token punctuation">,</span> <span class="token string">'url(#'</span> <span class="token operator">+</span> markerId <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
svgPath<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'marker-end'</span><span class="token punctuation">,</span> <span class="token string">'url(#'</span> <span class="token operator">+</span> markerId <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>


        </div>
    </div>
    <div id="dia.Paper.prototype.drawBackground" class="docs-item">
        <a href="#dia.Paper.prototype.drawBackground" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.drawBackground</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">drawBackground</span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Sets the paper background defined by the <code class="highlighted">opt</code> object. Please see the <a href="#dia.Paper.prototype.options.background">background</a> paper option for available configuration.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.drawGrid" class="docs-item">
        <a href="#dia.Paper.prototype.drawGrid" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.drawGrid</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">drawGrid</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Draw visual grid lines on the paper. Possible options:</p>
<ul>
    <li><b>color</b> - the color of the grid line (hex, RGB, etc).</li>
    <li><b>thickness</b> - the thickness of the grid line (pixels).</li>
</ul>

        </div>
    </div>
    <div id="dia.Paper.prototype.findView" class="docs-item">
        <a href="#dia.Paper.prototype.findView" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.findView</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code></pre><p>Find a view (instance of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ElementView</code> or <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView</code>) associated with a DOM element in the paper. <code class="highlighted">element</code> can either be a DOM element, jQuery object or a CSS selector.
                    Sometimes, it is useful to find a view object for an element in the DOM. This method finds the closest view for any subelement of a view element.</p>
        </div>
    </div>
    <div id="dia.Paper.prototype.findViewByModel" class="docs-item">
        <a href="#dia.Paper.prototype.findViewByModel" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.findViewByModel</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">findViewByModel</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span></code></pre><p>Find a view (instance of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ElementView</code> or <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView</code>) associated with a model. <code class="highlighted">model</code> can either be an instance of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Element</code> or <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code>.</p>
        </div>
    </div>
    <div id="dia.Paper.prototype.findViewsFromPoint" class="docs-item">
        <a href="#dia.Paper.prototype.findViewsFromPoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.findViewsFromPoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">findViewsFromPoint</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span></code></pre><p>Find views (instance of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ElementView</code>) under a certain point in the paper. <code class="highlighted">point</code> is an object with <code class="highlighted">x</code> and <code class="highlighted">y</code> properties. Returns an
                array of views whose bounding box contains <code class="highlighted">point</code>. Note that there can be more then one views as views might overlap. Note there is a difference between
                this method and the <a href="#dia.Graph.prototype.findModelsFromPoint">joint.dia.Graph:findModelsFromPoint</a>. A bounding box of a view can be different than the area computed by an element model <code class="highlighted">position</code> and <code class="highlighted">size</code>.
                For example, if a <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">></span></span></code> SVG element in the shape is positioned relatively and shifted down below the normal shape area (e.g. using the <a href="#dia.attributes">JointJS special attributes</a>), the bounding box
                of the view will be bigger than that of the model.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.findViewsInArea" class="docs-item">
        <a href="#dia.Paper.prototype.findViewsInArea" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.findViewsInArea</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">findViewsInArea</span><span class="token punctuation">(</span>rect <span class="token punctuation">[</span><span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Find views (instance of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ElementView</code>) in a certain area in the paper.
                  <code class="highlighted">rect</code> is an object with <code class="highlighted">x</code>, <code class="highlighted">y</code>, <code class="highlighted">width</code> and <code class="highlighted">height</code> properties.
                  Return an array of views whose bounding box intersects the <code class="highlighted">rect</code> rectangle.
                  <br>
                  If <code class="highlighted">opt<span class="token punctuation">.</span>strict</code> is <code class="highlighted"><span class="token boolean">true</span></code>, return an array of views whose bounding box is contained within the <code class="highlighted">rect</code> rectangle (i.e. not only intersects it).
                </p>
        </div>
    </div>
    <div id="dia.Paper.prototype.fitToContent" class="docs-item">
        <a href="#dia.Paper.prototype.fitToContent" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.fitToContent</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">fitToContent</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Expand or shrink the paper to fit the content inside it. The method returns the area (<code class="highlighted">g<span class="token punctuation">.</span>Rect</code>) of the paper after fitting in local coordinates.</p>

<p>The function accepts an object with additional settings (all optional):</p>

<ul>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>gridWidth</code> and <code class="highlighted">opt<span class="token punctuation">.</span>gridHeight</code> – snap the resulting width and height of the paper to a grid defined by these dimensions.</li>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>padding</code> – additional padding around the resulting paper. It may be specified as a number, in which case it represents the padding width on all sides of the paper. It may be an object of the form <code class="highlighted"><span class="token punctuation">{</span> top<span class="token punctuation">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> right<span class="token punctuation">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> bottom<span class="token punctuation">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> left<span class="token punctuation">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span> <span class="token punctuation">}</span></code>.</li>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>allowNewOrigin</code> – should the origin of the resulting paper be adjusted to match the origin of the paper content? In addition to no value being set, three values are recognized by this option: <code class="highlighted"><span class="token string">'positive'</span></code>,&nbsp;<code class="highlighted"><span class="token string">'negative'</span></code>,&nbsp;<code class="highlighted"><span class="token string">'any'</span></code>.
    <ul>
      <li>By default, the method only recognizes the content at positive coordinates and puts the origin of resulting paper at the original point (0,0).</li>
      <li><code class="highlighted"><span class="token string">'positive'</span></code> – the method only recognizes the content at positive coordinates and puts the origin of resulting paper at the origin of the content. (Still, if the content starts at negative coordinates in an axis, the resulting paper's origin will be assigned <code class="highlighted"><span class="token number">0</span></code> in that axis.)</li>
      <li><code class="highlighted"><span class="token string">'negative'</span></code> – the method only recognizes the content at negative coordinates and puts the origin of resulting paper at the origin of the content. (However, if the content starts at positive coordinates in an axis, the resulting paper's origin will be assigned <code class="highlighted"><span class="token number">0</span></code> in that axis.)</li>
      <li><code class="highlighted"><span class="token string">'any'</span></code> – the method recognizes all of paper content. The origin of the resulting paper will be at the origin of the content.</li>
    </ul>
  </li>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>minWidth</code> and <code class="highlighted">opt<span class="token punctuation">.</span>minHeight</code> – define the minimum width and height of the resulting paper after fitting it to content.</li>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>maxWidth</code> and <code class="highlighted">opt<span class="token punctuation">.</span>maxHeight</code> – define the maximum width and height of the resulting paper.
  after fitting it to content.</li>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>useModelGeometry</code> – should paper content area be calculated from cell models instead of views? Default is <code class="highlighted"><span class="token boolean">false</span></code>. See the documentation of the <code class="highlighted">paper<span class="token punctuation">.</span>getContentArea</code> <a href="#dia.Paper.prototype.getContentArea">function</a> for more details.</li>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>contentArea</code> – an object of the form <code class="highlighted"><span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span> <span class="token punctuation">}</span></code> is the area representing the content bounding box in the local coordinate system that paper should be fitted to. By default <code class="highlighted">opt<span class="token punctuation">.</span>contentArea</code> is <code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">getContentArea</span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span></code>.</li>
</ul>

<p>You can try many of these options interactively in the <a href="http://jointjs.com/demos/paper">paper demo</a>.</p>

<p>This method might internally trigger the <code class="highlighted"><span class="token string">"resize"</span></code> and <code class="highlighted"><span class="token string">"translate"</span></code> events. These can be handled by listening on the paper object (<code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> myHandler<span class="token punctuation">)</span></code>).</p>


<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">fitToContent</span><span class="token punctuation">(</span><span class="token punctuation">[</span>gridWidth<span class="token punctuation">,</span> gridHeight<span class="token punctuation">,</span> padding<span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p><i>Depracated usage. All parameters are expected to be passed inside the <code class="highlighted">opt</code> object.</i></p>

        </div>
    </div>
    <div id="dia.Paper.prototype.getComputedSize" class="docs-item">
        <a href="#dia.Paper.prototype.getComputedSize" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.getComputedSize</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">getComputedSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return an object containing <code class="highlighted">width</code> and <code class="highlighted">height</code> properties. It resolves any computation these property values may contain (e.g resolves <code class="highlighted"><span class="token string">"100%"</span></code> to the actual client width).</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.getContentArea" class="docs-item">
        <a href="#dia.Paper.prototype.getContentArea" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.getContentArea</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">getContentArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return a rectangle representing the area occupied by paper content, in local units (without transformations).</p>

<p>If <code class="highlighted">opt<span class="token punctuation">.</span>useModelGeometry</code> is set (default is <code class="highlighted"><span class="token boolean">false</span></code>), occupied area is calculated from the dimensions of component cells' models (not views). This option is useful whenever one or more of the paper cells are not in the DOM (e.g. during asynchronous calls). However, the method uses a simplified heuristic that is different from the one used by the browser; the mapping between dimensions of cell views and dimensions of cells models is not necessarily one-to-one. (Most notably, ports are not included in model-reported occupied areas. In addition, the area occupied by links is constructed from link vertices, which may exclude portions of protruding Curveto and Arcto segments.)</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.getContentBBox" class="docs-item">
        <a href="#dia.Paper.prototype.getContentBBox" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.getContentBBox</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">getContentBBox</span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span></code></pre>
<p>Return the bounding box of the content inside the paper, in client units (as it appears on the screen).</p>

<p>If <code class="highlighted">opt<span class="token punctuation">.</span>useModelGeometry</code> is set (default is <code class="highlighted"><span class="token boolean">false</span></code>), the bounding box is calculated from the dimensions of component cells' models (not views). This option is useful whenever one or more of the paper cells are not in the DOM (e.g. during asynchronous calls). However, the method uses a simplified heuristic that is different from the one used by the browser; the mapping between dimensions of cell views and dimensions of cells models is not necessarily one-to-one. (Most notably, ports are not included in model-reported bounding boxes. In addition, the bounding boxes of links are constructed from link vertices, which may exclude portions of protruding Curveto and Arcto segments.)</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.hideTools" class="docs-item">
        <a href="#dia.Paper.prototype.hideTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.hideTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">hideTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Hide all tools attached to all link views on this paper.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.isDefined" class="docs-item">
        <a href="#dia.Paper.prototype.isDefined" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.isDefined</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">isDefined</span><span class="token punctuation">(</span>graphicalObjectId<span class="token punctuation">)</span></code></pre>

<p>Return <code class="highlighted"><span class="token boolean">true</span></code> if there is a graphical object (gradient, filter, marker) with <code class="highlighted">graphicalObjectId</code> already defined within the paper. Return <code class="highlighted"><span class="token boolean">false</span></code> otherwise.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.localToClientPoint" class="docs-item">
        <a href="#dia.Paper.prototype.localToClientPoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.localToClientPoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">localToClientPoint</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span></code></pre>
<p>Transform the point <code class="highlighted">p</code> defined in the local coordinate system to the client coordinate system.
    <pre><code class="highlighted"><span class="token keyword">var</span> rightMidPoint <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rightMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> clientPoint1 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToClientPoint</span><span class="token punctuation">(</span>rightMidPoint<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// alternative method signature</span>
<span class="token keyword">var</span> clientPoint2 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToClientPoint</span><span class="token punctuation">(</span>rightMidPoint<span class="token punctuation">.</span>x<span class="token punctuation">,</span> rightMidPoint<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Draw an HTML rectangle next to the element.</span>
<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'fixed'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> clientPoint1<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> clientPoint1<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'40px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'40px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginLeft <span class="token operator">=</span> <span class="token string">'10px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginTop <span class="token operator">=</span> <span class="token string">'-20px'</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.localToClientRect" class="docs-item">
        <a href="#dia.Paper.prototype.localToClientRect" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.localToClientRect</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">localToClientRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span></code></pre>
<p>Transform the rectangle <code class="highlighted">rect</code> defined in local coordinate system to the client coordinate system.
    <pre><code class="highlighted"><span class="token keyword">var</span> bbox <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> clientRect1 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToClientRect</span><span class="token punctuation">(</span>bbox<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// alternative method signature</span>
<span class="token keyword">var</span> clientRect2 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToClientRect</span><span class="token punctuation">(</span>bbox<span class="token punctuation">.</span>x<span class="token punctuation">,</span> bbox<span class="token punctuation">.</span>y<span class="token punctuation">,</span> bbox<span class="token punctuation">.</span>width<span class="token punctuation">,</span> bbox<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Draw an HTML rectangle above the element.</span>
<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'fixed'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> clientRect1<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> clientRect1<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> clientRect1<span class="token punctuation">.</span>width <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> clientRect1<span class="token punctuation">.</span>height <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
paper<span class="token punctuation">.</span>el<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.localToPagePoint" class="docs-item">
        <a href="#dia.Paper.prototype.localToPagePoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.localToPagePoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">localToPagePoint</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span></code></pre>
<p>Transform the point <code class="highlighted">p</code> defined in the local coordinate system to the page coordinate system.
    <pre><code class="highlighted"><span class="token keyword">var</span> rightMidPoint <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rightMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> pagePoint1 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToPagePoint</span><span class="token punctuation">(</span>rightMidPoint<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// alternative method signature</span>
<span class="token keyword">var</span> pagePoint2 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToPagePoint</span><span class="token punctuation">(</span>rightMidPoint<span class="token punctuation">.</span>x<span class="token punctuation">,</span> rightMidPoint<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Draw an HTML rectangle next to the element.</span>
<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'absolute'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> pagePoint1<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> pagePoint1<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'40px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'40px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginLeft <span class="token operator">=</span> <span class="token string">'10px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginTop <span class="token operator">=</span> <span class="token string">'-20px'</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.localToPageRect" class="docs-item">
        <a href="#dia.Paper.prototype.localToPageRect" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.localToPageRect</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">localToPageRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span></code></pre>
<p>Transform the rectangle <code class="highlighted">rect</code> defined in local coordinate system to the page coordinate system.
    <pre><code class="highlighted"><span class="token keyword">var</span> bbox <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> pageRect1 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToPageRect</span><span class="token punctuation">(</span>bbox<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// alternative method signature</span>
<span class="token keyword">var</span> pageRect2 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToPageRect</span><span class="token punctuation">(</span>bbox<span class="token punctuation">.</span>x<span class="token punctuation">,</span> bbox<span class="token punctuation">.</span>y<span class="token punctuation">,</span> bbox<span class="token punctuation">.</span>width<span class="token punctuation">,</span> bbox<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Draw an HTML rectangle above the element.</span>
<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'absolute'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> pageRect1<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> pageRect1<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> pageRect1<span class="token punctuation">.</span>width <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> pageRect1<span class="token punctuation">.</span>height <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.localToPaperPoint" class="docs-item">
        <a href="#dia.Paper.prototype.localToPaperPoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.localToPaperPoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">localToPaperPoint</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span></code></pre>
<p>Transform the point <code class="highlighted">p</code> defined in the local coordinate system to the paper coordinate system.
    <pre><code class="highlighted"><span class="token keyword">var</span> rightMidPoint <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rightMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> paperPoint1 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToPaperPoint</span><span class="token punctuation">(</span>rightMidPoint<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// alternative method signature</span>
<span class="token keyword">var</span> paperPoint2 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToPaperPoint</span><span class="token punctuation">(</span>rightMidPoint<span class="token punctuation">.</span>x<span class="token punctuation">,</span> rightMidPoint<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Draw an HTML rectangle next to the element.</span>
<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'absolute'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> paperPoint1<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> paperPoint1<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'40px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'40px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginLeft <span class="token operator">=</span> <span class="token string">'10px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginTop <span class="token operator">=</span> <span class="token string">'-20px'</span><span class="token punctuation">;</span>
paper<span class="token punctuation">.</span>el<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span> </code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.localToPaperRect" class="docs-item">
        <a href="#dia.Paper.prototype.localToPaperRect" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.localToPaperRect</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">localToPaperRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span></code></pre>
<p>Transform the rectangle <code class="highlighted">rect</code> defined in the local coordinate system to the paper coordinate system.
<pre><code class="highlighted"><span class="token keyword">var</span> bbox <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> paperRect1 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToPaperRect</span><span class="token punctuation">(</span>bbox<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// alternative method signature</span>
<span class="token keyword">var</span> paperRect2 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">localToPaperRect</span><span class="token punctuation">(</span>bbox<span class="token punctuation">.</span>x<span class="token punctuation">,</span> bbox<span class="token punctuation">.</span>y<span class="token punctuation">,</span> bbox<span class="token punctuation">.</span>width<span class="token punctuation">,</span> bbox<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Draw an HTML rectangle above the element.</span>
<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'absolute'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> paperRect1<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> paperRect1<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> paperRect1<span class="token punctuation">.</span>width <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> paperRect1<span class="token punctuation">.</span>height <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
paper<span class="token punctuation">.</span>el<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.matrix" class="docs-item">
        <a href="#dia.Paper.prototype.matrix" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.matrix</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">matrix</span><span class="token punctuation">(</span><span class="token punctuation">[</span>SVGMatrix<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>When called with no parameter, the method returns the current transformation matrix (instance of <a href="https://developer.mozilla.org/en-US/docs/Web/API/SVGMatrix" target="_blank">SVGMatrix</a>) of the paper. It sets the new viewport transformation based on the <code class="highlighted">SVGMatrix</code> otherwise.</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">matrix</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> c<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> d<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> e<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> f<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// scale the paper twice</span></code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.pageOffset" class="docs-item">
        <a href="#dia.Paper.prototype.pageOffset" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.pageOffset</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">pageOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Returns coordinates of the paper viewport, relative to the document.
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.pageToLocalPoint" class="docs-item">
        <a href="#dia.Paper.prototype.pageToLocalPoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.pageToLocalPoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">pageToLocalPoint</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span></code></pre>
<p>Transform the point <code class="highlighted">p</code> defined in the page coordinate system to the local coordinate system.
    <pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'blank:pointerup'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> pagePoint <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span>evt<span class="token punctuation">.</span>pageX<span class="token punctuation">,</span> evt<span class="token punctuation">.</span>pageY<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> localPoint1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pageToLocalPoint</span><span class="token punctuation">(</span>pagePoint<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// alternative method signature</span>
  <span class="token keyword">var</span> localPoint2 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pageToLocalPoint</span><span class="token punctuation">(</span>evt<span class="token punctuation">.</span>pageX<span class="token punctuation">,</span> evt<span class="token punctuation">.</span>pageY<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Move the element to the point, where the user just clicks.</span>
  element<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span>localPoint1<span class="token punctuation">.</span>x<span class="token punctuation">,</span> localPoint1<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.pageToLocalRect" class="docs-item">
        <a href="#dia.Paper.prototype.pageToLocalRect" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.pageToLocalRect</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">pageToLocalRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span></code></pre>
<p>Transform the rectangle <code class="highlighted">rect</code> defined in the page coordinate system to the local coordinate system.
    <pre><code class="highlighted"><span class="token keyword">var</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span>
paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'blank:pointerdown'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x <span class="token operator">=</span> evt<span class="token punctuation">.</span>pageX<span class="token punctuation">;</span>
  y <span class="token operator">=</span> evt<span class="token punctuation">.</span>pageY<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'blank:pointerup'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> pageRect <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">Rect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> evt<span class="token punctuation">.</span>pageX <span class="token operator">-</span> x<span class="token punctuation">,</span> evt<span class="token punctuation">.</span>pageY <span class="token operator">-</span> y<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> localRect1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pageToLocalRect</span><span class="token punctuation">(</span>pageRect<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// alternative method signature</span>
  <span class="token keyword">var</span> localRect2 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pageToLocalRect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> evt<span class="token punctuation">.</span>pageX <span class="token operator">-</span> x<span class="token punctuation">,</span> evt<span class="token punctuation">.</span>pageY <span class="token operator">-</span> y<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Move and resize the element to cover the area, that the user just selected.</span>
  element<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span>localRect1<span class="token punctuation">.</span>x<span class="token punctuation">,</span> localRect1<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
  element<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>localRect1<span class="token punctuation">.</span>width<span class="token punctuation">,</span> localRect1<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.paperToLocalPoint" class="docs-item">
        <a href="#dia.Paper.prototype.paperToLocalPoint" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.paperToLocalPoint</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">paperToLocalPoint</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span></code></pre>
<p>Transform the point <code class="highlighted">p</code> defined in the paper coordinate system to the local coordinate system.
    <pre><code class="highlighted"><span class="token keyword">var</span> paperCenter <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span>paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> localPoint1 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">paperToLocalPoint</span><span class="token punctuation">(</span>paperCenter<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// alternative method signature</span>
<span class="token keyword">var</span> localPoint2 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">paperToLocalPoint</span><span class="token punctuation">(</span>paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Move the element to the center of the paper viewport.</span>
<span class="token keyword">var</span> elSize <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span>localPoint1<span class="token punctuation">.</span>x <span class="token operator">-</span> elSize<span class="token punctuation">.</span>width<span class="token punctuation">,</span> localPoint1<span class="token punctuation">.</span>y <span class="token operator">-</span> elSize<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.paperToLocalRect" class="docs-item">
        <a href="#dia.Paper.prototype.paperToLocalRect" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.paperToLocalRect</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">paperToLocalRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span></code></pre>
<p>Transform the rectangle <code class="highlighted">rect</code> defined in the paper coordinate system to the local coordinate system.
    <pre><code class="highlighted"><span class="token keyword">var</span> paperRect <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">Rect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>width<span class="token punctuation">,</span> paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> localRect1 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">paperToLocalRect</span><span class="token punctuation">(</span>paperRect<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// alternative method signature</span>
<span class="token keyword">var</span> localRect2 <span class="token operator">=</span> paper<span class="token punctuation">.</span><span class="token function">paperToLocalRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>width<span class="token punctuation">,</span> paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Move and resize the element to cover the entire paper viewport.</span>
element<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span>localRect1<span class="token punctuation">.</span>x <span class="token punctuation">,</span> localRect1<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span>localRect1<span class="token punctuation">.</span>width<span class="token punctuation">,</span> localRect1<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.properties" class="docs-item">
        <a href="#dia.Paper.prototype.properties" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.properties</h5>
        </a>
        <div class="docs-item-content">
<p>The following list contains properties exposed by the paper object:</p>

<ul>
    <li><code class="highlighted">svg</code> - a reference to the SVG document object the paper uses to render all the graphics.</li>
    <li><code class="highlighted">viewport</code> - a reference to the SVG group <code data-lang="svg" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span><span class="token punctuation">></span></span></code> element the paper wraps all the rendered elements and links into. Paper transformations
    such as scale is performed on this element.</li>
    <li><code class="highlighted">defs</code> - a reference to the <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/defs">SVG &lt;defs&gt; element</a> used to define SVG elements for later reuse. This is also a good place to put SVG masks, patterns, filters and gradients.</li>
</ul>

<p>Normally, you do not need to access these properties directly but in some (advanced) situations, it is handy to have access to them.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.removeTools" class="docs-item">
        <a href="#dia.Paper.prototype.removeTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.removeTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">removeTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Remove all tools view objects attached to all link views on this paper.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.scale" class="docs-item">
        <a href="#dia.Paper.prototype.scale" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.scale</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token punctuation">[</span>sx<span class="token punctuation">,</span> sy<span class="token punctuation">,</span> ox<span class="token punctuation">,</span> oy<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>Scale a paper by <code class="highlighted">sx</code> factor in x axis and <code class="highlighted">sy</code> factor in y axis.
                    <code class="highlighted">ox</code> and <code class="highlighted">oy</code> are optional and determine the origin of the scale transformation. This method effectively implements a paper zoom in/out. If the method is called a <code class="highlighted"><span class="token string">"scale"</span></code> event is triggered on the paper. When the method is called with no parameter the current paper <code class="highlighted">scale</code> transformation is returned.</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// scale 2x (uniformly)</span>
paper<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// scale 2x in `x` axis 3x in `y` axis (non-uniformly)</span>
paper<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">// scale with the origin of the transformation at point `x=100` and `y=100`</span>
paper<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// returns e.g. { sx: 2, sy: 2 }</span>
</code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.scaleContentToFit" class="docs-item">
        <a href="#dia.Paper.prototype.scaleContentToFit" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.scaleContentToFit</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">scaleContentToFit</span><span class="token punctuation">(</span><span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Scale the paper content so that it fits the paper dimensions.</p>

<p>The function accepts an object with additional settings (all optional):</p>

<ul>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>padding</code> – a number that specifies the width of additional padding that should be added around the resulting (scaled) paper content. Default is <code class="highlighted"><span class="token number">0</span></code>.</li>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>preserveAspectRatio</code> – should the original aspect ratio of the paper content be preserved in the scaled version? Default is <code class="highlighted"><span class="token boolean">true</span></code>.</li>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>minScaleX</code>, <code class="highlighted">opt<span class="token punctuation">.</span>minScaleY</code>, <code class="highlighted">opt<span class="token punctuation">.</span>maxScaleX</code>, <code class="highlighted">opt<span class="token punctuation">.</span>maxScaleY</code> – the minimum and maximum allowed scale factors for both axes.</li>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>scaleGrid</code> – a number to be used as a rounding factor for the resulting scale. For example, if you pass <code class="highlighted"><span class="token number">0.2</span></code> to this option and the scale factor is calculated as <code class="highlighted"><span class="token number">1.15</span></code>, then the resulting scale factor will be rounded to <code class="highlighted"><span class="token number">1.2</span></code>.</li>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>useModelGeometry</code> – should paper content bounding box be calculated from cell models instead of views? Default is <code class="highlighted"><span class="token boolean">false</span></code>. See the documentation of the <code class="highlighted">paper<span class="token punctuation">.</span>getContentBBox</code> <a href="#dia.Paper.prototype.getContentBBox">function</a> for more details.</li>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>fittingBBox</code> – an object of the form <code class="highlighted"><span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span> <span class="token punctuation">}</span></code> is the area of the paper that the content should be scaled to. By default <code class="highlighted">opt<span class="token punctuation">.</span>fittingBBox</code> is <code class="highlighted"><span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>width<span class="token punctuation">,</span> height<span class="token punctuation">:</span> paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>height <span class="token punctuation">}</span></code>, i.e. the bounding box of the paper in the paper coordinate system.</li>
  <li><code class="highlighted">opt<span class="token punctuation">.</span>contentArea</code> – an object of the form <code class="highlighted"><span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token punctuation">[</span>number<span class="token punctuation">]</span> <span class="token punctuation">}</span></code> is the area representing the content in local coordinate system that should be scaled to fit the <code class="highlighted">opt<span class="token punctuation">.</span>fittingBBox</code>. By default <code class="highlighted">opt<span class="token punctuation">.</span>contentArea</code> is <code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">getContentArea</span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span></code>.</li>
</ul>

<p>The function is illustrated in our <a href="http://jointjs.com/demos/paper">paper demo</a>.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.setDimensions" class="docs-item">
        <a href="#dia.Paper.prototype.setDimensions" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.setDimensions</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">setDimensions</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">)</span></code></pre>
<p>Change dimensions of a paper. Dimensions should always be passed to the options object of the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</code> constructor. Use <code class="highlighted"><span class="token function">setDimensions</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> to change dimensions of the paper later on if needed. If the method is called a <code class="highlighted"><span class="token string">"resize"</span></code> event is triggered on the paper.</p>
<table>
    <tr>
        <th>Type</th>
        <th>Description</th>
    </tr>
    <tr>
       <td>Number</td>
       <td>Dimension in pixels (e.g <code class="highlighted"><span class="token number">800</span></code>).</td>
    </tr>
    <tr>
        <td>String</td>
        <td>
            Dimension as CSS property value (e.g <code class="highlighted"><span class="token string">"100%"</span></code>). <br><i>Make sure the paper container element has size defined.</i>
            <pre><code class="highlighted"><span class="token comment">// Responsive Paper</span>
<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span> width<span class="token punctuation">:</span> <span class="token string">'100%'</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token string">'100%'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">debounce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  paper<span class="token punctuation">.</span><span class="token function">scaleContentToFit</span><span class="token punctuation">(</span><span class="token punctuation">{</span> padding<span class="token punctuation">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        </td>
    </tr>
    <tr>
        <td>null</td>
        <td>No dimension set. Useful when size of the paper controlled in CSS.</td>
    </tr>
</table>

        </div>
    </div>
    <div id="dia.Paper.prototype.setGridSize" class="docs-item">
        <a href="#dia.Paper.prototype.setGridSize" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.setGridSize</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">setGridSize</span><span class="token punctuation">(</span>gridSize<span class="token punctuation">)</span></code></pre>
<p>Set the grid size of the paper.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.setInteractivity" class="docs-item">
        <a href="#dia.Paper.prototype.setInteractivity" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.setInteractivity</h5>
        </a>
        <div class="docs-item-content">

<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">setInteractivity</span><span class="token punctuation">(</span>interactive<span class="token punctuation">)</span></code></pre>
<p>Set the interactivity of the paper. For example, to disable interactivity:</p>
<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">setInteractivity</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.setOrigin" class="docs-item">
        <a href="#dia.Paper.prototype.setOrigin" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.setOrigin</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">setOrigin</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span></code></pre><p><i>Deprecated</i> in favor of <code class="highlighted"><span class="token function">translate</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>. Lets you modify the origin (zero coordinates) of a paper. An origin can also be passed to the options object of the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</code> constructor. If the method is called a <code class="highlighted"><span class="token string">"translate"</span></code> event is triggered on the paper.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.showTools" class="docs-item">
        <a href="#dia.Paper.prototype.showTools" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.showTools</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">showTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Show all tools attached to all link views on this paper.</p>

        </div>
    </div>
    <div id="dia.Paper.prototype.translate" class="docs-item">
        <a href="#dia.Paper.prototype.translate" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.Paper.prototype.translate</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span></code></pre><p>Lets you modify the origin (zero coordinates) of a paper. An origin can also be passed to the options object of the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</code> constructor. If the method is called a <code class="highlighted"><span class="token string">"translate"</span></code> event is triggered on the paper. If the method is called with no paramater the current paper <code class="highlighted">translate</code> transformation is returned.</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token comment">// set origin to `x=100` and `y=200`</span>
paper<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">// same as calling `translate(100,0)`</span>
paper<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// returns e.g. { tx: 100, ty: 100 }</span>
</code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.options" class="docs-item">
    <div id="dia.Paper.prototype.options.allowLink" class="docs-item">
        <a href="#dia.Paper.prototype.options.allowLink" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.allowLink</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">allowLink</code> - expects a function returning a boolean. The function is run when the user stops interacting with a linkView's arrowhead (source or target).
If the function returns <code class="highlighted"><span class="token boolean">false</span></code>, the link is either removed (for links which are created during the interaction) or reverted to the state before the interaction.

<pre><code class="highlighted"><span class="token comment">// Return `false` if a graph cycle is detected (`graphlib` refers to a dependency of the DirectedGraph plugin).</span>
paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span><span class="token function-variable function">allowLink</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>linkView<span class="token punctuation">,</span> paper<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> graph <span class="token operator">=</span> paper<span class="token punctuation">.</span>model<span class="token punctuation">;</span>
  <span class="token keyword">return</span> graphlib<span class="token punctuation">.</span>alg<span class="token punctuation">.</span><span class="token function">findCycles</span><span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">toGraphLib</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.options.async" class="docs-item">
        <a href="#dia.Paper.prototype.options.async" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.async</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted"><span class="token keyword">async</span></code> - when enabled, the paper renders cells added to the graph through <a href="#dia.Graph.prototype.resetCells"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">resetCells</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> or <a href="#dia.Graph.prototype.addCells"><code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">addCells</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> asynchronously. 
                  This is very useful when you want to add a large number of cells into the graph. The rendering performance boost is significant and doesn't block the UI.
                  The option accepts either <code class="highlighted"><span class="token boolean">true</span></code> in which case default values are used or an object of the form
                  <code class="highlighted"><span class="token punctuation">{</span> batchSize<span class="token punctuation">:</span> <span class="token operator">&lt;</span>value<span class="token operator">></span> <span class="token punctuation">}</span></code> where you can specify the number of cells rendered in each animation frame (default is 50). Normally, the default <code class="highlighted">batchSize</code> works great
                  but you might want to experiment with different values in case you encounter performance issues.
                  It is important to note that when asynchronous rendering is used, some of the cell views might not yet
                  be in the paper when you try to access them via the <a href="#dia.Paper.prototype.findViewByModel"><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">findViewByModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a>, <a href="#dia.Element.prototype.findView"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> or <a href="#dia.Link.prototype.findView"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> methods. 
                  What you should do in case you use async rendering is to wait for when the paper triggers the <a href="#dia.Paper.events"><code class="highlighted">render<span class="token punctuation">:</span>done</code></a> event.
                
        </div>
    </div>
    <div id="dia.Paper.prototype.options.background" class="docs-item">
        <a href="#dia.Paper.prototype.options.background" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.background</h6>
        </a>
        <div class="docs-item-content">
<p>An object defining the paper background color and image. It defaults to <code class="highlighted"><span class="token boolean">false</span></code> meaning there is no background set. The configuration object can have the following properties.</p>
<ul>
<li><strong>color</strong>
property sets the paper background color. It accepts all the values accepted by the CSS <code class="highlighted">background<span class="token operator">-</span>color</code> property.
e.g <code class="highlighted"><span class="token string">'red'</span></code>, <code class="highlighted"><span class="token string">'rgba(255, 255, 0, 0.5)'</span></code>, <code class="highlighted"><span class="token string">'radial-gradient(ellipse at center, red, green);'</span></code></li>
<li><strong>image</strong>
property defines the path to the background image file. e.g. <code class="highlighted"><span class="token string">'/my-background.png'</span></code>.</li>
<li><strong>position</strong>
is an object <code class="highlighted"><span class="token punctuation">{</span> x<span class="token punctuation">:</span> Number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> Number <span class="token punctuation">}</span></code> defining the background image position. It also allows to use all the CSS <code class="highlighted">background<span class="token operator">-</span>position</code> property values.
In that case all the paper transformations have no impact on the background image position. It defaults to <code class="highlighted">center</code>.</li>
<li><strong>size</strong>
is an object <code class="highlighted"><span class="token punctuation">{</span> width<span class="token punctuation">:</span> Number<span class="token punctuation">,</span> height<span class="token punctuation">:</span> Number <span class="token punctuation">}</span></code> defining the background image size. It also allows to use all the CSS <code class="highlighted">background<span class="token operator">-</span>size</code> property values. In that case all the paper transformations have no impact on the background size. It defaults to <code class="highlighted">auto auto</code>.</li>
<li><strong>repeat</strong>
property defines how the background image is repeated. The value could be any value accepted by the CSS <code class="highlighted">background<span class="token operator">-</span>repeat</code> property and few more defined by JointJS. Those are <code class="highlighted">flip<span class="token operator">-</span>x</code>, <code class="highlighted">flip<span class="token operator">-</span>y</code>, <code class="highlighted">flip<span class="token operator">-</span>xy</code> and <code class="highlighted">watermark</code>. It defaults to <code class="highlighted">no<span class="token operator">-</span>repeat</code>.</li>
<li><strong>quality</strong>
is a coefficient specifying the quality of the image (e.g <code class="highlighted"><span class="token number">0.5</span></code> uses only 50% the image size for creating a pattern). Applicable only for the JointJS <code class="highlighted">repeat</code> option values. It defaults to <code class="highlighted"><span class="token number">1</span></code>.</li>
<li><strong>opacity</strong>
is a number in the range <code class="highlighted"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span></code> specifying the transparency of the background image (<code class="highlighted"><span class="token number">0</span></code> is fully transparent and <code class="highlighted"><span class="token number">1</span></code> is fully opaque). It defaults to <code class="highlighted"><span class="token number">1</span></code>.</li>
<li><strong>watermarkAngle</strong>
is an angle in degrees speficying the slope of the watermark image. Applicable only for the <code class="highlighted"><span class="token string">'watermark'</span></code> <code class="highlighted">repeat</code> option. It defaults to <code class="highlighted"><span class="token number">20</span></code> deg.</li>
</ul>
<pre><code class="language-javascript highlighted">background<span class="token punctuation">:</span> <span class="token punctuation">{</span>
   color<span class="token punctuation">:</span> <span class="token string">'#6764A7'</span><span class="token punctuation">,</span>
   image<span class="token punctuation">:</span> <span class="token string">'jointjs-logo.png'</span><span class="token punctuation">,</span>
   repeat<span class="token punctuation">:</span> <span class="token string">'watermark'</span><span class="token punctuation">,</span>
   opacity<span class="token punctuation">:</span> <span class="token number">0.3</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.options.cellViewNamespace" class="docs-item">
        <a href="#dia.Paper.prototype.options.cellViewNamespace" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.cellViewNamespace</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">cellViewNamespace</code> - this option can be used to change the default behavior of JointJS which by default reads cell view definitions from the <code class="highlighted">joint<span class="token punctuation">.</span>shapes</code> namespace.
                              For example, if a cell is of type <code class="highlighted"><span class="token string">'myshapes.MyElement'</span></code>, then the paper looks up <code class="highlighted">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>myshapes<span class="token punctuation">.</span>MyElementView</code>
                              object type when rendering the cell onto the screen. If <code class="highlighted">cellViewNamespace</code> is set,
                              the paper will read the view definition from the <code class="highlighted">myShapesNamespace<span class="token punctuation">.</span>myshapes<span class="token punctuation">.</span>MyElementView</code> object instead. This is useful in situations where you - for any reason - don't want to 
                              use the <code class="highlighted">joint<span class="token punctuation">.</span>shapes</code> namespace for defining your own custom shapes. This option is often used in combination with
                              <code class="highlighted">cellNamespace</code> option on the <a href="#dia.Graph.constructor"><code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</code></a> object.
                
        </div>
    </div>
    <div id="dia.Paper.prototype.options.clickThreshold" class="docs-item">
        <a href="#dia.Paper.prototype.options.clickThreshold" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.clickThreshold</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">clickThreshold</code> - When number of mousemove events exceeds the <code class="highlighted">clickThreshold</code> there is no <code class="highlighted">pointerclick</code> event triggered after mouseup. It defaults to <code class="highlighted"><span class="token number">0</span></code>.


        </div>
    </div>
    <div id="dia.Paper.prototype.options.connectionStrategy" class="docs-item">
        <a href="#dia.Paper.prototype.options.connectionStrategy" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.connectionStrategy</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">connectionStrategy</code> - the connection strategy to use on this paper. It can either be a function or <code class="highlighted"><span class="token keyword">null</span></code>. JointJS provides a collection of <a href="#connectionStrategies">built-in connection strategies</a> in the <code class="highlighted">joint<span class="token punctuation">.</span>connectionStrategies</code> namespace; alternatively, a <a href="#connectionStrategies.custom">custom function</a> may be provided. See the <a href="#dia.Link.presentation.connectionStrategy">Presentation</a> section of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> for more information about connection strategies.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.defaultAnchor" class="docs-item">
        <a href="#dia.Paper.prototype.options.defaultAnchor" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.defaultAnchor</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">defaultAnchor</code> - an anchor function that is used by links if no <code class="highlighted">anchor</code> property is defined for a link end. It can either be an object (with a <code class="highlighted">name</code> and optional <code class="highlighted">args</code>) or a function. JointJS provides a collection of <a href="#anchors">built-in anchor functions</a> in the <code class="highlighted">joint<span class="token punctuation">.</span>anchors</code> namespace; alternatively, a <a href="#anchors.custom">custom function</a> may be provided. See the <a href="#dia.Link.presentation.anchor">Presentation</a> section of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> for more information about anchors.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.defaultConnectionPoint" class="docs-item">
        <a href="#dia.Paper.prototype.options.defaultConnectionPoint" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.defaultConnectionPoint</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">defaultConnectionPoint</code> - a connection point function that is used by links if no <code class="highlighted">connectionPoint</code> property is defined for a link end. It can either be an object or a function. JointJS provides a collection of <a href="#connectionPoints">built-in connection point functions</a> in the <code class="highlighted">joint<span class="token punctuation">.</span>connectionPoints</code> namespace; alternatively, a <a href="#connectionPoints.custom">custom function</a> may be provided. See the <a href="#dia.Link.presentation.connectionPoint">Presentation</a> section of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> for more information about connection points.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.defaultConnector" class="docs-item">
        <a href="#dia.Paper.prototype.options.defaultConnector" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.defaultConnector</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">defaultConnector</code> - a connector that is used by links if no <code class="highlighted">connector</code> property is defined on them. It can either be an object or a function. JointJS provides a collection of <a href="#connectors">built-in connectors</a> in the <code class="highlighted">joint<span class="token punctuation">.</span>connectors</code> namespace; alternatively, a <a href="#connectors.custom">custom function</a> may be provided. See the <a href="#dia.Link.presentation.connector">Presentation</a> section of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> for more information about connectors.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.defaultLink" class="docs-item">
        <a href="#dia.Paper.prototype.options.defaultLink" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.defaultLink</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">defaultLink</code> - link that should be created when the user clicks and drags and active magnet (when creating a link from a port via the UI). Defaults to <code class="highlighted"><span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</span></code>. It can also be a function with signature <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> magnet<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code> that must return an object of type <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code>.
        </div>
    </div>
    <div id="dia.Paper.prototype.options.defaultRouter" class="docs-item">
        <a href="#dia.Paper.prototype.options.defaultRouter" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.defaultRouter</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">defaultRouter</code> - a router that is used by links if no <code class="highlighted">router</code> property is defined on them. It can either be an object or a function. JointJS provides a collection of <a href="#routers">built-in routers</a> in the <code class="highlighted">joint<span class="token punctuation">.</span>routers</code> namespace; alternatively, a <a href="#routers.custom">custom function</a> may be provided. See the <a href="#dia.Link.presentation.router">Presentation</a> section of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> for more information about routers.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.drawGrid" class="docs-item">
        <a href="#dia.Paper.prototype.options.drawGrid" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.drawGrid</h6>
        </a>
        <div class="docs-item-content">
    <p>
<code class="highlighted">drawGrid</code> - option whether the paper grid should be drawn or not. It could be a <code class="highlighted">boolean</code> or an <code class="highlighted">object</code>. It defaults to <code class="highlighted"><span class="token boolean">false</span></code>.
        <br>
    Define <code class="highlighted">color</code> and <code class="highlighted">thickness</code> to adjust the default grid pattern:
</p>
<table>
    <tr>
        <th>color</th>
        <td><i>string</i></td>
        <td>color of the default grid pattern.</td>
    </tr>
    <tr>
        <th>thickness</th>
        <td><i>number</i></td>
        <td>thickness of the default grid pattern.</td>
    </tr>
</table>


<p>There are also some pre-defined grid patterns: <code class="highlighted">dot</code>, <code class="highlighted">fixedDot</code>, <code class="highlighted">mesh</code>, <code class="highlighted">doubleMesh</code>. If you'd like to use these patterns, define <code class="highlighted">drawGrid</code> options as follows:</p>
<table>
    <tr>
        <th>name</th>
        <td><i>string</i></td>
        <td>name of the pre-defined pattern. Can be either <code class="highlighted">dot</code>, <code class="highlighted">fixedDot</code>, <code class="highlighted">mesh</code>, <code class="highlighted">doubleMesh</code> </td>
    </tr>
    <tr>
        <th>args</th>
        <td><i>object | array</i></td>
        <td>an extra arguments for the pre-defined grid patterns. It can be either an <code class="highlighted">object</code> (e.g. <code class="highlighted">dot</code>, <code class="highlighted">mesh</code>) or an <code class="highlighted">array</code> (e.g. <code class="highlighted">doubleMesh</code>)</td>
    </tr>
</table>

    <p>
        <b>Pre-defined grids with default settings:</b>
    </p>
    <p>The paper from the images below has been scaled 2 times and has gridSize set to 10.</p>
    <div class="caption-image h150">
        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJ2LTI0MiIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+PGRlZnMgaWQ9InYtMjQxIj48cGF0dGVybiBpZD0icGF0dGVybl8wIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjAiIGhlaWdodD0iMjAiPjxyZWN0IGlkPSJ2LTI0MyIgd2lkdGg9IjIiIGhlaWdodD0iMiIgZmlsbD0iIzAwMDAwMCIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3QgaWQ9InYtMjQ1IiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI3BhdHRlcm5fMCkiLz48L3N2Zz4=">
        <div class="caption">dot</div>
    </div>

    <div class="caption-image h150">
        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJ2LTIxMiIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+PGRlZnMgaWQ9InYtMjExIj48cGF0dGVybiBpZD0icGF0dGVybl8wIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjAiIGhlaWdodD0iMjAiPjxyZWN0IGlkPSJ2LTIxMyIgd2lkdGg9IjEuMDAiIGhlaWdodD0iMS4wMCIgZmlsbD0iIzAwMDAwMCIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3QgaWQ9InYtMjE1IiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI3BhdHRlcm5fMCkiLz48L3N2Zz4=">
        <div class="caption">fixedDot</div>
    </div>

    <div class="caption-image h150">
        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJ2LTM5OCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+PGRlZnMgaWQ9InYtMzk3Ij48cGF0dGVybiBpZD0icGF0dGVybl8wIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjAiIGhlaWdodD0iMjAiPjxwYXRoIGlkPSJ2LTM5OSIgZD0iTSAyMCAwIEgwIE0wIDAgVjAgMjAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjAwIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCBpZD0idi00MDEiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjcGF0dGVybl8wKSIvPjwvc3ZnPg==">
        <div class="caption">mesh</div>
    </div>

    <div class="caption-image h150">
        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJ2LTM2NSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+PGRlZnMgaWQ9InYtMzY0Ij48cGF0dGVybiBpZD0icGF0dGVybl8wIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjAiIGhlaWdodD0iMjAiPjxwYXRoIGlkPSJ2LTM2NiIgZD0iTSAyMCAwIEgwIE0wIDAgVjAgMjAiIHN0cm9rZT0iI2FhYWFhYSIgc3Ryb2tlLXdpZHRoPSIxLjAwIi8+PC9wYXR0ZXJuPjxwYXR0ZXJuIGlkPSJwYXR0ZXJuXzEiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48cGF0aCBpZD0idi0zNjkiIGQ9Ik0gMTAwIDAgSDAgTTAgMCBWMCAxMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIzLjAwIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCBpZD0idi0zNjgiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjcGF0dGVybl8wKSIvPjxyZWN0IGlkPSJ2LTM3MSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNwYXR0ZXJuXzEpIi8+PC9zdmc+">
        <div class="caption">doubleMesh</div>
    </div>


<pre><code class="highlighted">drawGrid<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token comment">// default pattern (dot) with default settings</span>

drawGrid<span class="token punctuation">:</span> <span class="token string">'mesh'</span> <span class="token comment">// pre-defined pattern with default settings</span>
drawGrid<span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'mesh'</span><span class="token punctuation">,</span> args<span class="token punctuation">:</span> <span class="token punctuation">{</span> color<span class="token punctuation">:</span> <span class="token string">'black'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>

drawGrid<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'doubleMesh'</span><span class="token punctuation">,</span>
    args<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> color<span class="token punctuation">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span> thickness<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// settings for the primary mesh</span>
        <span class="token punctuation">{</span> color<span class="token punctuation">:</span> <span class="token string">'green'</span><span class="token punctuation">,</span> scaleFactor<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> thickness<span class="token punctuation">:</span> <span class="token number">5</span> <span class="token punctuation">}</span> <span class="token comment">//settings for the secondary mesh</span>
<span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre>


        </div>
    </div>
    <div id="dia.Paper.prototype.options.el" class="docs-item">
        <a href="#dia.Paper.prototype.options.el" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.el</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">el</code> - CSS selector, jQuery object or a DOM element holding the container for the paper
        </div>
    </div>
    <div id="dia.Paper.prototype.options.elementView" class="docs-item">
        <a href="#dia.Paper.prototype.options.elementView" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.elementView</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">elementView</code> - object that is responsible for rendering an element model into the paper. Defaults to <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ElementView</code>. It can also be a function of the form <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span></code> that takes an element model and should return an object responsible for rendering that model onto the screen (in most cases a subtype of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ElementView</code>)
        </div>
    </div>
    <div id="dia.Paper.prototype.options.embeddingMode" class="docs-item">
        <a href="#dia.Paper.prototype.options.embeddingMode" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.embeddingMode</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">embeddingMode</code> - when set to <code class="highlighted"><span class="token boolean">true</span></code>, the paper is set to embedding mode. In this mode,
                              when you drag an element and drop into another element, the element below becomes a parent
                              of the dropped element (the dropped element gets automatically embedded into the parent element). Similarly, when you drag an
                              element out of its parent, the element gets automatically unembedded from its parent. The embedding mode
                              also makes sure all the connected links and child elements have proper <code class="highlighted">z</code> index set so that they stay visible.
                              To control what elements can be embedded into what other elements, use the <code class="highlighted"><span class="token function">validateEmbedding</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> function
                              on the paper (see below).
                              This is useful for hierarchical diagrams. See the <a href="#shapes.devs.hierarchical_diagrams">DEVS demo</a> on how this can be used.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.findParentBy" class="docs-item">
        <a href="#dia.Paper.prototype.options.findParentBy" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.findParentBy</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">findParentBy</code> - determines the way how a cell finds a suitable parent when it's dragged over the paper. The cell with the highest z-index (visually on the top) will be chosen.
<code class="highlighted">findParentBy</code> option comes to play when the paper is in <a href="#dia.Paper.prototype.options.embeddingMode">embedding mode</a>. All possible values are

<code class="highlighted"><span class="token string">'bbox'</span></code> (default), <code class="highlighted"><span class="token string">'center'</span></code>, <code class="highlighted"><span class="token string">'origin'</span></code>, <code class="highlighted"><span class="token string">'corner'</span></code>, <code class="highlighted"><span class="token string">'topRight'</span></code>, <code class="highlighted"><span class="token string">'bottomLeft'</span></code> and it also can be a <code class="highlighted"><span class="token keyword">function</span></code>. The function accepts an <code class="highlighted">element</code> and it returns array of possible candidates.

<pre><code class="highlighted">findParentBy<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> bBox <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> bBox<span class="token punctuation">.</span><span class="token function">intersect</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.options.gridSize" class="docs-item">
        <a href="#dia.Paper.prototype.options.gridSize" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.gridSize</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">gridSize</code> - size of the grid in pixels
        </div>
    </div>
    <div id="dia.Paper.prototype.options.guard" class="docs-item">
        <a href="#dia.Paper.prototype.options.guard" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.guard</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">guard</code> - guard paper from handling a browser UI event. This function is of the form
                              <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">,</span> view<span class="token punctuation">)</span></code> and should return <code class="highlighted"><span class="token boolean">true</span></code> if you want to prevent the paper from handling the event <code class="highlighted">evt</code>,
                              <code class="highlighted"><span class="token boolean">false</span></code> otherwise. This is an advanced option that can be useful if you have your own logic for handling events.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.height" class="docs-item">
        <a href="#dia.Paper.prototype.options.height" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.height</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">height</code> - height of the paper (see <a href="#dia.Paper.prototype.setDimensions">setDimensions()</a>).

        </div>
    </div>
    <div id="dia.Paper.prototype.options.highlighting" class="docs-item">
        <a href="#dia.Paper.prototype.options.highlighting" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.highlighting</h6>
        </a>
        <div class="docs-item-content">
<p><code class="highlighted">highlighting</code> - Configure which highlighter to use (and with which options) for each type of interaction.</p>

<h5>List of highlighting interactions</h5>
<ul>
    <li><b>default</b> - the default highlighter to use (and options) when none is specified</li>
    <li><b>connecting</b> - when a valid link connection can be made to an element</li>
    <li><b>embedding</b> - when a cell is dragged over another cell in embedding mode</li>
    <li><b>magnetAvailability</b> - when showing all magnets to which a valid connection can be made</li>
    <li><b>elementAvailability</b> - when showing all elements to which a valid connection can be made</li>
</ul>

<p>Example usage:</p>
<pre><code class="highlighted"><span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    highlighting<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">'default'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            name<span class="token punctuation">:</span> <span class="token string">'stroke'</span><span class="token punctuation">,</span>
            options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                padding<span class="token punctuation">:</span> <span class="token number">3</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        connecting<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            name<span class="token punctuation">:</span> <span class="token string">'addClass'</span><span class="token punctuation">,</span>
            options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                className<span class="token punctuation">:</span> <span class="token string">'highlight-connecting'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.options.interactive" class="docs-item">
        <a href="#dia.Paper.prototype.options.interactive" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.interactive</h6>
        </a>
        <div class="docs-item-content">
<p><code class="highlighted">interactive</code> - Configure which of the default interactions with elements and links should be enabled.</p>

<p>The property value defaults to <code class="highlighted"><span class="token punctuation">{</span> labelMove<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span></code>. This can be overwritten in three ways: with a boolean value, with an object specifying interaction keys, or with a function.</p>

<p>If set to <code class="highlighted"><span class="token boolean">false</span></code>, all interactions with elements and links are disabled. If set to <code class="highlighted"><span class="token boolean">true</span></code>, all interactions are enabled.</p>

<pre><code class="highlighted"><span class="token comment">// disable all interaction</span>
<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    interactive<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// enable all interaction (including labelMove)</span>
<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    interactive<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Using an object, specific interactions may be disabled by assigning <code class="highlighted"><span class="token boolean">false</span></code> to their corresponding property name. It is not necessary to pass <code class="highlighted"><span class="token boolean">true</span></code> values; all omitted properties are assigned <code class="highlighted"><span class="token boolean">true</span></code> by default. (Note that the passed object is not merged with the default; unless <code class="highlighted">labelMove</code> is explicitly excluded, it becomes enabled.) A full list of recognized interaction keys is provided below.</p>

<pre><code class="highlighted"><span class="token comment">// disable arrowheadMove</span>
<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    interactive<span class="token punctuation">:</span> <span class="token punctuation">{</span> arrowheadMove<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// disable all element interactions</span>
<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    interactive<span class="token punctuation">:</span> <span class="token punctuation">{</span> elementMove<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> addLinkFromMagnet<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>If defined as a function, the function is passed <code class="highlighted">cellView</code> (the elementView/linkView the user is about to interact with) as the first parameter, followed by the name of the event (<code class="highlighted"><span class="token string">'pointerdown'</span></code>, <code class="highlighted"><span class="token string">'pointermove'</span></code>, ...) that triggered the interaction. The return value of the function is then interpreted in the way specified above (<code class="highlighted"><span class="token boolean">false</span></code> causes all interaction to be disabled, an object disables specific interactions, etc.).</p>

<pre><code class="highlighted"><span class="token comment">// disable link interactions for cellViews when a custom property is set</span>
<span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    interactive<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>cellView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cellView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'disableLinkInteractions'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                linkMove<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                labelMove<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                arrowheadMove<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                vertexMove<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                vertexAdd<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                vertexRemove<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                useLinkTools<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// otherwise</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The example below has all interactions on the link and on the elements enabled. This is the default behavior:</p>

<iframe src="about:blank" data-src="./demo/dia/Paper/interactive/enableAll.html" style="height: 94px; width: 400px;"></iframe>

<p>The following tables present a list of all recognized interaction keys, followed by an example of a paper with only the related interactive property set to <code class="highlighted"><span class="token boolean">true</span></code> (and all other properties set to <code class="highlighted"><span class="token boolean">false</span></code>).</p>

<p><b>Links:</b></p>

<table>
    <tr>
        <th valign="top">linkMove</th>
        <td>
            <p>Is the user allowed to move the link?</p>
            <iframe src="about:blank" data-src="./demo/dia/Paper/interactive/linkMove.html" style="height: 94px; width: 250px;"></iframe>
        </td>
    </tr>
    <tr>
        <th valign="top">labelMove</th>
        <td>
            <p>Is the user allowed to move the link label?</p>
            <iframe src="about:blank" data-src="./demo/dia/Paper/interactive/labelMove.html" style="height: 94px; width: 250px;"></iframe>
        </td>
    </tr>
    <tr>
        <th valign="top">arrowheadMove</th>
        <td>
            <p>Deprecated. Use a <a href="#linkTools">link tool</a> instead.</p>
            <p>(Is the user allowed to move the arrowheads?)</p>
            <iframe src="about:blank" data-src="./demo/dia/Paper/interactive/arrowheadMove.html" style="height: 94px; width: 250px;"></iframe>
        </td>
    </tr>
    <tr>
        <th valign="top">vertexMove</th>
        <td>
            <p>Deprecated. Use a <a href="#linkTools">link tool</a> instead.</p>
            <p>(Is the user allowed to move the vertices?)</p>
            <iframe src="about:blank" data-src="./demo/dia/Paper/interactive/vertexMove.html" style="height: 94px; width: 250px;"></iframe>
        </td>
    </tr>
    <tr>
        <th valign="top">vertexAdd</th>
        <td>
            <p>Deprecated. Use a <a href="#linkTools">link tool</a> instead.</p>
            <p>(Is the user allowed to add vertices by clicking along the link path?)</p>
            <iframe src="about:blank" data-src="./demo/dia/Paper/interactive/vertexAdd.html" style="height: 94px; width: 250px;"></iframe>
        </td>
    </tr>
    <tr>
        <th valign="top">vertexRemove</th>
        <td>
            <p>Deprecated. Use a <a href="#linkTools">link tool</a> instead.</p>
            <p>(Is the user allowed to remove vertices?)</p>
            <iframe src="about:blank" data-src="./demo/dia/Paper/interactive/vertexRemove.html" style="height: 94px; width: 250px;"></iframe>
        </td>
    </tr>
    <tr>
        <th valign="top">useLinkTools</th>
        <td>
            <p>Deprecated.</p>
            <p>(Is the user allowed to use the default link buttons?)</p>
            <iframe src="about:blank" data-src="./demo/dia/Paper/interactive/useLinkTools.html" style="height: 94px; width: 250px;"></iframe>
        </td>
    </tr>
</table>

<p><b>Elements:</b></p>

<table>
    <tr>
        <th valign="top">elementMove</th>
        <td>
            <p>Is the user allowed to move the element?</p>
            <iframe src="about:blank" data-src="./demo/dia/Paper/interactive/elementMove.html" style="height: 94px; width: 250px;"></iframe>
        </td>
    </tr>
    <tr>
        <th valign="top">addLinkFromMagnet</th>
        <td>
            <p>Is the user allowed to add connections from magnets/ports?</p>
            <iframe src="about:blank" data-src="./demo/dia/Paper/interactive/addLinkFromMagnet.html" style="height: 94px; width: 250px;"></iframe>
        </td>
    </tr>
</table>

<p>The <code class="highlighted">stopDelegation</code> option is special. If it is <code class="highlighted"><span class="token boolean">true</span></code> (default), the element's <code class="highlighted">elementMove</code> option determines whether the element responds to user drag.</p>

<p>However, if <code class="highlighted">stopDelegation</code> is <code class="highlighted"><span class="token boolean">false</span></code> and the element is embedded within a parent, the user's dragging is delegated to the embedding parent. The parent's <code class="highlighted">elementMove</code> option then determines whether both elements respond to user drag. The behavior is recursive. If the embedding parent has <code class="highlighted">stopDelegation<span class="token punctuation">:</span> <span class="token boolean">false</span></code>, it delegates to its own embedding parent's <code class="highlighted">elementMove</code> option and so on. If all children within an embedding have <code class="highlighted">stopDelegation</code> set to <code class="highlighted"><span class="token boolean">false</span></code>, then no matter which element is dragged by the user, the whole embedding is dragged.</p>

<p>If the element is not embedded within an element, the <code class="highlighted">stopDelegation</code> option is ignored (treated as <code class="highlighted"><span class="token boolean">true</span></code>). There is no other element to delegate to. Then <code class="highlighted">elementMove</code> determines whether the element responds to user drag.</p>

<p>In the following example, both embedded elements have <code class="highlighted">stopDelegation<span class="token punctuation">:</span> <span class="token boolean">false</span></code>. Thus, when the embedded element is dragged by the user, the parent ancestor (<q>Movable</q>) is dragged instead. When the parent ancestor has <code class="highlighted">elementMove</code> disabled (<q>Not movable</q>), nothing happens.</p>

<table>
    <tr>
        <th valign="top">stopDelegation</th>
        <td>
            <iframe src="about:blank" data-src="./demo/dia/Paper/interactive/stopDelegation.html" style="height: 94px; width: 250px;"></iframe>
        </td>
    </tr>
</table>

        </div>
    </div>
    <div id="dia.Paper.prototype.options.linkConnectionPoint" class="docs-item">
        <a href="#dia.Paper.prototype.options.linkConnectionPoint" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.linkConnectionPoint</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted"><span class="token function">linkConnectionPoint</span><span class="token punctuation">(</span>linkView<span class="token punctuation">,</span> view<span class="token punctuation">,</span> magnet<span class="token punctuation">,</span> reference<span class="token punctuation">)</span></code> - this function allows you to customize what are the sticky points of links. The function must return a point (with <code class="highlighted">x</code> and <code class="highlighted">y</code> properties) where the link sticks to the element.
                  The function takes the link view, element view, the magnet (SVG element) the link should stick to and a reference point (either the closest vertex or the sticky point on the other side of the link).
                              Note that there is a utility function <a href="#util.shapePerimeterConnectionPoint">shapePerimeterConnectionPoint</a> that can
                              be directly passed to the <code class="highlighted">linkConnectionPoint</code> parameter. This function tries to find
                              the best possible connection point right on the perimeter of the connected shapes. See the function
                              documentation for details.
                            
        </div>
    </div>
    <div id="dia.Paper.prototype.options.linkPinning" class="docs-item">
        <a href="#dia.Paper.prototype.options.linkPinning" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.linkPinning</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">linkPinning</code> - when set to <code class="highlighted"><span class="token boolean">true</span></code> (the default), links can be <q>pinned</q> to the paper meaning a source or target of a link can be a point. If you do not want to let the user drag a link and drop it somewhere in a blank paper area, set this to <code class="highlighted"><span class="token boolean">false</span></code>. The effect is
                              that the link will be returned to its original position whenever the user drops it somewhere in a blank paper area.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.linkView" class="docs-item">
        <a href="#dia.Paper.prototype.options.linkView" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.linkView</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">linkView</code> - object that is responsible for rendering a link model into the paper. Defaults to <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView</code>. It can also be a function of the form <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span></code> that takes a link model and should return an object responsible for rendering that model onto the screen (in most cases a <a href="#dia.LinkView.intro">subtype</a> of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>LinkView</code>).

        </div>
    </div>
    <div id="dia.Paper.prototype.options.magnetThreshold" class="docs-item">
        <a href="#dia.Paper.prototype.options.magnetThreshold" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.magnetThreshold</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">magnetThreshold</code> - When defined as a number, it denotes the required mousemove events before a new link is created from a magnet. When defined as keyword <code class="highlighted"><span class="token string">'onleave'</span></code>, the link is created when the pointer leaves the magnet DOM element. It defaults to <code class="highlighted"><span class="token number">0</span></code>.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.markAvailable" class="docs-item">
        <a href="#dia.Paper.prototype.options.markAvailable" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.markAvailable</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">markAvailable</code> - marks all the available magnets or elements when a link is dragged (being reconnected). Default is <code class="highlighted"><span class="token boolean">false</span></code>. This gives a hint to the user to what other elements/ports this link can be connected.
                                What magnets/cells are available is determined by the <a href="#dia.Paper.prototype.options.validateConnection"><code class="highlighted">validateConnection</code></a> function.
                                Internally, available magnets (SVG elements) are given the <code class="highlighted"><span class="token string">'available-magnet'</span></code> class name and all the available cells the <code class="highlighted"><span class="token string">'available-cell'</span></code> class name. This allows you to change the
                                styling of the highlight effect.
                
        </div>
    </div>
    <div id="dia.Paper.prototype.options.model" class="docs-item">
        <a href="#dia.Paper.prototype.options.model" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.model</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">model</code> - <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</code> object
        </div>
    </div>
    <div id="dia.Paper.prototype.options.moveThreshold" class="docs-item">
        <a href="#dia.Paper.prototype.options.moveThreshold" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.moveThreshold</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">moveThreshold</code> - Number of required mousemove events before the first pointermove event is triggered. It defaults to <code class="highlighted"><span class="token number">0</span></code>.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.multiLinks" class="docs-item">
        <a href="#dia.Paper.prototype.options.multiLinks" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.multiLinks</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">multiLinks</code> - when set to <code class="highlighted"><span class="token boolean">false</span></code>, an element may not have
                              more than one link with the same source and target element.
                
        </div>
    </div>
    <div id="dia.Paper.prototype.options.origin" class="docs-item">
        <a href="#dia.Paper.prototype.options.origin" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.origin</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">origin</code> - position of zero coordinates of the paper in pixels (default is <code class="highlighted"><span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span></code> i.e. top-left corner)
        </div>
    </div>
    <div id="dia.Paper.prototype.options.perpendicularLinks" class="docs-item">
        <a href="#dia.Paper.prototype.options.perpendicularLinks" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.perpendicularLinks</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">perpendicularLinks</code> - if <code class="highlighted"><span class="token boolean">true</span></code>, links will tend to get perpendicular to their associated objects. Default is <code class="highlighted"><span class="token boolean">false</span></code>
        </div>
    </div>
    <div id="dia.Paper.prototype.options.preventContextMenu" class="docs-item">
        <a href="#dia.Paper.prototype.options.preventContextMenu" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.preventContextMenu</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">preventContextMenu</code> - Prevents default context menu action (when right button of the mouse is clicked). It defaults to <code class="highlighted"><span class="token boolean">true</span></code>.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.preventDefaultBlankAction" class="docs-item">
        <a href="#dia.Paper.prototype.options.preventDefaultBlankAction" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.preventDefaultBlankAction</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">preventDefaultBlankAction</code> - Prevents default action when an empty paper area is clicked. Setting the option to <code class="highlighted"><span class="token boolean">false</span></code> will make the paper pannable inside a container on touch devices. It defaults to <code class="highlighted"><span class="token boolean">true</span></code>.

        </div>
    </div>
    <div id="dia.Paper.prototype.options.restrictTranslate" class="docs-item">
        <a href="#dia.Paper.prototype.options.restrictTranslate" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.restrictTranslate</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">restrictTranslate</code> - restrict the translation (movement) of elements by a given bounding box. If set to <code class="highlighted"><span class="token boolean">true</span></code>, the user will not be able to move elements outside the boundary of the paper area. It's set to <code class="highlighted"><span class="token boolean">false</span></code> by default. This option also accepts a function with signature <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span>elementView<span class="token punctuation">)</span></code> in which case it must return a bounding box (an object of the form <code class="highlighted"><span class="token punctuation">{</span> x<span class="token punctuation">:</span> Number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> Number<span class="token punctuation">,</span> width<span class="token punctuation">:</span> Number<span class="token punctuation">,</span> height<span class="token punctuation">:</span> Number <span class="token punctuation">}</span></code>) that defines the area in which the element represented by <code class="highlighted">elementView</code> can be moved. For example, to restrict translation of embedded elements by the bounding box defined by their parent element, you can do:<p></p>

<pre><code class="highlighted">restrictTranslate<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>elementView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> parentId <span class="token operator">=</span> elementView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'parent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> parentId <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">getCell</span><span class="token punctuation">(</span>parentId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="dia.Paper.prototype.options.snapLinks" class="docs-item">
        <a href="#dia.Paper.prototype.options.snapLinks" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.snapLinks</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">snapLinks</code> - when enabled, force a dragged link to snap to the closest element/port in the given radius. The option accepts <code class="highlighted"><span class="token boolean">true</span></code> in which case default values are used or an object of the form
                  <code class="highlighted"><span class="token punctuation">{</span> radius<span class="token punctuation">:</span> <span class="token operator">&lt;</span>value<span class="token operator">></span> <span class="token punctuation">}</span></code> where you can specify the radius (default is 50).
        </div>
    </div>
    <div id="dia.Paper.prototype.options.validateConnection" class="docs-item">
        <a href="#dia.Paper.prototype.options.validateConnection" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.validateConnection</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted"><span class="token function">validateConnection</span><span class="token punctuation">(</span>cellViewS<span class="token punctuation">,</span> magnetS<span class="token punctuation">,</span> cellViewT<span class="token punctuation">,</span> magnetT<span class="token punctuation">,</span> end<span class="token punctuation">,</span> linkView<span class="token punctuation">)</span></code> - 
                                decide whether to allow or disallow a connection between the source view/magnet (<code class="highlighted">cellViewS<span class="token operator">/</span>magnetS</code>) 
                                and target view/magnet (<code class="highlighted">cellViewT<span class="token operator">/</span>magnetT</code>). <code class="highlighted">end</code> is either <code class="highlighted"><span class="token string">"source"</span></code> or <code class="highlighted"><span class="token string">"target"</span></code> and tells which end of
                                the link is being dragged. This is useful for defining whether, for example, a link starting in a port POut of element A can lead to a port PIn of elmement B. By default, all linkings are allowed.
        </div>
    </div>
    <div id="dia.Paper.prototype.options.validateEmbedding" class="docs-item">
        <a href="#dia.Paper.prototype.options.validateEmbedding" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.validateEmbedding</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">validateEmbedding</code> - a function that allows you to control what elements can be embedded to
                              what other elements when the paper is put into the <code class="highlighted">embeddingMode</code> (see above).
                              The function signature is: <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span>childView<span class="token punctuation">,</span> parentView<span class="token punctuation">)</span></code> and should return
                              <code class="highlighted"><span class="token boolean">true</span></code> if the <code class="highlighted">childView</code> element can be embedded into the <code class="highlighted">parentView</code> element.
                              By default, all elements can be embedded into all other elements (the function returns <code class="highlighted"><span class="token boolean">true</span></code> no matter what).
                
        </div>
    </div>
    <div id="dia.Paper.prototype.options.validateMagnet" class="docs-item">
        <a href="#dia.Paper.prototype.options.validateMagnet" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.validateMagnet</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted"><span class="token function">validateMagnet</span><span class="token punctuation">(</span>cellView<span class="token punctuation">,</span> magnet<span class="token punctuation">)</span></code> - decide whether to create a link if the user clicks a magnet. <code class="highlighted">magnet</code> is the DOM element representing the magnet. By default, this function returns <code class="highlighted"><span class="token boolean">true</span></code> for magnets that are not explicitely set to &quot;passive&quot; (which is usually the case of input ports).
        </div>
    </div>
    <div id="dia.Paper.prototype.options.width" class="docs-item">
        <a href="#dia.Paper.prototype.options.width" class="docs-item-anchor">
            <h6 class="docs-item-header">dia.Paper.prototype.options.width</h6>
        </a>
        <div class="docs-item-content">
<code class="highlighted">width</code> - width of the paper (see <a href="#dia.Paper.prototype.setDimensions">setDimensions()</a>).

        </div>
    </div>
    </div>
    </div>
    </div>
    <div id="dia.ToolsView" class="docs-item">
    <div id="dia.ToolsView.intro" class="docs-item">
        <a href="#dia.ToolsView.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.ToolsView</h4>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolsView</code> class works as a container for one set of link tools (an array of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolView</code> <a href="#dia.ToolView">objects</a>). It is responsible for rendering the tools as a group when the tools view is attached to a <a href="#dia.LinkView">joint.dia.LinkView</a>.</p>

<p>To create a new tools view object, we call its constructor. Two optional arguments are accepted:</p>

<table>
    <tr>
        <th>name</th>
        <td><i>string</i></td>
        <td>The name of this tools view. Default is <code class="highlighted"><span class="token keyword">null</span></code> (no name).</td>
    </tr>
    <tr>
        <th>tools</th>
        <td><i>Array&lt;dia.ToolView&gt;</i></td>
        <td>An array of <a href="#dia.ToolView">tools</a> that should be a part of the tools view. Default is <code class="highlighted"><span class="token punctuation">[</span><span class="token punctuation">]</span></code> (no tools).</td>
    </tr>
</table>

<p>Creating a tools view is the second step in the process of setting up link tools on a link view:</p>

<pre><code class="highlighted"><span class="token comment">// 1) creating link tools</span>
<span class="token keyword">var</span> verticesTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Vertices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> segmentsTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Segments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> boundaryTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Boundary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 2) creating a tools view</span>
<span class="token keyword">var</span> toolsView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolsView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'basic-tools'</span><span class="token punctuation">,</span>
    tools<span class="token punctuation">:</span> <span class="token punctuation">[</span>verticesTool<span class="token punctuation">,</span> segmentsTool<span class="token punctuation">,</span> boundaryTool<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 3) attaching to a link view</span>
<span class="token keyword">var</span> linkView <span class="token operator">=</span> link<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span>paper<span class="token punctuation">)</span><span class="token punctuation">;</span>
linkView<span class="token punctuation">.</span><span class="token function">addTools</span><span class="token punctuation">(</span>toolsView<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Every link view we want to attach to requires its own tools view object (<code class="highlighted">ToolsView</code> objects are automatically reassigned to the last link view they are added to). Similarly, every tools view we create requires its own set of tools (<code class="highlighted">ToolView</code> objects are automatically reassigned to the last <code class="highlighted">toolsView<span class="token punctuation">.</span>tools</code> array they were made part of).</p>

        </div>
    </div>
    <div id="dia.ToolsView.prototype" class="docs-item">
    <div id="dia.ToolsView.prototype.blurTool" class="docs-item">
        <a href="#dia.ToolsView.prototype.blurTool" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolsView.prototype.blurTool</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolsView<span class="token punctuation">.</span><span class="token function">blurTool</span><span class="token punctuation">(</span>tool<span class="token punctuation">)</span></code></pre>
<p>Stop focusing the specified <code class="highlighted">tool</code> (of the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolView</code> <a href="#dia.ToolView">type</a>) within this tools view.</p>

<p>This function reverses the effect of the <code class="highlighted">toolsView<span class="token punctuation">.</span>focusTool</code> <a href="#dia.ToolsView.prototype.focusTool">function</a>.</p>

        </div>
    </div>
    <div id="dia.ToolsView.prototype.focusTool" class="docs-item">
        <a href="#dia.ToolsView.prototype.focusTool" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolsView.prototype.focusTool</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolsView<span class="token punctuation">.</span><span class="token function">focusTool</span><span class="token punctuation">(</span>tool<span class="token punctuation">)</span></code></pre>
<p>Focus the specified <code class="highlighted">tool</code> (of the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolView</code> <a href="#dia.ToolView">type</a>) within this tools view.</p>

<p>When a tool is <q>focused</q>, all other tools within this tools view are hidden and the tool's opacity is changed according to the tool's <code class="highlighted">focusOpacity</code> option. Only one tool can be focused at a time; the focus passes to the last tool within this tools view with which the <code class="highlighted">focusTool</code> function was called.</p>

<p>The effect of this function can be reversed by the <code class="highlighted">toolsView<span class="token punctuation">.</span>blurTool</code> <a href="#dia.ToolsView.prototype.blurTool">function</a>.</p>

        </div>
    </div>
    <div id="dia.ToolsView.prototype.getName" class="docs-item">
        <a href="#dia.ToolsView.prototype.getName" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolsView.prototype.getName</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolsView<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the name of this tools view. If no name was set during the construction of the tools view, <code class="highlighted"><span class="token keyword">null</span></code> is returned.</p>

        </div>
    </div>
    <div id="dia.ToolsView.prototype.hide" class="docs-item">
        <a href="#dia.ToolsView.prototype.hide" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolsView.prototype.hide</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolsView<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Hide all tools within this tools view.</p>

        </div>
    </div>
    <div id="dia.ToolsView.prototype.show" class="docs-item">
        <a href="#dia.ToolsView.prototype.show" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolsView.prototype.show</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolsView<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Show all tools within this tools view.</p>

        </div>
    </div>
    </div>
    </div>
    <div id="dia.ToolView" class="docs-item">
    <div id="dia.ToolView.intro" class="docs-item">
        <a href="#dia.ToolView.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">dia.ToolView</h4>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolView</code> class is the parent class of all link tool views included in the <code class="highlighted">joint<span class="token punctuation">.</span>linkTools</code> <a href="#linkTools">namespace</a>. It is responsible for rendering the tool within a <a href="#dia.ToolsView">joint.dia.ToolsView</a>, when the tools view is attached to a <a href="#dia.LinkView">joint.dia.LinkView</a>.</p>

<p>Creating link tools objects is the first step in the process of setting up link tools on a link view:</p>

<pre><code class="highlighted"><span class="token comment">// 1) creating link tools</span>
<span class="token keyword">var</span> verticesTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Vertices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> segmentsTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Segments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> boundaryTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Boundary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 2) creating a tools view</span>
<span class="token keyword">var</span> toolsView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolsView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'basic-tools'</span><span class="token punctuation">,</span>
    tools<span class="token punctuation">:</span> <span class="token punctuation">[</span>verticesTool<span class="token punctuation">,</span> segmentsTool<span class="token punctuation">,</span> boundaryTool<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 3) attaching to a link view</span>
<span class="token keyword">var</span> linkView <span class="token operator">=</span> link<span class="token punctuation">.</span><span class="token function">findView</span><span class="token punctuation">(</span>paper<span class="token punctuation">)</span><span class="token punctuation">;</span>
linkView<span class="token punctuation">.</span><span class="token function">addTools</span><span class="token punctuation">(</span>toolsView<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Every link view we want to attach to requires its own tools view object (<code class="highlighted">ToolsView</code> objects are automatically reassigned to the last link view they are added to). Similarly, every tools view we create requires its own set of tools (<code class="highlighted">ToolView</code> objects are automatically reassigned to the last <code class="highlighted">toolsView<span class="token punctuation">.</span>tools</code> array they were made part of).</p>

        </div>
    </div>
    <div id="dia.ToolView.prototype" class="docs-item">
    <div id="dia.ToolView.prototype.blur" class="docs-item">
        <a href="#dia.ToolView.prototype.blur" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolView.prototype.blur</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolView<span class="token punctuation">.</span><span class="token function">blur</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Stop focusing the tool within its containing <code class="highlighted">toolsView</code>.</p>

<p>This function reverses the effect of the <code class="highlighted">toolView<span class="token punctuation">.</span>focus</code> <a href="#dia.ToolView.prototype.focus">function</a>.</p>

        </div>
    </div>
    <div id="dia.ToolView.prototype.focus" class="docs-item">
        <a href="#dia.ToolView.prototype.focus" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolView.prototype.focus</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolView<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Focus the tool within its containing <code class="highlighted">toolsView</code>.</p>

<p>When a tool is <q>focused</q>, all other tools within the <code class="highlighted">toolsView</code> are hidden and the tool's opacity is changed according to the tool's <code class="highlighted">focusOpacity</code> option. Only one tool can be focused at a time; the focus passes to the last tool within a tools view on which the <code class="highlighted">focus</code> function was called.</p>

<p>The effect of this function can be reversed by the <code class="highlighted">toolView<span class="token punctuation">.</span>blur</code> <a href="#dia.ToolView.prototype.blur">function</a>.</p>

        </div>
    </div>
    <div id="dia.ToolView.prototype.getName" class="docs-item">
        <a href="#dia.ToolView.prototype.getName" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolView.prototype.getName</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolView<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the name of the tool. The names of built-in link tools are kebab-case versions of their class names (e.g. the name of <code class="highlighted">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>SourceAnchor</code> is <code class="highlighted"><span class="token string">'source-anchor'</span></code>).</p>

<p>When creating a custom tool (e.g. by extending the <code class="highlighted">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Button</code> <a href="#linkTools.Button">class</a>), it is recommended that you provide a custom <code class="highlighted">name</code> prototype property, as well:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>InfoButton <span class="token operator">=</span> joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Button<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'info-button'</span><span class="token punctuation">,</span>
    options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        markup<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            tagName<span class="token punctuation">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
            selector<span class="token punctuation">:</span> <span class="token string">'button'</span><span class="token punctuation">,</span>
            attributes<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">'r'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
                <span class="token string">'fill'</span><span class="token punctuation">:</span> <span class="token string">'#001DFF'</span><span class="token punctuation">,</span>
                <span class="token string">'cursor'</span><span class="token punctuation">:</span> <span class="token string">'pointer'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            tagName<span class="token punctuation">:</span> <span class="token string">'path'</span><span class="token punctuation">,</span>
            selector<span class="token punctuation">:</span> <span class="token string">'icon'</span><span class="token punctuation">,</span>
            attributes<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token string">'M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4'</span><span class="token punctuation">,</span>
                <span class="token string">'fill'</span><span class="token punctuation">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
                <span class="token string">'stroke'</span><span class="token punctuation">:</span> <span class="token string">'#FFFFFF'</span><span class="token punctuation">,</span>
                <span class="token string">'stroke-width'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token string">'pointer-events'</span><span class="token punctuation">:</span> <span class="token string">'none'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        distance<span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
        offset<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        action<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'View id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span> <span class="token string">'Model id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="dia.ToolView.prototype.hide" class="docs-item">
        <a href="#dia.ToolView.prototype.hide" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolView.prototype.hide</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolView<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Hide the tool.</p>

<p>The effect of this function can be reversed by the <code class="highlighted">toolView<span class="token punctuation">.</span>show</code> <a href="#dia.ToolView.prototype.show">function</a>.</p>

        </div>
    </div>
    <div id="dia.ToolView.prototype.isVisible" class="docs-item">
        <a href="#dia.ToolView.prototype.isVisible" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolView.prototype.isVisible</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolView<span class="token punctuation">.</span><span class="token function">isVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> if the tool is currently visible.</p>

<p>A tool is not visible if it has been hidden (e.g. with the <code class="highlighted">toolView<span class="token punctuation">.</span>hide</code> <a href="#dia.ToolView.prototype.hide">function</a>) or if another tool within the containing <code class="highlighted">toolsView</code> has been focused (e.g. with the <code class="highlighted">toolView<span class="token punctuation">.</span>focus</code> <a href="#dia.ToolView.prototype.focus">function</a>).</p>

        </div>
    </div>
    <div id="dia.ToolView.prototype.show" class="docs-item">
        <a href="#dia.ToolView.prototype.show" class="docs-item-anchor">
            <h5 class="docs-item-header">dia.ToolView.prototype.show</h5>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">toolView<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Show the tool.</p>

<p>The effect of this function can be reversed by the <code class="highlighted">toolView<span class="token punctuation">.</span>hide</code> <a href="#dia.ToolView.prototype.hide">function</a>.</p>

        </div>
    </div>
    </div>
    </div>
    </div>
    <div id="env" class="docs-item">
    <div id="env.addTest" class="docs-item">
        <a href="#env.addTest" class="docs-item-anchor">
            <h3 class="docs-item-header">env.addTest</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">env<span class="token punctuation">.</span><span class="token function">addTest</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> fn<span class="token punctuation">)</span></code></pre>

<p>Add a custom feature-detection test where <code class="highlighted">name</code> is a string which uniquely identifies your feature test and <code class="highlighted">fn</code> is a function that returns <code class="highlighted"><span class="token boolean">true</span></code> if the browser supports the feature, and <code class="highlighted"><span class="token boolean">false</span></code> if it does not.</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token function">addTest</span><span class="token punctuation">(</span><span class="token string">'customTest'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// Just as an example, we will always return true here.</span>
	<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>joint<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'customTest'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Feature is supported.</span>
<span class="token punctuation">}</span></code></pre>

        </div>
    </div>
    <div id="env.test" class="docs-item">
        <a href="#env.test" class="docs-item-anchor">
            <h3 class="docs-item-header">env.test</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">env<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span></code></pre>

<p>Tests whether the browsers supports the given feature or not. Returns <code class="highlighted"><span class="token boolean">true</span></code> if the feature is supported, otherwise it returns <code class="highlighted"><span class="token boolean">false</span></code>.</p>

<pre><code class="highlighted"><span class="token keyword">if</span> <span class="token punctuation">(</span>joint<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'someFeature'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Feature is supported.</span>
<span class="token punctuation">}</span></code></pre>

<p>JointJS ships with the following tests:</p>
<ul>
    <li><b>svgforeignobject</b> - Tests whether the browser supports <a href="https://developer.mozilla.org/cs/docs/Web/SVG/Element/foreignObject">foreignObject</a>.</li>
</ul>

        </div>
    </div>
    </div>
    <div id="highlighters" class="docs-item">
    <div id="highlighters.intro" class="docs-item">
        <a href="#highlighters.intro" class="docs-item-anchor">
            <h3 class="docs-item-header">highlighters</h3>
        </a>
        <div class="docs-item-content">
<p>Highlighters can be used to provide visual emphasis to an element; during user interactions for example.</p>

<iframe src="about:blank" data-src="demo/highlighters/stroke.html" style="height: 426px; width: 423px;"></iframe>

<p>In the above demo, we listen to the paper for the <code class="highlighted">cell<span class="token punctuation">:</span>pointerclick</code> event, then highlight the cell that was clicked.</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'cell:pointerclick'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>cellView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cellView<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>As you can see it is possible to highlight a cell as follows:</p>
<pre><code class="highlighted">cellView<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Unhighlighting a cell is simple too:</p>
<pre><code class="highlighted">cellView<span class="token punctuation">.</span><span class="token function">unhighlight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>To highlight a cell using a specific highlighter (and options):</p>
<pre><code class="highlighted">cellView<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token comment">/* defaults to cellView.el */</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    highlighter<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'stroke'</span><span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            width<span class="token punctuation">:</span> <span class="token number">3</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Or you can specify just the highlighter's name (its default options will be used):</p>
<pre><code class="highlighted">cellView<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token comment">/* defaults to cellView.el */</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    highlighter<span class="token punctuation">:</span> <span class="token string">'stroke'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="highlighters.addClass" class="docs-item">
        <a href="#highlighters.addClass" class="docs-item-anchor">
            <h3 class="docs-item-header">highlighters.addClass</h3>
        </a>
        <div class="docs-item-content">
<p>Toggles a class name on the cell view's <code class="highlighted">$el</code>.</p>

<p>Available options:</p>
<ul>
    <li><b>className</b> - the class name to toggle on the cell's <code class="highlighted">$el</code></li>
</ul>

<p>Example usage:</p>
<pre><code class="highlighted">cellView<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token comment">/* defaults to cellView.el */</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    highlighter<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'addClass'</span><span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            className<span class="token punctuation">:</span> <span class="token string">'some-custom-class'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="highlighters.opacity" class="docs-item">
        <a href="#highlighters.opacity" class="docs-item-anchor">
            <h3 class="docs-item-header">highlighters.opacity</h3>
        </a>
        <div class="docs-item-content">
<p>Changes the opacity of the cell view's <code class="highlighted">$el</code>.</p>

<p>When a cell is highlighted with the opacity highlighter, its <code class="highlighted">$el</code> is given the <code data-lang="css" class="highlighted">.joint-highlight-opacity</code> class. To customize the look of this highlighted state, you can add custom CSS rules that affect this class name.</p>

<p>This highlighter does not currently have any options.</p>

<p>Example usage:</p>
<pre><code class="highlighted">cellView<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token comment">/* defaults to cellView.el */</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    highlighter<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'opacity'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="highlighters.stroke" class="docs-item">
        <a href="#highlighters.stroke" class="docs-item-anchor">
            <h3 class="docs-item-header">highlighters.stroke</h3>
        </a>
        <div class="docs-item-content">
<p>Adds a stroke around the cell view's <code class="highlighted">$el</code>.</p>

<p>Available options:</p>
<ul>
    <li><b>padding</b> - the space between the stroke and the element</li>
    <li><b>rx</b> - the stroke's border radius on the x-axis</li>
    <li><b>ry</b> - the stroke's border radius on the y-axis</li>
    <li><b>attrs</b> - an object with SVG attributes to be set on the highlighter element</li>
</ul>

<p>Example usage:</p>
<pre><code class="highlighted">cellView<span class="token punctuation">.</span><span class="token function">highlight</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token comment">/* defaults to cellView.el */</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    highlighter<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'stroke'</span><span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            padding<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            rx<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
            ry<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
            attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">'stroke-width'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
                stroke<span class="token punctuation">:</span> <span class="token string">'#FF0000'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    </div>
    <div id="layout" class="docs-item">
    <div id="layout.DirectedGraph" class="docs-item">
        <a href="#layout.DirectedGraph" class="docs-item-anchor">
            <h3 class="docs-item-header">layout.DirectedGraph</h3>
        </a>
        <div class="docs-item-content">
<p>Automatic layout of directed graphs. This plugin uses the open-source (MIT license) <a href="https://github.com/cpettitt/dagre">Dagre</a> library internally. It provides a wrapper so that you can call the layout directly on JointJS graphs.</p>

<p><strong>Note</strong> that you must include both the <a href="https://github.com/cpettitt/dagre">Dagre</a> and <a href="https://github.com/cpettitt/graphlib">Graphlib</a> libraries as dependencies if you wish to use the layout.DirectedGraph plugin.</p>

<h3>Usage</h3>

<p><code class="highlighted">joint<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>DirectedGraph</code> plugin exposes the <code class="highlighted">joint<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>DirectedGraph<span class="token punctuation">.</span><span class="token function">layout</span><span class="token punctuation">(</span>graphOrElements<span class="token punctuation">,</span> opt<span class="token punctuation">)</span></code> function.
    The first parameter <code class="highlighted">graphOrElements</code> is the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</code> or an array of <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Elements</code> we want to layout. The second parameter <code class="highlighted">options</code> is an
    object that contains various options for configuring the layout.
</p>

<pre><code class="highlighted"><span class="token keyword">var</span> graphBBox <span class="token operator">=</span> joint<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>DirectedGraph<span class="token punctuation">.</span><span class="token function">layout</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    nodeSep<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
    edgeSep<span class="token punctuation">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
    rankDir<span class="token punctuation">:</span> <span class="token string">"TB"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'x:'</span><span class="token punctuation">,</span> graphBBox<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token string">'y:'</span><span class="token punctuation">,</span> graphBBox<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'width:'</span><span class="token punctuation">,</span> graphBBox<span class="token punctuation">.</span>width<span class="token punctuation">,</span> <span class="token string">'height:'</span><span class="token punctuation">,</span> graphBBox<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<iframe src="about:blank" data-src="demo/layout/DirectedGraph/index.html" style="height: 621px; width: 403px;"></iframe>
<p>A full blog post explaining this example in more detail can be found <a href="http://www.daviddurman.com/automatic-graph-layout-with-jointjs-and-dagre.html">here</a>.</p>


<h4>Example with clusters</h4>

<iframe src="about:blank" data-src="demo/layout/DirectedGraph/clusters.html" style="height: 404px; width: 603px;"></iframe>


<h3>Configuration</h3>

<p>The following table lists options that you can pass to the <code class="highlighted">joint<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>DirectedGraph<span class="token punctuation">.</span><span class="token function">layout</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> opt<span class="token punctuation">)</span></code> function:</p>

<table>
    <tr><th>nodeSep</th><td>a number of pixels representing the separation between adjacent nodes in the same rank</td></tr>
    <tr><th>edgeSep</th><td>a number of pixels representing the separation between adjacent edges in the same rank</td></tr>
    <tr><th>rankSep</th><td>a number of pixels representing the separation between ranks</td></tr>
    <tr><th>rankDir</th><td>direction of the layout (one of <code class="highlighted"><span class="token string">"TB"</span></code> (top-to-bottom) / <code class="highlighted"><span class="token string">"BT"</span></code> (bottom-to-top) / <code class="highlighted"><span class="token string">"LR"</span></code> (left-to-right) / <code class="highlighted"><span class="token string">"RL"</span></code> (right-to-left))</td></tr>
    <tr><th>marginX</th><td>number of pixels to use as a margin around the left and right of the graph.</td></tr>
    <tr><th>marginY</th><td>number of pixels to use as a margin around the top and bottom of the graph.</td></tr>
    <tr><th>ranker</th><td>Type of algorithm to assign a rank to each node in the input graph. Possible values: <code class="highlighted"><span class="token string">'network-simplex'</span></code> (default), <code class="highlighted"><span class="token string">'tight-tree'</span></code> or <code class="highlighted"><span class="token string">'longest-path'</span></code>.
number of pixels to use as a margin around the top and bottom of the graph.</td></tr>
    <tr><th>resizeClusters</th><td>set to <code class="highlighted"><span class="token boolean">false</span></code> if you don't want parent elements to stretch in order to fit all their embedded children. Default is <code class="highlighted"><span class="token boolean">true</span></code>.</td></tr>
    <tr><th>clusterPadding</th><td>A gap between the parent element and the boundary of its embedded children. It could be a number or an object e.g. <code class="highlighted"><span class="token punctuation">{</span> left<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> right<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> top<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> bottom<span class="token punctuation">:</span> <span class="token number">10</span> <span class="token punctuation">}</span></code>. It defaults to <code class="highlighted"><span class="token number">10</span></code>.</td></tr>
    <tr><th>setPosition(element, position)</th><td>a function that will be used to set the position of elements at the end of the layout. This is useful
    if you don't want to use the default <code class="highlighted">element<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'position'</span><span class="token punctuation">,</span> position<span class="token punctuation">)</span></code> but want to set the position in an animated fashion via <a href="#dia.Element.prototype.transition">transitions</a>.</td></tr>
    <tr><th>setVertices(link, vertices)</th>
        <td>
            If set to <code class="highlighted"><span class="token boolean">true</span></code> the layout will adjust the links by setting their vertices. It defaults to <code class="highlighted"><span class="token boolean">false</span></code>. If the option is defined as a function it will be used to set the vertices of links at the end of the layout. This is useful
            if you don't want to use the default <code class="highlighted">link<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'vertices'</span><span class="token punctuation">,</span> vertices<span class="token punctuation">)</span></code> but want to set the vertices in an animated fashion via <a href="#dia.Link.prototype.transition">transitions</a>.
        </td>
    </tr>
    <tr><th>setLabels(link, labelPosition, points)</th>
        <td>
            If set to <code class="highlighted"><span class="token boolean">true</span></code> the layout will adjust the labels by setting their position. It defaults to <code class="highlighted"><span class="token boolean">false</span></code>. If the option is defined as a function it will be used to set the labels of links at the end of the layout.
            <em><b>Note:</b> Only the first label (<code class="highlighted">link<span class="token punctuation">.</span><span class="token function">label</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>) is positioned by the layout.</em>
        </td>
    </tr>
</table>

<p>Additionally, the layout engine takes into account some properties on elements/links to fine tune the layout further. These are:</p>

<table>
    <tr>
        <th>size</th>
        <td>element</td>
        <td>An object with `width` and `height` properties representing the size of the element.</td>
    </tr>
    <tr>
        <th>minLen</th>
        <td>link</td>
        <td>The number of ranks to keep between the source and target of the link.</td>
    </tr>
    <tr>
        <th>weight</th>
        <td>link</td>
        <td>The weight to assign edges. Higher weight edges are generally made shorter and straighter than lower weight edges.</td>
    </tr>
    <tr>
        <th>labelPosition</th>
        <td>link</td>
        <td>Where to place the label relative to the edge. <code class="highlighted"><span class="token string">'l'</span></code> = left, <code class="highlighted"><span class="token string">'c'</span></code> = center (default), <code class="highlighted"><span class="token string">'r'</span></code> = right.
        </td>
    </tr>
    <tr>
        <th>labelOffset</th>
        <td>link</td>
        <td>How many pixels to move the label away from the edge. Applies only when <code class="highlighted">labelPosition</code> is left or right.</td>
    </tr>
    <tr>
        <th>labelSize</th>
        <td>link</td>
        <td>The width and height of the edge label in pixels. e.g. <code class="highlighted"><span class="token punctuation">{</span> width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">50</span> <span class="token punctuation">}</span></code></td>
    </tr>
</table>

<p>The <code class="highlighted"><span class="token function">layout</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> function returns a bounding box (<code class="highlighted">g<span class="token punctuation">.</span>Rect</code>) of the resulting graph.</p>


<h3>API</h3>

<p>The <code class="highlighted">layout<span class="token punctuation">.</span>DirectedGraph</code> plugins extends the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</code> type with functions
that make it easy to convert graphs to and from the <a href="https://github.com/cpettitt/graphlib">Graphlib</a> graph format.
This allows you to easily use many of the <a href="https://github.com/cpettitt/graphlib/wiki/API-Reference">graph algorithms</a> provided by this library.</p>

<table>
  <tr><th><p>toGraphLib()</p></th><td>Convert the JointJS <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</code> object to the Graphlib graph object.<p></p>
      <pre><code class="highlighted"><span class="token keyword">var</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</span><span class="token punctuation">;</span>
<span class="token comment">// ... populated the graph with elements connected with links</span>
graphlib<span class="token punctuation">.</span>alg<span class="token punctuation">.</span><span class="token function">isAcyclic</span><span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">toGraphLib</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>      <span class="token comment">// true if the graph is acyclic</span></code></pre>
  </td></tr>
  <tr><th><p>fromGraphLib(glGraph, opt)</p></th><td>Convert the Graphlib graph representation to JointJS <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</code> object.
      <code class="highlighted">opt<span class="token punctuation">.</span>importNode</code> and <code class="highlighted">opt<span class="token punctuation">.</span>importEdge</code> are functions that accept a Graphlib node and edge objects and should return
      JointJS element/link.<p></p>
      <pre><code class="highlighted"><span class="token keyword">var</span> g <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">graphlib<span class="token punctuation">.</span>Graph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
g<span class="token punctuation">.</span><span class="token function">setNode</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
g<span class="token punctuation">.</span><span class="token function">setNode</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
g<span class="token punctuation">.</span><span class="token function">setNode</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
g<span class="token punctuation">.</span><span class="token function">setEdge</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
g<span class="token punctuation">.</span><span class="token function">setEdge</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</span><span class="token punctuation">;</span>
graph<span class="token punctuation">.</span><span class="token function">fromGraphLib</span><span class="token punctuation">(</span>g<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    importNode<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>Rect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            position<span class="token punctuation">:</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> node<span class="token punctuation">.</span>x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> node<span class="token punctuation">.</span>y <span class="token punctuation">}</span><span class="token punctuation">,</span>
            size<span class="token punctuation">:</span> <span class="token punctuation">{</span> width<span class="token punctuation">:</span> node<span class="token punctuation">.</span>width<span class="token punctuation">,</span> height<span class="token punctuation">:</span> node<span class="token punctuation">.</span>height <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    importEdge<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>edge<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            source<span class="token punctuation">:</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> edge<span class="token punctuation">.</span>v <span class="token punctuation">}</span><span class="token punctuation">,</span>
            target<span class="token punctuation">:</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> edge<span class="token punctuation">.</span>w <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
  </td></tr>
</table>

        </div>
    </div>
    <div id="layout.Port" class="docs-item">
        <a href="#layout.Port" class="docs-item-anchor">
            <h3 class="docs-item-header">layout.Port</h3>
        </a>
        <div class="docs-item-content">
<p>Port layouts are functions that accept an array of port&#39;s <code class="highlighted">args</code> and return an array of port positions. Positions are relative to the element model bounding box. For example if we have an element at position <code class="highlighted"><span class="token punctuation">{</span> x<span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span><span class="token number">20</span> <span class="token punctuation">}</span></code> with a relative port position <code class="highlighted"><span class="token punctuation">{</span> x<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span><span class="token number">2</span> <span class="token punctuation">}</span></code>, the absolute port position will be <code class="highlighted"><span class="token punctuation">{</span> x<span class="token punctuation">:</span><span class="token number">11</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span><span class="token number">22</span> <span class="token punctuation">}</span></code>.</p>
<p>Port layout can be defined only at the <code class="highlighted">group</code> level. Optionally you can pass some additional arguments into the layout function via <code class="highlighted">args</code>. The <code class="highlighted">args</code> is the only way to adjust port layout from the port definition perspective.</p>
<pre><code class="language-javascript highlighted"><span class="token keyword">var</span> rect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>Rect</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    ports<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        groups<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                position<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                    name<span class="token punctuation">:</span> <span class="token string">'layoutType'</span><span class="token punctuation">,</span>
                    args<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        items<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token comment">// initialize 'rect' with port in group 'a'</span>
            <span class="token punctuation">{</span>
                group<span class="token punctuation">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span>
                args<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// overrides `args` from the group level definition.</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">// ... other ports</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ....</span>
<span class="token comment">// add another port to group 'a'.</span>
rect<span class="token punctuation">.</span><span class="token function">addPort</span><span class="token punctuation">(</span><span class="token punctuation">{</span> group<span class="token punctuation">:</span><span class="token string">'a'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="pre-defined-layouts-">Pre-defined layouts:</h3>
<h4 id="on-sides">On sides</h4>
<p>A simple layout suitable for rectangular shapes. It evenly spreads ports along a single side.</p>
<table>
    <tr>
        <td><b>name</b></td>
        <td><i>string</i></td>
        <td>
            Can be either `left`, `right`, `top`, `bottom`.
        </td>
    </tr>
    <tr>
        <td><b>args</b></td>
        <td><i>object</i></td>
        <td>
            <table>
                <tr>
                    <td><b>x</b></td>
                    <td>number</td>
                    <td>Overrides the `x` value calculated by the layout function</td>
                </tr>
                <tr>
                    <td><b>y</b></td>
                    <td>number</td>
                    <td>Overrides the `y` value calculated by the layout function</td>
                </tr>
                <tr>
                    <td><b>dx</b></td>
                    <td>number</td>
                    <td>Added to the `x` value calculated by the layout function</td>
                </tr>
                <tr>
                    <td><b>dy</b></td>
                    <td>number</td>
                    <td>Added to the `y` value calculated by the layout function</td>
                </tr>
                <tr>
                    <td><b>angle</b></td>
                    <td>number</td>
                    <td>The port rotation angle.</td>
                </tr>
            </table>
        </td>
    </tr>
</table>


<pre><code class="language-javascript highlighted"><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
    args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        x<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        y<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        angle<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
        dx<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        dy<span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="line">Line</h4>
<p>A layout which evenly spreads ports along a line defined by a <code class="highlighted">start</code> and en <code class="highlighted">end</code> point.</p>
<table>
    <tr>
        <td><b>name</b></td>
        <td><i>string</i></td>
        <td>
            `line`
        </td>
    </tr>
    <tr>
        <td><b>args</b></td>
        <td><i>object</i></td>
        <td>
            <table>
                <tr>
                    <td><b>start</b></td>
                    <td>{ x:number, y:number }</td>
                    <td>The line starting point</td>
                </tr>
                <tr>
                    <td><b>end</b></td>
                    <td>{ x:number, y:number }</td>
                    <td>The line end point</td>
                </tr>
            </table>
        </td>
    </tr>
</table>


<pre><code class="language-javascript highlighted"><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
    args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        start<span class="token punctuation">:</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        end<span class="token punctuation">:</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">50</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="absolute">Absolute</h4>
<p>It lay a port out at the given position (defined as a <code class="highlighted">x</code>, <code class="highlighted">y</code> coordinates or percentage of the element dimensions).</p>
<table>
    <tr>
        <td><b>name</b></td>
        <td><i>string</i></td>
        <td>
            `absolute`
        </td>
    </tr>
    <tr>
        <td><b>args</b></td>
        <td><i>object</i></td>
        <td>
            <table>
                <tr>
                    <td><b>x</b></td>
                    <td>number | string</td>
                    <td>Sets the port's `x` coordinate. Can be defined as a percentage string ('50%') or as a number</td>
                </tr>
                <tr>
                    <td><b>y</b></td>
                    <td>number | string</td>
                    <td>Sets the port's `y` coordinate. Can be defined as a percentage string ('50%') or as a number</td>
                </tr>
                <tr>
                    <td><b>angle</b></td>
                    <td>number</td>
                    <td>The port rotation angle.</td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<pre><code class="language-javascript highlighted"><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'absolute'</span><span class="token punctuation">,</span>
    args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        x<span class="token punctuation">:</span> <span class="token string">'10%'</span><span class="token punctuation">,</span>
        y<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        angle<span class="token punctuation">:</span> <span class="token number">45</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="radial">Radial</h4>
<p>Suitable for circular shapes. The <code class="highlighted">ellipseSpreads</code> evenly spreads ports along an ellipse. The <code class="highlighted">ellipse</code> spreads ports from the point at <code class="highlighted">startAngle</code> leaving gaps between ports equal to <code class="highlighted">step</code>.</p>
<table>
    <tr>
        <td><b>name</b></td>
        <td><i>string</i></td>
        <td>
            Can be either `ellipse`, `ellipseSpread`.
        </td>
    </tr>
    <tr>
        <td><b>args</b></td>
        <td><i>object</i></td>
        <td>
            <table>
                <tr>
                    <td><b>x</b></td>
                    <td>number</td>
                    <td>Overrides the `x` value calculated by the layout function</td>
                </tr>
                <tr>
                    <td><b>y</b></td>
                    <td>number</td>
                    <td>Overrides the `y` value calculated by the layout function</td>
                </tr>
                <tr>
                    <td><b>dx</b></td>
                    <td>number</td>
                    <td>Added to the `x` value calculated by the layout function</td>
                </tr>
                <tr>
                    <td><b>dy</b></td>
                    <td>number</td>
                    <td>Added to the `y` value calculated by the layout function</td>
                </tr>
                <tr>
                    <td><b>dr</b></td>
                    <td>number</td>
                    <td>Added to the port delta rotation</td>
                </tr>
                <tr>
                    <td><b>startAngle</b></td>
                    <td>number</td>
                    <td>Default value is `0`.</td>
                </tr>
                <tr>
                    <td><b>step</b></td>
                    <td>number</td>
                    <td>
                        Default `360 / portsCount` for the `ellipseSpread`, `20` for the `ellipse`
                    </td>
                </tr>
                <tr>
                    <td><b>compensateRotation</b></td>
                    <td>boolean</td>
                    <td>set `compensateRotation:true` when you need to have ports in the same angle as an ellipse tangent at the port position.</td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<pre><code class="language-javascript highlighted"><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'ellipseSpread'</span><span class="token punctuation">,</span>
    args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        dx<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        dy<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        dr<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        startAngle<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        step<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        compensateRotation<span class="token punctuation">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<iframe src="about:blank" data-src="demo/layout/Port/portRotationComp.html" style="height: 534px; width: 803px;"></iframe>

<h3 id="custom-layout">Custom layout</h3>
<p>An alternative for built-in layouts is providing a function directly, where the function returns an array of port positions.</p>
<pre><code class="language-javascript highlighted"><span class="token comment">/**
* @param {Array&lt;object>} portsArgs
* @param {g.Rect} elBBox shape's bounding box
* @param {object} opt Group options
* @returns {Array&lt;g.Point>}
*/</span>
<span class="token keyword">function</span><span class="token punctuation">(</span>portsArgs<span class="token punctuation">,</span> elBBox<span class="token punctuation">,</span> opt<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// ports on sinusoid</span>
    <span class="token keyword">return</span> _<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>portsArgs<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>portArgs<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">var</span> step <span class="token operator">=</span> <span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">8</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> y <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>index <span class="token operator">*</span> step<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> g<span class="token punctuation">.</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token punctuation">:</span> index <span class="token operator">*</span> <span class="token number">12</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> y <span class="token operator">+</span> elBBox<span class="token punctuation">.</span>height <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 id="port-layouts-demo">Port layouts demo</h3>
<iframe src="about:blank" data-src="demo/layout/Port/port.html" style="height: 442px; width: 803px;"></iframe>

        </div>
    </div>
    <div id="layout.PortLabel" class="docs-item">
        <a href="#layout.PortLabel" class="docs-item-anchor">
            <h3 class="docs-item-header">layout.PortLabel</h3>
        </a>
        <div class="docs-item-content">
<p>Port label layout functions calculate port label positions relatively to port positions.</p>
<h3 id="pre-defined-port-label-layouts">Pre-defined port label layouts</h3>
<h4 id="on-sides">On Sides</h4>
<p>Simple label layout suitable for rectangular shapes. It places the label on arbitrary side of a port.</p>
<table>
    <tr>
        <td><b>name</b></td>
        <td><i>string</i></td>
        <td>
            Can be either `left`, `right`, `bottom`, `top`.
        </td>
    </tr>
    <tr>
        <td><b>args</b></td>
        <td><i>object | string</i></td>
        <td>
            <table>
                <tr>
                    <td><b>x</b></td>
                    <td>number</td>
                    <td>Overrides the `x` value calculated by the layout function</td>
                </tr>
                <tr>
                    <td><b>y</b></td>
                    <td>number</td>
                    <td>Overrides the `y` value calculated by the layout function</td>
                </tr>
                <tr>
                    <td><b>angle</b></td>
                    <td>number</td>
                    <td>The port label rotation angle.</td>
                </tr>
                <tr>
                    <td><b>attrs</b></td>
                    <td>number</td>
                    <td>JointJS style attribute applied on label's DOM element and it's children. The same notation as the `attrs` property on [`Element`](#joint.dia.Element.presentation).</td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<pre><code class="language-javascript highlighted">label<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    position<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name <span class="token punctuation">:</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            angle<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h4 id="inside-outside">Inside/Outside</h4>
<p>Places the label inside or outside of a rectangular shape. Where &#39;oriented&#39; versions rotate the text towards the element center.</p>
<table>
    <tr>
        <td><b>name</b></td>
        <td><i>string</i></td>
        <td>
            Can be either `inside`, `outside`, `insideOriented`, `outsideOriented`.
        </td>
    </tr>
    <tr>
        <td><b>args</b></td>
        <td><i>object | string</i></td>
        <td>
            <table>
                <tr>
                    <td><b>offset</b></td>
                    <td>number</td>
                    <td>Offset in direction from the shape's center.</td>
                </tr>
                <tr>
                    <td><b>attrs</b></td>
                    <td>number</td>
                    <td>JointJS style attribute applied on label's DOM element and it's children. The same notation as the `attrs` property on [`Element`](#joint.dia.Element.presentation).</td>
                </tr>
            </table>
        </td>
    </tr>
</table>


<pre><code class="language-javascript highlighted">
label<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    position<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name <span class="token punctuation">:</span><span class="token string">'outsideOriented'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            offset<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h4 id="radial">Radial</h4>
<p>Places the label outside of a circular shape. Where the &#39;oriented&#39; version rotates the text towards the element center.</p>
<table>
    <tr>
        <td><b>name</b></td>
        <td><i>string</i></td>
        <td>
            Can be either `radial`, `radialOriented`.
        </td>
    </tr>
    <tr>
        <td><b>args</b></td>
        <td><i>object | string</i></td>
        <td>
            <table>
                <tr>
                    <td><b>offset</b></td>
                    <td>number</td>
                    <td>Offset in direction from the shape's center.</td>
                </tr>
                <tr>
                    <td><b>attrs</b></td>
                    <td>number</td>
                    <td>JointJS style attribute applied on label's DOM element and it's children. The same notation as the `attrs` property on [`Element`](#joint.dia.Element.presentation).</td>
                </tr>
            </table>
        </td>
    </tr>
</table>


<pre><code class="language-javascript highlighted">label<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    position<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name <span class="token punctuation">:</span><span class="token string">'radialOriented'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            offset<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h4 id="manual-placement">Manual placement</h4>
<p>It allows to set a label position directly.</p>
<table>
    <tr>
        <td><b>name</b></td>
        <td><i>string</i></td>
        <td>
            `manual`
        </td>
    </tr>
    <tr>
        <td><b>args</b></td>
        <td><i>object | string</i></td>
        <td>
            <table>
                <tr>
                    <td><b>x</b></td>
                    <td>number</td>
                    <td>Sets the label's `x` coordinate.</td>
                </tr>
                <tr>
                    <td><b>y</b></td>
                    <td>number</td>
                    <td>Sets the label's `y` coordinate.</td>
                </tr>
                <tr>
                    <td><b>angle</b></td>
                    <td>number</td>
                    <td>The port label rotation angle.</td>
                </tr>
                <tr>
                    <td><b>attrs</b></td>
                    <td>number</td>
                    <td>JointJS style attribute applied on label's DOM element and it's children. The same notation as the `attrs` property on [`Element`](#joint.dia.Element.presentation).</td>
                </tr>
            </table>
        </td>
    </tr>
</table>


<pre><code class="language-javascript highlighted">label<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    position<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">'manual'</span><span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            x<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            y<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
            angle<span class="token punctuation">:</span> <span class="token number">45</span><span class="token punctuation">,</span>
            attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="port-label-layout-demo">Port label layout demo</h3>
<iframe src="about:blank" data-src="./demo/layout/PortLabel/portLabel.html" style="height: 442px; width: 803px;"></iframe>





        </div>
    </div>
    </div>
    <div id="linkTools" class="docs-item">
    <div id="linkTools.intro" class="docs-item">
        <a href="#linkTools.intro" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools</h3>
        </a>
        <div class="docs-item-content">
<p>A link tool is a view that renders a certain type of control elements on top of the <a href="#dia.LinkView">LinkView</a> it is attached to; for example the <a href="#linkTools.Vertices">Vertices tool</a> creates an interactive handle above every vertex (these handles then allow the user to move and/or delete each vertex). Link tools all inherit from the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>ToolView</code> <a href="#dia.ToolView">class</a>. A collection of tools is added to a <a href="#dia.ToolsView">ToolsView</a>; a tools view is then added to the linkView with the <code class="highlighted">linkView<span class="token punctuation">.</span><span class="token function">addTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.LinkView.addTools">function</a>.

</p><p>The JointJS library comes with a collection of pre-made link tool definitions in the <code class="highlighted">joint<span class="token punctuation">.</span>linkTools</code> namespace:

<ul>
    <li><code class="highlighted">Vertices</code> - <a href="#linkTools.Vertices">adds handles above link vertices</a></li>
    <li><code class="highlighted">Segments</code> - <a href="#linkTools.Segments">adds handles above link segments</a></li>
    <li><code class="highlighted">SourceArrowhead</code> - <a href="#linkTools.SourceArrowhead">adds a handle above link source</a></li>
    <li><code class="highlighted">TargetArrowhead</code> - <a href="#linkTools.TargetArrowhead">adds a handle above link target</a></li>
    <li><code class="highlighted">SourceAnchor</code> - <a href="#linkTools.SourceAnchor">adds a handle above link source anchor</a></li>
    <li><code class="highlighted">TargetAnchor</code> - <a href="#linkTools.TargetAnchor">adds a handle above link target anchor</a></li>
    <li><code class="highlighted">Boundary</code> - <a href="#linkTools.Boundary">shows link bbox</a></li>
    <li><code class="highlighted">Remove</code> - <a href="#linkTools.Remove">adds an interactive remove button</a></li>
</ul>

</p><p>To create a new link tool, we call its constructor. Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> verticesTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Vertices</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    snapRadius<span class="token punctuation">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>In addition, the <code class="highlighted">joint<span class="token punctuation">.</span>linkTools</code> namespace contains a customizable button class:</p>

<ul>
    <li><code class="highlighted">Button</code> - <a href="#linkTools.Button">adds a customizable button</a></li>
</ul>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> infoTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Button</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    markup<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token punctuation">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
        selector<span class="token punctuation">:</span> <span class="token string">'button'</span><span class="token punctuation">,</span>
        attributes<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'r'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
            <span class="token string">'fill'</span><span class="token punctuation">:</span> <span class="token string">'#001DFF'</span><span class="token punctuation">,</span>
            <span class="token string">'cursor'</span><span class="token punctuation">:</span> <span class="token string">'pointer'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        tagName<span class="token punctuation">:</span> <span class="token string">'path'</span><span class="token punctuation">,</span>
        selector<span class="token punctuation">:</span> <span class="token string">'icon'</span><span class="token punctuation">,</span>
        attributes<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token string">'M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4'</span><span class="token punctuation">,</span>
            <span class="token string">'fill'</span><span class="token punctuation">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
            <span class="token string">'stroke'</span><span class="token punctuation">:</span> <span class="token string">'#FFFFFF'</span><span class="token punctuation">,</span>
            <span class="token string">'stroke-width'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token string">'pointer-events'</span><span class="token punctuation">:</span> <span class="token string">'none'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    distance<span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
    offset<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    action<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'View id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span> <span class="token string">'Model id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>All of the built-in link tools accept the following optional argument, in addition to their own arguments:</p>

<table>
    <tr>
        <th>focusOpacity</th>
        <td><i>number</i></td>
        <td>What should be the opacity of the tool when it is focused (e.g. with the <code class="highlighted">toolView<span class="token punctuation">.</span>focus</code> <a href="#dia.ToolView.prototype.focus">function</a>)? Default is <code class="highlighted">undefined</code>, meaning that the tool's opacity is kept unchanged.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> verticesTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Vertices</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token punctuation">:</span> <span class="token number">0.5</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="linkTools.Boundary" class="docs-item">
        <a href="#linkTools.Boundary" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools.Boundary</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">Boundary</code> link tool renders a rectangular border to show the bounding box of the link. It accepts one additional argument, which can be passed as an object to the link tool constructor:</p>

<table>
    <tr>
        <th>padding</th>
        <td><i>number</i></td>
        <td>This option determines whether the boundary area should be visually inflated and if so, by how much. Default is <code class="highlighted"><span class="token number">10</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> boundaryTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Boundary</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    padding<span class="token punctuation">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="linkTools.Button" class="docs-item">
        <a href="#linkTools.Button" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools.Button</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">Button</code> link tool allows you to have a custom button rendered at a given position along the link. It accepts five additional arguments, which can be passed as an object to the link tool constructor:</p>

<table>
    <tr>
        <th rowspan="2">distance</th>
        <td><i>number</i></td>
        <td>Distance at which the button should be placed. Negative numbers are accepted; then the distance is counted from the end of the link. Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <!-- distance -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the button rotate according to the slope of the link at the position specified by <code class="highlighted">distance</code>? Default is <code class="highlighted"><span class="token boolean">false</span></code>.</td>
    </tr>
    <tr>
        <th>offset</th>
        <td><i>number</i></td>
        <td>Relative offset of the button from the link. Positive numbers mean that the button should be offset to the right of the link (relative to the direction from source to target); negative numbers mean that the button should be offset to the left of the link (relative to the direction from source to target). Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <th>action</th>
        <td><i>function</i></td>
        <td>What should happen when the user clicks the remove button? Default is <code class="highlighted">undefined</code> (no interaction).<br><br>

            The callback function is expected to have the signature <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span></code> where <code class="highlighted">evt</code> is a <code class="highlighted">jQuery<span class="token punctuation">.</span>Event</code> <a href="https://api.jquery.com/category/events/event-object/">object</a>. The button view is available inside the function as <code class="highlighted"><span class="token keyword">this</span></code>; the button model is available as <code class="highlighted"><span class="token keyword">this</span><span class="token punctuation">.</span>model</code>.</td>
    </tr>
    <tr>
        <th>markup</th>
        <td><i><a href="#dia.Cell.markup.json">JSONMarkup</a></i></td>
        <td>The markup of the button, provided in the <a href="#dia.Cell.markup.json">JointJS JSON format</a>. Default is <code class="highlighted">undefined</code> (no content).</td>
    </tr>
</table>

<p>Example of a useful custom info button:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> infoButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Button</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    distance<span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
    action<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'View id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span> <span class="token string">'Model id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    markup<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        tagName<span class="token punctuation">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
        selector<span class="token punctuation">:</span> <span class="token string">'button'</span><span class="token punctuation">,</span>
        attributes<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'r'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
            <span class="token string">'fill'</span><span class="token punctuation">:</span> <span class="token string">'#001DFF'</span><span class="token punctuation">,</span>
            <span class="token string">'cursor'</span><span class="token punctuation">:</span> <span class="token string">'pointer'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        tagName<span class="token punctuation">:</span> <span class="token string">'path'</span><span class="token punctuation">,</span>
        selector<span class="token punctuation">:</span> <span class="token string">'icon'</span><span class="token punctuation">,</span>
        attributes<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token string">'M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4'</span><span class="token punctuation">,</span>
            <span class="token string">'fill'</span><span class="token punctuation">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
            <span class="token string">'stroke'</span><span class="token punctuation">:</span> <span class="token string">'#FFFFFF'</span><span class="token punctuation">,</span>
            <span class="token string">'stroke-width'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token string">'pointer-events'</span><span class="token punctuation">:</span> <span class="token string">'none'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The <code class="highlighted">linkTools<span class="token punctuation">.</span>Button</code> class can also be extended, to create a reusable custom button type within the <code class="highlighted">joint<span class="token punctuation">.</span>linkTools</code> namespace. Then, a new instance of the custom button type can be obtained by calling its constructor:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>InfoButton <span class="token operator">=</span> joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Button<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'info-button'</span><span class="token punctuation">,</span>
    options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        focusOpacity<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
        distance<span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
        action<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'View id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span> <span class="token string">'Model id: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        markup<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            tagName<span class="token punctuation">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
            selector<span class="token punctuation">:</span> <span class="token string">'button'</span><span class="token punctuation">,</span>
            attributes<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">'r'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
                <span class="token string">'fill'</span><span class="token punctuation">:</span> <span class="token string">'#001DFF'</span><span class="token punctuation">,</span>
                <span class="token string">'cursor'</span><span class="token punctuation">:</span> <span class="token string">'pointer'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            tagName<span class="token punctuation">:</span> <span class="token string">'path'</span><span class="token punctuation">,</span>
            selector<span class="token punctuation">:</span> <span class="token string">'icon'</span><span class="token punctuation">,</span>
            attributes<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token string">'M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4'</span><span class="token punctuation">,</span>
                <span class="token string">'fill'</span><span class="token punctuation">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
                <span class="token string">'stroke'</span><span class="token punctuation">:</span> <span class="token string">'#FFFFFF'</span><span class="token punctuation">,</span>
                <span class="token string">'stroke-width'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token string">'pointer-events'</span><span class="token punctuation">:</span> <span class="token string">'none'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> infoButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>InfoButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="linkTools.Remove" class="docs-item">
        <a href="#linkTools.Remove" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools.Remove</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">Remove</code> link tool renders a remove button at a given position along the link. It accepts five additional arguments, which can be passed as an object to the link tool constructor:</p>

<table>
    <tr>
        <th rowspan="2">distance</th>
        <td><i>number</i></td>
        <td>Distance at which the button should be placed. Negative numbers are accepted; then the distance is counted from the end of the link. Default is <code class="highlighted"><span class="token number">60</span></code>.</td>
    </tr>
    <tr>
        <!-- distance -->
        <td><i>string</i></td>
        <td>Percentage strings (e.g. <code class="highlighted"><span class="token string">'40%'</span></code>) are also accepted.</td>
    </tr>
    <tr>
        <th>rotate</th>
        <td><i>boolean</i></td>
        <td>Should the button rotate according to the slope of the link at the position specified by <code class="highlighted">distance</code>? Default is <code class="highlighted"><span class="token boolean">false</span></code>.</td>
    </tr>
    <tr>
        <th>offset</th>
        <td><i>number</i></td>
        <td>Relative offset of the button from the link. Positive numbers mean that the button should be offset to the right of the link (relative to the direction from source to target); negative numbers mean that the button should be offset to the left of the link (relative to the direction from source to target). Default is <code class="highlighted"><span class="token number">0</span></code>.</td>
    </tr>
    <tr>
        <th>action</th>
        <td><i>function</i></td>
        <td>What should happen when the user clicks the remove button? Default:

            <pre><code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">{</span> ui<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> tool<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cid <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>

            The callback function is expected to have the signature <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span></code> where <code class="highlighted">evt</code> is a <code class="highlighted">jQuery<span class="token punctuation">.</span>Event</code> <a href="https://api.jquery.com/category/events/event-object/">object</a>. The button view is available inside the function as <code class="highlighted"><span class="token keyword">this</span></code>; the button model is available as <code class="highlighted"><span class="token keyword">this</span><span class="token punctuation">.</span>model</code>.<p></p>
        </td>
    </tr>
    <tr>
        <th>markup</th>
        <td><i><a href="#dia.Cell.markup.json">JSONMarkup</a></i></td>
        <td>The markup of the button, provided in the <a href="#dia.Cell.markup.json">JointJS JSON format</a>. Default:

            <pre><code class="highlighted"><span class="token punctuation">[</span><span class="token punctuation">{</span>
    tagName<span class="token punctuation">:</span> <span class="token string">'circle'</span><span class="token punctuation">,</span>
    selector<span class="token punctuation">:</span> <span class="token string">'button'</span><span class="token punctuation">,</span>
    attributes<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">'r'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        <span class="token string">'fill'</span><span class="token punctuation">:</span> <span class="token string">'#FF1D00'</span><span class="token punctuation">,</span>
        <span class="token string">'cursor'</span><span class="token punctuation">:</span> <span class="token string">'pointer'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    tagName<span class="token punctuation">:</span> <span class="token string">'path'</span><span class="token punctuation">,</span>
    selector<span class="token punctuation">:</span> <span class="token string">'icon'</span><span class="token punctuation">,</span>
    attributes<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token string">'M -3 -3 3 3 M -3 3 3 -3'</span><span class="token punctuation">,</span>
        <span class="token string">'fill'</span><span class="token punctuation">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
        <span class="token string">'stroke'</span><span class="token punctuation">:</span> <span class="token string">'#FFFFFF'</span><span class="token punctuation">,</span>
        <span class="token string">'stroke-width'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string">'pointer-events'</span><span class="token punctuation">:</span> <span class="token string">'none'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre>
        </td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> removeButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Remove</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    rotate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    distance<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span>
    offset<span class="token punctuation">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="linkTools.Segments" class="docs-item">
        <a href="#linkTools.Segments" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools.Segments</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">Segments</code> link tool renders handles above all segments of the link (as determined by the <a href="#dia.Link.presentation.connector">link connector</a>). It accepts four additional arguments, which can be passed as an object to the link tool constructor:</p>

<table>
    <tr>
        <th>redundancyRemoval</th>
        <td><i>boolean</i></td>
        <td>If the user arranges two (or more) segments so that they lie on a single line, should the middle one(s) be considered redundant and removed? Default is <code class="highlighted"><span class="token boolean">true</span></code>. Note that this setting is not applied until the user actually moves one of the segments in question; this means that segments can still be arranged in this <q>redundant</q> fashion, using the <code class="highlighted">link<span class="token punctuation">.</span>vertices</code> <a href="#dia.Link.prototype.vertices">function</a>, for example.</td>
    </tr>
    <tr>
        <th>segmentLengthThreshold</th>
        <td><i>number</i></td>
        <td>The minimum segment length for which to display a segment handle (to prevent the handle from overflowing its segment). Default is <code class="highlighted"><span class="token number">40</span></code>.</td>
    </tr>
    <tr>
        <th>snapRadius</th>
        <td><i>number</i></td>
        <td>While the user is moving the segment, from how far away should the segment snap in order to arrange itself in line with another segment? Default is <code class="highlighted"><span class="token number">10</span></code>.</td>
    </tr>
    <tr>
        <th>snapHandle</th>
        <td><i>number</i></td>
        <td>If the <code class="highlighted">snapRadius</code> option is set to <code class="highlighted"><span class="token boolean">true</span></code> and the segment is snapped in place while the user moves the segment handle, should the handle follow the user pointer or should the handle stay snapped with the segment until it un-snaps? Default is <code class="highlighted"><span class="token boolean">true</span></code>, meaning that the handle snaps with the segment.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> segmentsTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Segments</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    redundancyRemoval<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    segmentLengthThreshold<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
    snapHandle<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    snapRadius<span class="token punctuation">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="linkTools.SourceAnchor" class="docs-item">
        <a href="#linkTools.SourceAnchor" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools.SourceAnchor</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">SourceAnchor</code> link tool renders a handle above the source anchor of the link (as determined by the <a href="#dia.Link.presentation.anchor">anchor function</a> applied on <a href="#dia.Link.presentation.source">link source</a>). It accepts five additional arguments, which can be passed as an object to the link tool constructor:</p>

<table>
    <tr>
        <th>redundancyRemoval</th>
        <td><i>boolean</i></td>
        <td>If the user moves the anchor so that it lies on a single line with two (or more) vertices, should the middle one(s) be considered redundant and removed? Default is <code class="highlighted"><span class="token boolean">true</span></code>. Note that this setting is not applied until the user actually moves the anchor; this means that the anchor and vertices can still be arranged in this <q>redundant</q> fashion, using the <code class="highlighted">link<span class="token punctuation">.</span>vertices</code> <a href="#dia.Link.prototype.vertices">function</a>, for example.</td>
    </tr>
    <tr>
        <th>restrictArea</th>
        <td><i>boolean</i></td>
        <td>Should the user only be allowed to move the anchor in a restricted area (the area of the bounding box of the source magnet)? Default is <code class="highlighted"><span class="token boolean">true</span></code>.</td>
    </tr>
    <tr>
        <th>areaPadding</th>
        <td><i>number</i></td>
        <td>If the <code class="highlighted">restrictArea</code> option is set to <code class="highlighted"><span class="token boolean">true</span></code>, the user can only move the anchor in a restricted area (the area of the bounding box of the source magnet). JointJS shows this restriction by drawing a boundary around that area. This option determines whether this boundary area should be visually inflated and if so, by how much. Default is <code class="highlighted"><span class="token number">10</span></code>. Note that this is a purely cosmetic setting; regardless of the provided value, the movement stays restricted to the original uninflated bounding box.</td>
    </tr>
    <tr>
        <th>snapRadius</th>
        <td><i>number</i></td>
        <td>While the user is moving the anchor, from how far away should the segment snap in order to arrange itself in line with the anchor reference? Default is <code class="highlighted"><span class="token number">10</span></code>. (For link source, the anchor reference is the first vertex. If there are no vertices, it is the target anchor.)</td>
    </tr>
    <tr>
        <th>snap</th>
        <td><i>function</i></td>
        <td>What snap function should be applied when the user moves the anchor? Default is a simple function that emulates the snapping behavior of <a href="#linkTools.Vertices">Vertices</a> and <a href="#linkTools.Segments">Segments</a> link tools: If the value of one of the user pointer coordinates is within <code class="highlighted">snapRadius</code> of the value of a coordinate of the anchor reference, snap to the reference value. (For link source, the anchor reference is the first vertex. If there are no vertices, it is the target anchor.)<br><br>

            The callback function must return the anchor as a <code class="highlighted">g<span class="token punctuation">.</span>Point</code> and have the signature <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span>coords<span class="token punctuation">,</span> endView<span class="token punctuation">,</span> endMagnet<span class="token punctuation">,</span> endType<span class="token punctuation">,</span> linkView<span class="token punctuation">,</span> toolView<span class="token punctuation">)</span></code>:<p></p>

            <table>
                <tr>
                    <th>coords</th>
                    <td><i>g.Point</i></td>
                    <td>A Point object recording the x-y coordinates of the user pointer when the snap function was invoked.</td>
                </tr>
                <tr>
                    <th>endView</th>
                    <td><i>dia.ElementView</i></td>
                    <td>The ElementView which contains the restricted area. The Element model can be accessed as <code class="highlighted">endView<span class="token punctuation">.</span>model</code>; this may be useful for writing conditional logic based on element attributes.</td>
                </tr>
                <tr>
                    <th>endMagnet</th>
                    <td><i>SVGElement</i></td>
                    <td>The SVGElement in our page that contains the magnet (element/subelement/port) which serves as the restricted area.</td>
                </tr>
                <tr>
                    <th>endType</th>
                    <td><i>string</i></td>
                    <td>Is the end view the source (<code class="highlighted"><span class="token string">'source'</span></code>) or target (<code class="highlighted"><span class="token string">'target'</span></code>) of the link?</td>
                </tr>
                <tr>
                    <th>linkView</th>
                    <td><i>dia.LinkView</i></td>
                    <td>The LinkView to which the tool is attached. The Link model can be accessed as <code class="highlighted">linkView<span class="token punctuation">.</span>model</code>; this may be useful for writing conditional logic based on link attributes.</td>
                </tr>
                <tr>
                    <th>toolView</th>
                    <td><i>dia.ToolView</i></td>
                    <td>This tool. May be useful for writing conditional logic based on tool options (e.g. the default algorithm refers to <code class="highlighted">toolView<span class="token punctuation">.</span>options<span class="token punctuation">.</span>snapRadius</code>).</td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> sourceAnchorTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>SourceAnchor</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    redundancyRemoval<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    restrictArea<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    snapRadius<span class="token punctuation">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>An example of a useful custom <code class="highlighted">snap</code> function is provided below. It snaps the anchor to the center of the closest side of the restricted area.</p>

<pre><code class="highlighted"><span class="token keyword">var</span> <span class="token function-variable function">snapAnchor</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>coords<span class="token punctuation">,</span> endView<span class="token punctuation">,</span> endMagnet<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// remove rotation of the restricted area</span>
    <span class="token keyword">var</span> bbox <span class="token operator">=</span> endView<span class="token punctuation">.</span><span class="token function">getNodeUnrotatedBBox</span><span class="token punctuation">(</span>endMagnet<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> angle <span class="token operator">=</span> endView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">angle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> origin <span class="token operator">=</span> endView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    coords<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>origin<span class="token punctuation">,</span> angle<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// identify the side nearest to pointer coords</span>
    <span class="token keyword">var</span> anchor<span class="token punctuation">;</span>
    <span class="token keyword">var</span> side <span class="token operator">=</span> bbox<span class="token punctuation">.</span><span class="token function">sideNearestToPoint</span><span class="token punctuation">(</span>coords<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>side<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">'left'</span><span class="token punctuation">:</span> anchor <span class="token operator">=</span> bbox<span class="token punctuation">.</span><span class="token function">leftMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'right'</span><span class="token punctuation">:</span> anchor <span class="token operator">=</span> bbox<span class="token punctuation">.</span><span class="token function">rightMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'top'</span><span class="token punctuation">:</span> anchor <span class="token operator">=</span> bbox<span class="token punctuation">.</span><span class="token function">topMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'bottom'</span><span class="token punctuation">:</span> anchor <span class="token operator">=</span> bbox<span class="token punctuation">.</span><span class="token function">bottomMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// rotate the anchor according to original rotation of restricted area</span>
    <span class="token keyword">return</span> anchor<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>origin<span class="token punctuation">,</span> <span class="token operator">-</span>angle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> sourceAnchorTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>SourceAnchor</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    snap<span class="token punctuation">:</span> snapAnchor<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>If the user moves the anchor away from its original position, the anchor position may be reset by double-clicking the anchor handle.</p>

        </div>
    </div>
    <div id="linkTools.SourceArrowhead" class="docs-item">
        <a href="#linkTools.SourceArrowhead" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools.SourceArrowhead</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">SourceArrowhead</code> link tool renders an arrow-like handle above the source connection point of the link (as determined by the <a href="#dia.Link.presentation.connectionPoint">connectionPoint function</a> applied on <a href="#dia.Link.presentation.source">link source</a>).</p>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> sourceArrowheadTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>SourceArrowhead</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token punctuation">:</span> <span class="token number">0.5</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="linkTools.TargetAnchor" class="docs-item">
        <a href="#linkTools.TargetAnchor" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools.TargetAnchor</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">TargetAnchor</code> link tool renders a handle above the target anchor of the link (as determined by the <a href="#dia.Link.presentation.anchor">anchor function</a> applied on <a href="#dia.Link.presentation.target">link target</a>). It accepts five additional arguments, which can be passed as an object to the link tool constructor:</p>

<table>
    <tr>
        <th>redundancyRemoval</th>
        <td><i>boolean</i></td>
        <td>If the user moves the anchor so that it lies on a single line with two (or more) vertices, should the middle one(s) be considered redundant and removed? Default is <code class="highlighted"><span class="token boolean">true</span></code>. Note that this setting is not applied until the user actually moves the anchor; this means that the anchor and vertices can still be arranged in this <q>redundant</q> fashion, using the <code class="highlighted">link<span class="token punctuation">.</span>vertices</code> <a href="#dia.Link.prototype.vertices">function</a>, for example.</td>
    </tr>
    <tr>
        <th>restrictArea</th>
        <td><i>boolean</i></td>
        <td>Should the user only be allowed to move the anchor in a restricted area (the area of the bounding box of the target magnet)? Default is <code class="highlighted"><span class="token boolean">true</span></code>.</td>
    </tr>
    <tr>
        <th>areaPadding</th>
        <td><i>number</i></td>
        <td>If the <code class="highlighted">restrictArea</code> option is set to <code class="highlighted"><span class="token boolean">true</span></code>, the user can only move the anchor in a restricted area (the area of the bounding box of the target magnet). JointJS shows this restriction by drawing a boundary around that area. This option determines whether this boundary area should be visually inflated and if so, by how much. Default is <code class="highlighted"><span class="token number">10</span></code>. Note that this is a purely cosmetic setting; regardless of the provided value, the movement stays restricted to the original uninflated bounding box.</td>
    </tr>
    <tr>
        <th>snapRadius</th>
        <td><i>number</i></td>
        <td>While the user is moving the anchor, from how far away should the segment snap in order to arrange itself in line with the anchor reference? Default is <code class="highlighted"><span class="token number">10</span></code>. (For link target, the anchor reference is the last vertex. If there are no vertices, it is the source anchor.)</td>
    </tr>
    <tr>
        <th>snap</th>
        <td><i>function</i></td>
        <td>What snap function should be applied when the user moves the anchor? Default is a simple function that emulates the snapping behavior of <a href="#linkTools.Vertices">Vertices</a> and <a href="#linkTools.Segments">Segments</a> link tools: If the value of one of the user pointer coordinates is within <code class="highlighted">snapRadius</code> of the value of a coordinate of the anchor reference, snap to the reference value. (For link target, the anchor reference is the last vertex. If there are no vertices, it is the source anchor.)<br><br>

            The callback function must return the anchor as a <code class="highlighted">g<span class="token punctuation">.</span>Point</code> and have the signature <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span>coords<span class="token punctuation">,</span> endView<span class="token punctuation">,</span> endMagnet<span class="token punctuation">)</span></code>:<p></p>

            <table>
                <tr>
                    <th>coords</th>
                    <td><i>g.Point</i></td>
                    <td>A Point object recording the x-y coordinates of the user pointer when the snap function was invoked.</td>
                </tr>
                <tr>
                    <th>endView</th>
                    <td><i>dia.ElementView</i></td>
                    <td>The ElementView which contains the restricted area. The Element model can be accessed as <code class="highlighted">endView<span class="token punctuation">.</span>model</code>; this may be useful for writing conditional logic based on element attributes.</td>
                </tr>
                <tr>
                    <th>endMagnet</th>
                    <td><i>SVGElement</i></td>
                    <td>The SVGElement in our page that contains the magnet (element/subelement/port) which serves as the restricted area.</td>
                </tr>
                <tr>
                    <th>endType</th>
                    <td><i>string</i></td>
                    <td>Is the end view the source (<code class="highlighted"><span class="token string">'source'</span></code>) or target (<code class="highlighted"><span class="token string">'target'</span></code>) of the link?</td>
                </tr>
                <tr>
                    <th>linkView</th>
                    <td><i>dia.LinkView</i></td>
                    <td>The LinkView to which the tool is attached. The Link model can be accessed as <code class="highlighted">linkView<span class="token punctuation">.</span>model</code>; this may be useful for writing conditional logic based on link attributes.</td>
                </tr>
                <tr>
                    <th>toolView</th>
                    <td><i>dia.ToolView</i></td>
                    <td>This tool. May be useful for writing conditional logic based on tool options (e.g. the default algorithm refers to <code class="highlighted">toolView<span class="token punctuation">.</span>options<span class="token punctuation">.</span>snapRadius</code>).</td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> targetAnchorTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>TargetAnchor</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    redundancyRemoval<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    restrictArea<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    snapRadius<span class="token punctuation">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>An example of a useful custom <code class="highlighted">snap</code> function is provided below. It snaps the anchor to the center of the closest side of the restricted area.</p>

<pre><code class="highlighted"><span class="token keyword">var</span> <span class="token function-variable function">snapAnchor</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>coords<span class="token punctuation">,</span> endView<span class="token punctuation">,</span> endMagnet<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// remove rotation of the restricted area</span>
    <span class="token keyword">var</span> bbox <span class="token operator">=</span> endView<span class="token punctuation">.</span><span class="token function">getNodeUnrotatedBBox</span><span class="token punctuation">(</span>endMagnet<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> angle <span class="token operator">=</span> endView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">angle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> origin <span class="token operator">=</span> endView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    coords<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>origin<span class="token punctuation">,</span> angle<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// identify the side nearest to pointer coords</span>
    <span class="token keyword">var</span> anchor<span class="token punctuation">;</span>
    <span class="token keyword">var</span> side <span class="token operator">=</span> bbox<span class="token punctuation">.</span><span class="token function">sideNearestToPoint</span><span class="token punctuation">(</span>coords<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>side<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">'left'</span><span class="token punctuation">:</span> anchor <span class="token operator">=</span> bbox<span class="token punctuation">.</span><span class="token function">leftMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'right'</span><span class="token punctuation">:</span> anchor <span class="token operator">=</span> bbox<span class="token punctuation">.</span><span class="token function">rightMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'top'</span><span class="token punctuation">:</span> anchor <span class="token operator">=</span> bbox<span class="token punctuation">.</span><span class="token function">topMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'bottom'</span><span class="token punctuation">:</span> anchor <span class="token operator">=</span> bbox<span class="token punctuation">.</span><span class="token function">bottomMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// rotate the anchor according to original rotation of restricted area</span>
    <span class="token keyword">return</span> anchor<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>origin<span class="token punctuation">,</span> <span class="token operator">-</span>angle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> targetAnchorTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>TargetAnchor</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    snap<span class="token punctuation">:</span> snapAnchor<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>If the user moves the anchor away from its original position, the anchor position may be reset by double-clicking the anchor handle.</p>

        </div>
    </div>
    <div id="linkTools.TargetArrowhead" class="docs-item">
        <a href="#linkTools.TargetArrowhead" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools.TargetArrowhead</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">TargetArrowhead</code> link tool renders an arrow-like handle above the target connection point of the link (as determined by the <a href="#dia.Link.presentation.connectionPoint">connectionPoint function</a> applied on <a href="#dia.Link.presentation.target">link target</a>).</p>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> targetArrowheadTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>TargetArrowhead</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token punctuation">:</span> <span class="token number">0.5</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="linkTools.Vertices" class="docs-item">
        <a href="#linkTools.Vertices" class="docs-item-anchor">
            <h3 class="docs-item-header">linkTools.Vertices</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted">Vertices</code> link tool renders handles above all <a href="#dia.Link.presentation.vertices">vertices of the link</a>. It accepts three additional arguments, which can be passed as an object to the link tool constructor:</p>

<table>
    <tr>
        <th>redundancyRemoval</th>
        <td><i>boolean</i></td>
        <td>If the user arranges three (or more) vertices so that they lie on a single line, should the middle one(s) be considered redundant and removed? Default is <code class="highlighted"><span class="token boolean">true</span></code>. Note that this setting is not applied until the user actually moves one of the vertices in question; this means that vertices can still be arranged in this <q>redundant</q> fashion, using of the <code class="highlighted">link<span class="token punctuation">.</span>vertices</code> <a href="#dia.Link.prototype.vertices">function</a>, for example.</td>
    </tr>
    <tr>
        <th>snapRadius</th>
        <td><i>number</i></td>
        <td>While the user is moving the vertex, from how far away should the vertex snap in order to arrange itself perpendicularly to another vertex? Default is <code class="highlighted"><span class="token number">20</span></code>.</td>
    </tr>
    <tr>
        <th>vertexAdding</th>
        <td><i>boolean</i></td>
        <td>Can the user add new vertices (by clicking a segment of the link)? Default is <code class="highlighted"><span class="token boolean">true</span></code>.</td>
    </tr>
    <tr>
        <th>stopPropagation</th>
        <td><i>boolean</i></td>
        <td>Should be events stopped from propagating to the paper? Default is <code class="highlighted"><span class="token boolean">true</span></code>.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> verticesTool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>linkTools<span class="token punctuation">.</span>Vertices</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    focusOpacity<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    redundancyRemoval<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    snapRadius<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    vertexAdding<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    </div>
    <div id="routers" class="docs-item">
    <div id="routers.intro" class="docs-item">
        <a href="#routers.intro" class="docs-item-anchor">
            <h3 class="docs-item-header">routers</h3>
        </a>
        <div class="docs-item-content">
<p>Routers take an array of link vertices and transform them into an array of route points that the link should go through. The <code class="highlighted">router</code> property of a link can be accessed with the <code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Link.prototype.router">function</a>.</p>

<p>The difference between <code class="highlighted">vertices</code> and the route is that the vertices are user-defined while the route is computed. The route inserts additional private vertices to complement user vertices as necessary (e.g. to make sure the route is orthogonal).</p>

<p>There are five built-in routers:</p>

<ul>
    <li><code class="highlighted"><span class="token string">'manhattan'</span></code> - <a href="#routers.manhattan">smart orthogonal router</a></li>
    <li><code class="highlighted"><span class="token string">'metro'</span></code> - <a href="#routers.metro">smart octolinear router</a></li>
    <li><code class="highlighted"><span class="token string">'normal'</span></code> - <a href="#routers.normal">default simple router</a></li>
    <li><code class="highlighted"><span class="token string">'orthogonal'</span></code> - <a href="#routers.orthogonal">basic orthogonal router</a></li>
    <li><code class="highlighted"><span class="token string">'oneSide'</span></code> - <a href="#routers.oneSide">restricted orthogonal router</a></li>
</ul>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'orthogonal'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    padding<span class="token punctuation">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The default router is <code class="highlighted"><span class="token string">'normal'</span></code>; this can be changed with the <code class="highlighted">defaultRouter</code> <a href="#dia.Paper.prototype.options.defaultRouter">paper option</a>. Example:</p>

<pre><code class="highlighted">paper<span class="token punctuation">.</span>options<span class="token punctuation">.</span>defaultRouter <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'orthogonal'</span><span class="token punctuation">,</span>
    args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        padding<span class="token punctuation">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The <code class="highlighted"><span class="token string">'manhattan'</span></code> and <code class="highlighted"><span class="token string">'metro'</span></code> routers are our <q>smart routers</q>; they automatically avoid obstacles (elements) in their way.</p>

<p>The <code class="highlighted"><span class="token string">'orthogonal'</span></code>, <code class="highlighted"><span class="token string">'manhattan'</span></code> and <code class="highlighted"><span class="token string">'oneSide'</span></code> routers generate routes consisting exclusively of vertical and horizontal segments. The <code class="highlighted"><span class="token string">'metro'</span></code> router generates routes consisting of orthogonal and diagonal segments.</p>

<p>JointJS also contains mechanisms to define one's own <a href="#routers.custom">custom routers</a>.</p>

<p>Note that the modular architecture of JointJS allows mixing-and-matching routers with <a href="#connectors">connectors</a> as desired; for example, a link may be specified to use the <code class="highlighted"><span class="token string">'jumpover'</span></code> connector on top of the <code class="highlighted"><span class="token string">'manhattan'</span></code> router:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>rect2<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'manhattan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">connector</span><span class="token punctuation">(</span><span class="token string">'jumpover'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="routers.custom" class="docs-item">
        <a href="#routers.custom" class="docs-item-anchor">
            <h3 class="docs-item-header">routers.custom</h3>
        </a>
        <div class="docs-item-content">
<p>New routers can be defined in the <code class="highlighted">joint<span class="token punctuation">.</span>routers</code> namespace (e.g. <code class="highlighted">joint<span class="token punctuation">.</span>routers<span class="token punctuation">.</span>myRouter</code>) or passed directly as a function to the <code class="highlighted">router</code> property of a link (or to the <code class="highlighted">defaultRouter</code> <a href="#dia.Paper.prototype.options.defaultRouter">option of a paper</a>).</p>

<p>In either case, the router function must return an array of route points that the link should go through (not including the start/end connection points). The function is expected to have the form <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span>vertices<span class="token punctuation">,</span> args<span class="token punctuation">,</span> linkView<span class="token punctuation">)</span></code>:</p>

<table>
    <tr>
        <th>vertices</th>
        <td><i>Array&lt;g.Point&gt;</i></td>
        <td>The vertices of the route.</td>
    </tr>
    <tr>
        <th>args</th>
        <td><i>object</i></td>
        <td>An object with additional optional arguments passed to the router method by the user when it was called (the <code class="highlighted">args</code> property).</td>
    </tr>
    <tr>
        <th>linkView</th>
        <td><i>dia.LinkView</i></td>
        <td>The LinkView of the connection. The Link model can be accessed as the <code class="highlighted">model</code> property; this may be useful for writing conditional logic based on link attributes.</td>
    </tr>
</table>

<p>Example of a router defined in the <code class="highlighted">joint<span class="token punctuation">.</span>routers</code> namespace:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>routers<span class="token punctuation">.</span><span class="token function-variable function">randomWalk</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>vertices<span class="token punctuation">,</span> args<span class="token punctuation">,</span> linkView<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">var</span> <span class="token constant">NUM_BOUNCES</span> <span class="token operator">=</span> args<span class="token punctuation">.</span>numBounces <span class="token operator">||</span> <span class="token number">20</span><span class="token punctuation">;</span>

    vertices <span class="token operator">=</span> joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span>vertices<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>Point<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token constant">NUM_BOUNCES</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">var</span> sourceCorner <span class="token operator">=</span> linkView<span class="token punctuation">.</span>sourceBBox<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> targetCorner <span class="token operator">=</span> linkView<span class="token punctuation">.</span>targetBBox<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">var</span> randomPoint <span class="token operator">=</span> g<span class="token punctuation">.</span>Point<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span>sourceCorner<span class="token punctuation">.</span>x<span class="token punctuation">,</span> targetCorner<span class="token punctuation">.</span>x<span class="token punctuation">,</span> sourceCorner<span class="token punctuation">.</span>y<span class="token punctuation">,</span> targetCorner<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        vertices<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>randomPoint<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> vertices<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>

link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'randomWalk'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    numBounces<span class="token punctuation">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>An example of a router passed as a function is provided below. Notice that this approach does not enable passing custom <code class="highlighted">args</code> nor can it be serialized with the <code class="highlighted">graph<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <a href="#dia.Graph.prototype.toJSON">function</a>.</p>

<pre><code class="highlighted"><span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">target</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>

link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>vertices<span class="token punctuation">,</span> args<span class="token punctuation">,</span> linkView<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">var</span> <span class="token constant">NUM_BOUNCES</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>

    vertices <span class="token operator">=</span> joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span>vertices<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>Point<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token constant">NUM_BOUNCES</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">var</span> sourceCorner <span class="token operator">=</span> linkView<span class="token punctuation">.</span>sourceBBox<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> targetCorner <span class="token operator">=</span> linkView<span class="token punctuation">.</span>targetBBox<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">var</span> randomPoint <span class="token operator">=</span> g<span class="token punctuation">.</span>Point<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span>sourceCorner<span class="token punctuation">.</span>x<span class="token punctuation">,</span> targetCorner<span class="token punctuation">.</span>x<span class="token punctuation">,</span> sourceCorner<span class="token punctuation">.</span>y<span class="token punctuation">,</span> targetCorner<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        vertices<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>randomPoint<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> vertices<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="routers.manhattan" class="docs-item">
        <a href="#routers.manhattan" class="docs-item-anchor">
            <h3 class="docs-item-header">routers.manhattan</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'manhattan'</span></code> router is the smart version of the <code class="highlighted"><span class="token string">'orthogonal'</span></code> router. It connects vertices with orthogonal line segments, inserting route points when necessary, while avoiding obstacles in its way. The router has useful options that determine how the algorithm behaves. These options can be passed as the <code class="highlighted">router<span class="token punctuation">.</span>args</code> property:</p>

<table>
    <tr>
        <th>step</th>
        <td><i>number</i></td>
        <td>Size of the imaginary grid followed by the <code class="highlighted"><span class="token string">'manhattan'</span></code> pathfinding algorithm. Lower number -> higher complexity. The <code class="highlighted"><span class="token string">'manhattan'</span></code> router performs best when <code class="highlighted">step</code> has the same value as <code class="highlighted">dia<span class="token punctuation">.</span>Paper<span class="token punctuation">.</span>option<span class="token punctuation">.</span>gridSize</code>. Default is <code class="highlighted"><span class="token number">10</span></code>.</td>
    </tr>
    <tr>
        <th>padding</th>
        <td><i>number&nbsp;|&nbsp;object</i></td>
        <td>Padding applied around start/end elements and obstacles. Default is the <code class="highlighted">step</code> value (see above). The <code class="highlighted">util<span class="token punctuation">.</span>normalizeSides</code> <a href="#util.normalizeSides">function</a> is used to understand the provided value. A single number is applied as padding to all sides of the elements. An object may be provided to specify values for <code class="highlighted">left</code>, <code class="highlighted">top</code>, <code class="highlighted">right</code>, <code class="highlighted">bottom</code>, <code class="highlighted">horizontal</code> and/or <code class="highlighted">vertical</code> sides.</td>
    </tr>
    <tr>
        <th>maximumLoops</th>
        <td><i>number</i></td>
        <td>The maximum number of iterations of the pathfinding loop. If the number of iterations exceeds this maximum, pathfinding is aborted and the fallback router (<code class="highlighted"><span class="token string">'orthogonal'</span></code>) is used instead. Higher number -> higher complexity. Default is <code class="highlighted"><span class="token number">2000</span></code>.</td>
    </tr>
    <tr>
        <th>maxAllowedDirectionChange</th>
        <td><i>number</i></td>
        <td>Maximum change of direction of the <code class="highlighted"><span class="token string">'manhattan'</span></code> route, in degrees. Default is <code class="highlighted"><span class="token number">90</span></code>.</td>
    </tr>
    <tr>
        <th>perpendicular</th>
        <td><i>boolean</i></td>
        <td>Should the <code class="highlighted">linkView<span class="token punctuation">.</span>perpendicular</code> option be in effect? This causes the router not to link precisely to the anchor of the end element but rather to a point close by that is orthogonal. This creates a clean connection between the element and the first/last vertex of the route. Default is <code class="highlighted"><span class="token boolean">true</span></code>.</td>
    </tr>
    <tr>
        <th>excludeEnds</th>
        <td><i>Array&lt;string&gt;</i></td>
        <td>An array with strings <code class="highlighted"><span class="token string">'source'</span></code> and/or <code class="highlighted"><span class="token string">'target'</span></code> that tells the algorithm that the given end element(s) should not be considered as an obstacle. Default is <code class="highlighted"><span class="token punctuation">[</span><span class="token punctuation">]</span></code> (both are considered obstacles).</td>
    </tr>
    <tr>
        <th>excludeTypes</th>
        <td><i>Array&lt;string&gt;</i></td>
        <td>An array of element types that should not be considered obstacles when calculating the route. Default is <code class="highlighted"><span class="token punctuation">[</span><span class="token string">'basic.Text'</span><span class="token punctuation">]</span></code>.</td>
    </tr>
    <tr>
        <th>startDirections</th>
        <td><i>Array&lt;string&gt;</i></td>
        <td>An array that specifies the possible starting directions from an element. Change this in situations where you need the link to, for example, always start at the bottom of the source element (then, the value would be <code class="highlighted"><span class="token punctuation">[</span><span class="token string">'bottom'</span><span class="token punctuation">]</span></code>). Default is <code class="highlighted"><span class="token punctuation">[</span><span class="token string">'left'</span><span class="token punctuation">,</span> <span class="token string">'right'</span><span class="token punctuation">,</span> <span class="token string">'top'</span><span class="token punctuation">,</span> <span class="token string">'bottom'</span><span class="token punctuation">]</span></code> (all directions allowed).</td>
    </tr>
    <tr>
        <th>endDirections</th>
        <td><i>Array&lt;string&gt;</i></td>
        <td>An array that specifies the possible ending directions to an element. Change this in situations where you need the link to, for example, always end at the bottom of the source element (then, the value would be <code class="highlighted"><span class="token punctuation">[</span><span class="token string">'bottom'</span><span class="token punctuation">]</span></code>). Default is <code class="highlighted"><span class="token punctuation">[</span><span class="token string">'left'</span><span class="token punctuation">,</span> <span class="token string">'right'</span><span class="token punctuation">,</span> <span class="token string">'top'</span><span class="token punctuation">,</span> <span class="token string">'bottom'</span><span class="token punctuation">]</span></code> (all directions allowed).</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'manhattan'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    excludeEnds<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'source'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    excludeTypes<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'myNamespace.MyCommentElement'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    startDirections<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'top'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    endDirections<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'bottom'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="routers.metro" class="docs-item">
        <a href="#routers.metro" class="docs-item-anchor">
            <h3 class="docs-item-header">routers.metro</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'metro'</span></code> router is a modification of the <code class="highlighted"><span class="token string">'manhattan'</span></code> <a href="#routers.manhattan">router</a> that produces an octolinear route (i.e. a route consisting of orthogonal and diagonal line segments, akin to the London Underground map design). It also avoids obstacles, and accepts the same <code class="highlighted">router<span class="token punctuation">.</span>args</code> as <code class="highlighted"><span class="token string">'manhattan'</span></code>, with a few modifications:</p>

<table>
    <tr>
        <th>maximumLoops</th>
        <td><i>number</i></td>
        <td>Does not use the <code class="highlighted"><span class="token string">'orthogonal'</span></code> router as fallback if path cannot to be found in the given number of iterations. Instead, a custom octolinear fallback route is used that does not avoid obstacles.</td>
    </tr>
    <tr>
        <th>maxAllowedDirectionChange</th>
        <td><i>number</i></td>
        <td>Default changes to <code class="highlighted"><span class="token number">45</span></code>.</td>
    </tr>
    <tr>
        <th>startDirection</th>
        <td><i>Array&lt;string&gt;</i></td>
        <td>Same as <code class="highlighted"><span class="token string">'manhattan'</span></code> (i.e. only the four orthogonal directions are accepted as start directions).</td>
    </tr>
    <tr>
        <th>endDirection</th>
        <td><i>Array&lt;string&gt;</i></td>
        <td>Same as <code class="highlighted"><span class="token string">'manhattan'</span></code> (i.e. only the four orthogonal directions are accepted as end directions).</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'metro'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    excludeEnds<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'source'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    excludeTypes<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'myNamespace.MyCommentElement'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    startDirections<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'top'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    endDirections<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'bottom'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="routers.normal" class="docs-item">
        <a href="#routers.normal" class="docs-item-anchor">
            <h3 class="docs-item-header">routers.normal</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'normal'</span></code> router is the default router for links and it is the simplest router. It does not have any options and it does not do anything; it returns the vertices passed to it without modification as the route to be taken.</p>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'normal'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="routers.oneSide" class="docs-item">
        <a href="#routers.oneSide" class="docs-item-anchor">
            <h3 class="docs-item-header">routers.oneSide</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'oneSide'</span></code> router is a restricted version of the <code class="highlighted"><span class="token string">'orthogonal'</span></code> router. Exactly three route segments are generated. The route leaves the start element in a specified direction (the <code class="highlighted">args<span class="token punctuation">.</span>side</code> property), transitions with a single segment towards the end element, and then enters the end element from the specified direction again. Note that this router does not support link <code class="highlighted">vertices</code>. The router does not avoid obstacles. Two arguments are accepted, which can be passed within the <code class="highlighted">router<span class="token punctuation">.</span>args</code> property.</p>

<table>
    <tr>
        <th>side</th>
        <td><i>string</i></td>
        <td>The direction of the route. Either <code class="highlighted"><span class="token string">'left'</span></code>, <code class="highlighted"><span class="token string">'right'</span></code>, <code class="highlighted"><span class="token string">'top'</span></code> or <code class="highlighted"><span class="token string">'bottom'</span></code>. Default is <code class="highlighted"><span class="token string">'bottom'</span><span class="token punctuation">.</span></code></td>
    </tr>
    <tr>
        <th>padding</th>
        <td><i>number&nbsp;|&nbsp;object</i></td>
        <td>The minimum distance from element at which the first/last route angle may be placed. Default is <code class="highlighted"><span class="token number">40</span></code>. The <code class="highlighted">util<span class="token punctuation">.</span>normalizeSides</code> <a href="#util.normalizeSides">function</a> is used to understand the provided value. A single number is applied as padding to all sides of the elements. An object may be provided to specify values for <code class="highlighted">left</code>, <code class="highlighted">top</code>, <code class="highlighted">right</code>, <code class="highlighted">bottom</code>, <code class="highlighted">horizontal</code> and/or <code class="highlighted">vertical</code> sides. Only the side specified in the <code class="highlighted">side</code> argument is considered by the router (see above).</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'oneSide'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    side<span class="token punctuation">:</span> <span class="token string">'top'</span><span class="token punctuation">,</span>
    padding<span class="token punctuation">:</span> <span class="token number">30</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="routers.orthogonal" class="docs-item">
        <a href="#routers.orthogonal" class="docs-item-anchor">
            <h3 class="docs-item-header">routers.orthogonal</h3>
        </a>
        <div class="docs-item-content">
<p>The <code class="highlighted"><span class="token string">'orthogonal'</span></code> router returns a route with orthogonal line segments. It generates extra route points in order to create the right angles on the way. It does not avoid obstacles. The router has one optional argument; this can be passed as the <code class="highlighted">router<span class="token punctuation">.</span>args<span class="token punctuation">.</span>elementPadding</code> property:</p>

<table>
    <tr>
        <th>padding</th>
        <td><i>number&nbsp;|&nbsp;object</i></td>
        <td>The minimum distance from element at which the first/last route angle may be placed. Default is <code class="highlighted"><span class="token number">20</span></code>. The <code class="highlighted">util<span class="token punctuation">.</span>normalizeSides</code> <a href="#util.normalizeSides">function</a> is used to understand the provided value. A single number is applied as padding to all sides of the elements. An object may be provided to specify values for <code class="highlighted">left</code>, <code class="highlighted">top</code>, <code class="highlighted">right</code>, <code class="highlighted">bottom</code>, <code class="highlighted">horizontal</code> and/or <code class="highlighted">vertical</code> sides.</td>
    </tr>
</table>

<p>Example:</p>

<pre><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">router</span><span class="token punctuation">(</span><span class="token string">'orthogonal'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    padding<span class="token punctuation">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>(<i>Deprecated</i>) For the purposes of backwards compatibility, the <code class="highlighted"><span class="token string">'orthogonal'</span></code> router can also be enabled by setting the <code class="highlighted">link<span class="token punctuation">.</span>manhattan</code> property to <code class="highlighted"><span class="token boolean">true</span></code>. Note that the meaning of <q>manhattan</q> in JointJS has changed over time.</p>

<pre><code class="highlighted"><span class="token comment">// deprecated</span>
link<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'manhattan'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    </div>
    <div id="shapes" class="docs-item">
    <div id="shapes.devs" class="docs-item">
        <a href="#shapes.devs" class="docs-item-anchor">
            <h3 class="docs-item-header">shapes.devs</h3>
        </a>
        <div class="docs-item-content">
<p>The Devs plugin provides you with ready-to-use shapes with predefined input &amp; output port groups and simplified API.</p>

<h3>joint.shapes.devs.Model</h3>

<p>The Model shape implements simple API on top of the JointJS built-in ports. It splits ports into two semantic groups (<b>in</b> and <b>out</b>) and adds convenient methods for adding and removing ports.</p>

<table>
    <tr>
      <th>inPorts</th>
      <td>an array of all input ports</td>
    </tr>
    <tr>
      <th>outPorts</th>
      <td>an array of all output ports</td>
    </tr>
</table>


<h5 id="shapes.devs.Model.addInPort">shapes.devs.Model.addInPort</h5>
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">addInPort</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Add a single port into the `inPorts` array, where `port` is a name of the port.</p>

<h5 id="shapes.devs.Model.addOutPort">shapes.devs.Model.addOutPort</h5>
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">addOutPort</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Add a single port into the `outPorts` array, where `port` is a name of the port.</p>

<h5 id="shapes.devs.Model.changeInGroup">shapes.devs.Model.changeInGroup</h5>
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">changeInGroup</span><span class="token punctuation">(</span>properties<span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Change the settings for the input ports, where `properties` is an object with a <a href="#dia.Element.ports.interface">group configuration</a>. It extends the previous settings with the new configuration by default. Pass <code class="highlighted"><span class="token punctuation">{</span> rewrite<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span></code> via <code class="highlighted">opt</code> to invalidate the previous settings.</p>

<h5 id="shapes.devs.Model.changeOutGroup">shapes.devs.Model.changeOutGroup</h5>
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">changeOutGroup</span><span class="token punctuation">(</span>properties<span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Change the settings for the output ports, where `properties` is an object with a <a href="#dia.Element.ports.interface">group configuration</a>. It extends the previous settings with the new configuration by default. Pass <code class="highlighted"><span class="token punctuation">{</span> rewrite<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span></code> via <code class="highlighted">opt</code> to invalidate the previous settings.</p>

<h5 id="shapes.devs.Model.removeInPort">shapes.devs.Model.removeInPort</h5>
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">removeInPort</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Remove a port from an element from the `inPorts` array, where `port` is a name of the port.</p>

<h5 id="shapes.devs.Model.removeOutPort">shapes.devs.Model.removeOutPort</h5>
<pre class="docs-method-signature"><code class="highlighted">element<span class="token punctuation">.</span><span class="token function">removeOutPort</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Remove a port from an element from the `outPorts` array, where `port` is a name of the port.</p>

<h3>joint.shapes.devs.Link</h3>

<p>The <code class="highlighted">devs<span class="token punctuation">.</span>Link</code> extends the <code class="highlighted">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Link</code> and changes the link appearance.</p>


<h4>Example usage</h4>

<pre><code class="highlighted"><span class="token keyword">var</span> shape <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>devs<span class="token punctuation">.</span>Model</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    position<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        x<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
        y<span class="token punctuation">:</span> <span class="token number">100</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    inPorts<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'in1'</span><span class="token punctuation">,</span> <span class="token string">'in2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    outPorts<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'out1'</span><span class="token punctuation">,</span> <span class="token string">'out2'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

shape<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// adding/removing ports dynamically</span>
shape<span class="token punctuation">.</span><span class="token function">addInPort</span><span class="token punctuation">(</span><span class="token string">'in3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
shape<span class="token punctuation">.</span><span class="token function">removeOutPort</span><span class="token punctuation">(</span><span class="token string">'out1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addOutPort</span><span class="token punctuation">(</span><span class="token string">'out3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>devs<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    source<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        id<span class="token punctuation">:</span> shape<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
        port<span class="token punctuation">:</span> <span class="token string">'out3'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    target<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        x<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
        y<span class="token punctuation">:</span> <span class="token number">300</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// moving the input ports from `left` to `top`</span>
shape<span class="token punctuation">.</span><span class="token function">changeInGroup</span><span class="token punctuation">(</span><span class="token punctuation">{</span> position<span class="token punctuation">:</span> <span class="token string">'top'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// moving the output ports 'right' to 'bottom'</span>
shape<span class="token punctuation">.</span><span class="token function">changeOutGroup</span><span class="token punctuation">(</span><span class="token punctuation">{</span> position<span class="token punctuation">:</span> <span class="token string">'bottom'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

<h4 id="shapes.devs.hierarchical_diagrams">Hierarchical diagrams</h4>

<p>There are two more shapes designed for hierarchical diagrams as part of the plugin - <code class="highlighted">devs<span class="token punctuation">.</span>Atomic</code> and <code class="highlighted">devs<span class="token punctuation">.</span>Coupled</code>. They inherit from the <code class="highlighted">devs<span class="token punctuation">.</span>Model</code> and differ only in the color and size. The purpose of these shapes is to enable you to implement a custom logic in your application based on their type.
For instance a <code class="highlighted">devs<span class="token punctuation">.</span>Coupled</code> can embed <code class="highlighted">devs<span class="token punctuation">.</span>Atomic</code>'s but not the other way round as shown in the demo below.</p>

<p>When working with hierarchical diagrams there is a few methods, that might come in handy.</p>

<p><a href="#dia.Element.prototype.embed"><code class="highlighted">coupled<span class="token punctuation">.</span><span class="token function">embed</span><span class="token punctuation">(</span>atomic<span class="token punctuation">)</span></code></a> that can put the `atomic` shape into the `coupled`.</p>

<p><a href="#dia.Element.prototype.fitEmbeds"><code class="highlighted">coupled<span class="token punctuation">.</span><span class="token function">fitEmbeds</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> that resizes the `coupled` shape, so it visually contains all shapes embedded in.</p>

<p><a href="#dia.Link.prototype.reparent"><code class="highlighted">link<span class="token punctuation">.</span><span class="token function">reparent</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></a> that finds the best parent for the `link` based on the source and target element.</p>

<iframe src="about:blank" data-src="./demo/shapes/shapes.devs.html" style="height: 404px; width: 803px;"></iframe>

        </div>
    </div>
    <div id="shapes.standard" class="docs-item">
    <div id="shapes.standard.intro" class="docs-item">
        <a href="#shapes.standard.intro" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard</h4>
        </a>
        <div class="docs-item-content">
<p>The Standard plugin provides you with ready-to-use, high-performance versions of the most common shapes. The shapes can be used as they are or can serve as an inspiration for creating custom shapes.</p>

<iframe src="about:blank" data-src="./demo/shapes/shapes.standard.html" style="height: 805px; width: 660px;"></iframe>

<p><a target="_blank" href="./demo/shapes/shapes.standard.js">source code</a></p>

        </div>
    </div>
    <div id="shapes.standard.BorderedImage" class="docs-item">
        <a href="#shapes.standard.BorderedImage" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.BorderedImage</h4>
        </a>
        <div class="docs-item-content">
<p>An image with a border and label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>image</td>
        <td><i>SVGImageElement</i></td>
        <td>Image body of the shape</td>
    </tr>
    <tr>
        <td>border</td>
        <td><i>SVGRectElement</i></td>
        <td>Border around the image</td>
    </tr>
    <tr>
        <td>background</td>
        <td><i>SVGRectElement</i></td>
        <td>Area behind the image</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text below the image</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> borderedImage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>BorderedImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
borderedImage<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
borderedImage<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">225</span><span class="token punctuation">,</span> <span class="token number">410</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
borderedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.BoarderedImage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
borderedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Bordered\nImage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
borderedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'border/rx'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
borderedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'image/xlinkHref'</span><span class="token punctuation">,</span> <span class="token string">'image.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
borderedImage<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.Circle" class="docs-item">
        <a href="#shapes.standard.Circle" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.Circle</h4>
        </a>
        <div class="docs-item-content">
<p>A circle with a label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>body</td>
        <td><i>SVGCircleElement</i></td>
        <td>Circular body of the shape</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text inside the body</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> circle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
circle<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
circle<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
circle<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.Circle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
circle<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Circle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
circle<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'body/fill'</span><span class="token punctuation">,</span> <span class="token string">'lightblue'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
circle<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.Cylinder" class="docs-item">
        <a href="#shapes.standard.Cylinder" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.Cylinder</h4>
        </a>
        <div class="docs-item-content">
<p>A cylinder with a label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>body</td>
        <td><i>SVGPathElement</i></td>
        <td>Lateral area of the cylinder
            <p><i>
                The shape has a custom attribute <code class="highlighted">lateralArea</code> set to <code class="highlighted"><span class="token number">10</span></code> by default.
                The attribute sets the SVGPathElement's <code class="highlighted">d</code> in the shape of the lateral area of a tilted cylinder.
                The attribute expects a <code class="highlighted">topRy</code> value; either a percentage or a number.
                The value determines the vertical radius of the exposed area of cylinder base;
                either relative to shape height, or directly.
                (Refer to the <code class="highlighted">cylinder<span class="token punctuation">.</span>topRy</code> function for more detailed specification.)
            </i></p>
        </td>
    </tr>
    <tr>
        <td>top</td>
        <td><i>SVGEllipseElement</i></td>
        <td>Top of the cylinder (cylinder base)</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text inside the body</td>
    </tr>
</table>

<h5 id="shapes.standard.Cylinder.prototype.topRy">shapes.standard.Cylinder.prototype.topRy</h5>
<pre class="docs-method-signature"><code class="highlighted">cylinder<span class="token punctuation">.</span><span class="token function">topRy</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Return the vertical radius of the exposed area of the cylinder base (the value of the <code class="highlighted">body<span class="token operator">/</span>lateralArea</code> attribute; <code class="highlighted"><span class="token number">10</span></code> by default).</p>

<pre class="docs-method-signature"><code class="highlighted">cylinder<span class="token punctuation">.</span><span class="token function">topRy</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token punctuation">[</span>opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Set the cylinder vertical radius of the exposed area of the cylinder base.</p>

<p>If the provided value is a percentage, it is relative to the <code class="highlighted">refBBox<span class="token punctuation">.</span>height</code> of the shape. In practice, only values between <code class="highlighted"><span class="token string">'0%'</span></code> and <code class="highlighted"><span class="token string">'50%'</span></code> make sense. If the provided value is a number, it determines the vertical radius directly. Only values between <code class="highlighted"><span class="token number">0</span></code> and half of <code class="highlighted">refBBox<span class="token punctuation">.</span>height</code> make sense.</p>

<p>The function automatically sets the value of several attributes: <code class="highlighted">body<span class="token operator">/</span>lateralArea</code>; and <code class="highlighted">top<span class="token operator">/</span>ry</code>, <code class="highlighted">top<span class="token operator">/</span>cy</code>, <code class="highlighted">top<span class="token operator">/</span>refRy</code> and <code class="highlighted">top<span class="token operator">/</span>refCy</code>. If these arguments need to be modified further, make sure to assign them only after calling <code class="highlighted">cylinder<span class="token punctuation">.</span>topRy</code>.</p>

<p>Example usage:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> cylinder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">standard<span class="token punctuation">.</span>Cylinder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cylinder<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cylinder<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">525</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cylinder<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.Cylinder'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cylinder<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'body/fill'</span><span class="token punctuation">,</span> <span class="token string">'lightgray'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cylinder<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'top/fill'</span><span class="token punctuation">,</span> <span class="token string">'gray'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cylinder<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Cylinder'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cylinder<span class="token punctuation">.</span><span class="token function">topRy</span><span class="token punctuation">(</span><span class="token string">'10%'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cylinder<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.DoubleLink" class="docs-item">
        <a href="#shapes.standard.DoubleLink" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.DoubleLink</h4>
        </a>
        <div class="docs-item-content">
<p>A double line link.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>line</td>
        <td><i>SVGPathElement</i></td>
        <td>Inner connection</td>
    </tr>
    <tr>
        <td>outline</td>
        <td><i>SVGPathElement</i></td>
        <td>Outer connection</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> doubleLink <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>DoubleLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
doubleLink<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'source'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">500</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">600</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
doubleLink<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'target'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">450</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">750</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
doubleLink<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'vertices'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">500</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">700</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
doubleLink<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.DoubleLink'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
doubleLink<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'line/stroke'</span><span class="token punctuation">,</span> <span class="token string">'#30d0c6'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
doubleLink<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.Ellipse" class="docs-item">
        <a href="#shapes.standard.Ellipse" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.Ellipse</h4>
        </a>
        <div class="docs-item-content">
<p>An ellipse with a label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>body</td>
        <td><i>SVGEllipseElement</i></td>
        <td>Elliptical body of the shape</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text inside the body</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> ellipse <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Ellipse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ellipse<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ellipse<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">425</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ellipse<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.Ellipse'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ellipse<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Ellipse'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ellipse<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'body/fill'</span><span class="token punctuation">,</span> <span class="token string">'lightblue'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ellipse<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.EmbeddedImage" class="docs-item">
        <a href="#shapes.standard.EmbeddedImage" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.EmbeddedImage</h4>
        </a>
        <div class="docs-item-content">
<p>An image embedded into a rectangle with a label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>body</td>
        <td><i>SVGRectElement</i></td>
        <td>Rectangular body of the shape</td>
    </tr>
    <tr>
        <td>image</td>
        <td><i>SVGImageElement</i></td>
        <td>Image inside the body</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text next to the image</td>
    </tr>
</table>

<pre><code class="highlighted">
<span class="token keyword">var</span> embeddedImage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>EmbeddedImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
embeddedImage<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
embeddedImage<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">425</span><span class="token punctuation">,</span> <span class="token number">410</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
embeddedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.EmbeddedImage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
embeddedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Embedded\nImage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
embeddedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'image/xlinkHref'</span><span class="token punctuation">,</span> <span class="token string">'image.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
embeddedImage<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.HeaderedRectangle" class="docs-item">
        <a href="#shapes.standard.HeaderedRectangle" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.HeaderedRectangle</h4>
        </a>
        <div class="docs-item-content">
<p>A rectangle with header.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>body</td>
        <td><i>SVGRectElement</i></td>
        <td>Rectangular body of the shape</td>
    </tr>
    <tr>
        <td>header</td>
        <td><i>SVGRectElement</i></td>
        <td>Rectangular header of the shape</td>
    </tr>
    <tr>
        <td>headerText</td>
        <td><i>SVGTextElement</i></td>
        <td>Text inside the header</td>
    </tr>
    <tr>
        <td>bodyText</td>
        <td><i>SVGTextElement</i></td>
        <td>Text inside the body</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> headeredRectangle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>HeaderedRectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
headeredRectangle<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
headeredRectangle<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">610</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
headeredRectangle<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.HeaderedRectangle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
headeredRectangle<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'header/fill'</span><span class="token punctuation">,</span> <span class="token string">'lightgray'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
headeredRectangle<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'headerText/text'</span><span class="token punctuation">,</span> <span class="token string">'Header'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
headeredRectangle<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'bodyText/text'</span><span class="token punctuation">,</span> <span class="token string">'Headered\nRectangle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
headeredRectangle<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.Image" class="docs-item">
        <a href="#shapes.standard.Image" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.Image</h4>
        </a>
        <div class="docs-item-content">
<p>An image with a label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>image</td>
        <td><i>SVGImageElement</i></td>
        <td>Image body of the shape</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text below the image</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
image<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
image<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">410</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
image<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.Image'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
image<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Image'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
image<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'image/xlinkHref'</span><span class="token punctuation">,</span> <span class="token string">'image.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
image<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.InscribedImage" class="docs-item">
        <a href="#shapes.standard.InscribedImage" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.InscribedImage</h4>
        </a>
        <div class="docs-item-content">
<p>An image inscribed in an ellipse with a label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>image</td>
        <td><i>SVGImageElement</i></td>
        <td>Image inscribed in the ellipse</td>
    </tr>
    <tr>
        <td>border</td>
        <td><i>SVGEllipseElement</i></td>
        <td>Border around the ellipse</td>
    </tr>
    <tr>
        <td>background</td>
        <td><i>SVGEllipseElement</i></td>
        <td>Area of the ellipse</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text below the shape</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> inscribedImage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>InscibedImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
inscribedImage<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
inscribedImage<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">225</span><span class="token punctuation">,</span> <span class="token number">410</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
inscribedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.InscribedImage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
inscribedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Inscribed Image'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
inscribedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'border/strokeWidth'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
inscribedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'background/fill'</span><span class="token punctuation">,</span> <span class="token string">'lightgray'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
inscribedImage<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'image/xlinkHref'</span><span class="token punctuation">,</span> <span class="token string">'image.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
inscribedImage<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.Link" class="docs-item">
        <a href="#shapes.standard.Link" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.Link</h4>
        </a>
        <div class="docs-item-content">
<p>A single line link.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>line</td>
        <td><i>SVGPathElement</i></td>
        <td>Visible connection of the link</td>
    </tr>
    <tr>
        <td>wrapper</td>
        <td><i>SVGPathElement</i></td>
        <td>Invisible wrapper around the connection to make the line thicker, so the user can interact with the link more easily.</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> link <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Link</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'source'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">450</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">600</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'target'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">400</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">750</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'vertices'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">450</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">700</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.Link'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'line/stroke'</span><span class="token punctuation">,</span> <span class="token string">'#fe854f'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.Path" class="docs-item">
        <a href="#shapes.standard.Path" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.Path</h4>
        </a>
        <div class="docs-item-content">
<p>A path with a label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>body</td>
        <td><i>SVGPathElement</i></td>
        <td>Generic body of the shape</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text inside the body</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
path<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
path<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">210</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
path<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.Path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
path<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
path<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'body/refD'</span><span class="token punctuation">,</span> <span class="token string">'M 0 5 10 0 C 20 0 20 20 10 20 L 0 15 Z'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
path<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="shapes.standard.Polygon" class="docs-item">
        <a href="#shapes.standard.Polygon" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.Polygon</h4>
        </a>
        <div class="docs-item-content">
<p>A polygon with a label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>body</td>
        <td><i>SVGPolygonElement</i></td>
        <td>Polygonal body of the shape</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text inside the body</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> polygon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Polygon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polygon<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polygon<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">210</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polygon<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.Polygon'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polygon<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Polygon'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polygon<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'body/refPoints'</span><span class="token punctuation">,</span> <span class="token string">'0,10 10,0 20,10 10,20'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polygon<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.Polyline" class="docs-item">
        <a href="#shapes.standard.Polyline" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.Polyline</h4>
        </a>
        <div class="docs-item-content">
<p>A polyline with a label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>body</td>
        <td><i>SVGPolylineElement</i></td>
        <td>Generic body of the shape</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text inside the body</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> polyline <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Polyline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polyline<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polyline<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">450</span><span class="token punctuation">,</span> <span class="token number">210</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polyline<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.Polyline'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polyline<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Polyline'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polyline<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'body/refPoints'</span><span class="token punctuation">,</span> <span class="token string">'0,0 0,10 10,10 10,0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polyline<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.Rectangle" class="docs-item">
        <a href="#shapes.standard.Rectangle" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.Rectangle</h4>
        </a>
        <div class="docs-item-content">
<p>A rectangle with a label.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>body</td>
        <td><i>SVGRectElement</i></td>
        <td>Rectangular body of the shape</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>SVGTextElement</i></td>
        <td>Text inside the body</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> rectangle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rectangle<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rectangle<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rectangle<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.Rectangle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rectangle<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Rectangle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rectangle<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'body/fill'</span><span class="token punctuation">,</span> <span class="token string">'lightblue'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rectangle<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

        </div>
    </div>
    <div id="shapes.standard.ShadowLink" class="docs-item">
        <a href="#shapes.standard.ShadowLink" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.ShadowLink</h4>
        </a>
        <div class="docs-item-content">
<p>A thicker line with shadow.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>line</td>
        <td><i>SVGPathElement</i></td>
        <td>Visible connection of the link</td>
    </tr>
    <tr>
        <td>shadow</td>
        <td><i>SVGPathElement</i></td>
        <td>Shadow of the connection</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> shadowLink <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>standard<span class="token punctuation">.</span>ShadowLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
shadowLink<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'source'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">550</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">600</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
shadowLink<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'target'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">500</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">750</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
shadowLink<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">'vertices'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">550</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">700</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
shadowLink<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.ShadowLink'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
shadowLink<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'line/stroke'</span><span class="token punctuation">,</span> <span class="token string">'#5654a0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
shadowLink<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="shapes.standard.TextBlock" class="docs-item">
        <a href="#shapes.standard.TextBlock" class="docs-item-anchor">
            <h4 class="docs-item-header">shapes.standard.TextBlock</h4>
        </a>
        <div class="docs-item-content">
<p>A rectangle with an HTML label <i>(with a fallback to SVG label for IE)</i>.</p>

<b>Supported <code class="highlighted">attrs</code> properties</b><p></p>

<table>
    <tr>
        <th>Selector</th>
        <th>Node</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>root</td>
        <td><i>SVGGElement</i></td>
        <td>Container of all nodes</td>
    </tr>
    <tr>
        <td>body</td>
        <td><i>SVGRectElement</i></td>
        <td>Rectangular body of the shape</td>
    </tr>
    <tr>
        <td>label</td>
        <td><i>HTMLDivElement</i></td>
        <td>Text inside the body</td>
    </tr>
</table>

<pre><code class="highlighted"><span class="token keyword">var</span> textBlock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>tandard<span class="token punctuation">.</span>TextBlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
textBlock<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
textBlock<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">610</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
textBlock<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'root/title'</span><span class="token punctuation">,</span> <span class="token string">'joint.shapes.standard.TextBlock'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
textBlock<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'body/fill'</span><span class="token punctuation">,</span> <span class="token string">'lightgray'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
textBlock<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/text'</span><span class="token punctuation">,</span> <span class="token string">'Hyper Text Markup Language'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Styling of the label via `style` presentation attribute (i.e. CSS).</span>
textBlock<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'label/style/color'</span><span class="token punctuation">,</span> <span class="token string">'red'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
textBlock<span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    </div>
    </div>
    <div id="util" class="docs-item">
    <div id="util.assign" class="docs-item">
        <a href="#util.assign" class="docs-item-anchor">
            <h3 class="docs-item-header">util.assign</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>destinationObject <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token operator">...</span>sourceObjects<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>(<i>Deprecated</i>) An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>assign</code></b>. See the <a href="https://lodash.com/docs/4.17.10#assign">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.bindAll" class="docs-item">
        <a href="#util.bindAll" class="docs-item-anchor">
            <h3 class="docs-item-header">util.bindAll</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">bindAll</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> methodNames<span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>bindAll</code></b>. See the <a href="https://lodash.com/docs/4.17.10#bindAll">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.breakText" class="docs-item">
        <a href="#util.breakText" class="docs-item-anchor">
            <h3 class="docs-item-header">util.breakText</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> size <span class="token punctuation">[</span><span class="token punctuation">,</span> attrs<span class="token punctuation">,</span> opt<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Break the provided <code class="highlighted">text</code> into lines so that it can fit into the bounding box defined by <code class="highlighted">size<span class="token punctuation">.</span>width</code> and (optionally) <code class="highlighted">size<span class="token punctuation">.</span>height</code>.</p>

<p>The function creates a temporary SVG <code class="highlighted"><span class="token operator">&lt;</span>text<span class="token operator">></span></code> element and adds words to it one by one, measuring the element's actual rendered width and height at every step. If a word causes a line to overflow <code class="highlighted">size<span class="token punctuation">.</span>width</code>, a newline character (<code class="highlighted"><span class="token string">'\n'</span></code>) is generated. If a newline causes the text to overflow <code class="highlighted">size<span class="token punctuation">.</span>height</code>, the string is cut off.</p>

<p>The returned string is a (possibly truncated) copy of <code class="highlighted">text</code> with newline characters at appropriate locations.</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token punctuation">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'lorem ipsum\ndolor sit amet\nconsectetur\nadipiscing elit'</span></code></pre>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'lorem ipsum\ndolor sit amet'</span></code></pre>

<p>The <code class="highlighted">attrs</code> parameter is an object with SVG attributes that should be set on the temporary SVG text element while it is being measured (such as <code class="highlighted"><span class="token string">'font-weight'</span></code>, <code class="highlighted"><span class="token string">'font-size'</span></code>, <code class="highlighted"><span class="token string">'font-family'</span></code>, etc.). For example, an area of fixed size can obviously fit more words of font size <code class="highlighted"><span class="token number">12</span>px</code> than it can fit words of font size <code class="highlighted"><span class="token number">36</span>px</code>. If nothing can fit, an empty string is returned. (If an <code class="highlighted">attrs</code> object is not provided, the browser's default style is used.)</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'font-size'</span><span class="token punctuation">:</span> <span class="token number">12</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'lorem ipsum dolor\nsit amet consectetur\nadipiscing elit'</span></code></pre>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'font-size'</span><span class="token punctuation">:</span> <span class="token number">16</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'lorem ipsum\ndolor sit amet'</span></code></pre>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'font-size'</span><span class="token punctuation">:</span> <span class="token number">36</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'lorem'</span></code></pre>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'font-size'</span><span class="token punctuation">:</span> <span class="token number">72</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// ''</span></code></pre>

<p>The method also accepts the following additional options:</p>

<ul>
    <li><code class="highlighted">opt<span class="token punctuation">.</span>separator</code> - a string or a regular expression which denotes how to split the text into words. Defaults to <code class="highlighted"><span class="token string">' '</span></code></li>
    <li><code class="highlighted">opt<span class="token punctuation">.</span>eol</code> - a string representing the end-of-line symbol. Defaults to <code class="highlighted"><span class="token string">'\n'</span></code>.</li>
    <li><code class="highlighted">opt<span class="token punctuation">.</span>ellipsis</code> - a boolean that specifies whether the ellipsis symbol (<code class="highlighted"><span class="token string">'…'</span></code>, <code class="highlighted"><span class="token constant">U</span><span class="token operator">+</span><span class="token number">2026</span> <span class="token constant">HORIZONTAL</span> <span class="token constant">ELLIPSIS</span></code>) should be displayed when the text overflows. Defaults to <code class="highlighted"><span class="token boolean">false</span></code>. If you provide a string, that string will be used as the ellipsis symbol instead.</li>
    <li><code class="highlighted">opt<span class="token punctuation">.</span>svgDocument</code> - an SVG document to which the temporary SVG text element should be added. By default, an SVG document is created automatically for you.</li>
    <li><code class="highlighted">opt<span class="token punctuation">.</span>hyphen</code> - a string or regex representing the hyphen symbol. If required, the method tries to break long words at hyphens first.</li>
</ul>

<p>Examples of text with the <code class="highlighted">ellipsis</code> option specified:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'font-size'</span><span class="token punctuation">:</span> <span class="token number">12</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> ellipsis<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'lorem ipsum dolor\nsit amet consectetur\nadipiscing elit'</span></code></pre>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'font-size'</span><span class="token punctuation">:</span> <span class="token number">16</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> ellipsis<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'lorem ipsum\ndolor sit ame…'</span></code></pre>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'font-size'</span><span class="token punctuation">:</span> <span class="token number">16</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> ellipsis<span class="token punctuation">:</span> <span class="token string">'...!?'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'lorem ipsum\ndolor sit a...!?'</span></code></pre>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'font-size'</span><span class="token punctuation">:</span> <span class="token number">36</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> ellipsis<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'lore…'</span></code></pre>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">breakText</span><span class="token punctuation">(</span><span class="token string">'lorem ipsum dolor sit amet consectetur adipiscing elit'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'font-size'</span><span class="token punctuation">:</span> <span class="token number">36</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> ellipsis<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// ''</span></code></pre>

<p>If you need to wrap text inside a <code class="highlighted">text</code> <a href="#dia.attributes.text">attribute</a> of an Element, you should use the <code class="highlighted">textWrap</code> <a href="#dia.attributes.textWrap">attribute</a> instead. It does not require you to provide explicit size measurements, and it automatically responds to element resizing.</p>

        </div>
    </div>
    <div id="util.camelCase" class="docs-item">
        <a href="#util.camelCase" class="docs-item-anchor">
            <h3 class="docs-item-header">util.camelCase</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">camelCase</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>camelCase</code></b>. See the <a href="https://lodash.com/docs/4.17.10#camelCase">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.cancelFrame" class="docs-item">
        <a href="#util.cancelFrame" class="docs-item-anchor">
            <h3 class="docs-item-header">util.cancelFrame</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">cancelFrame</span><span class="token punctuation">(</span>requestId<span class="token punctuation">)</span></code></pre><p>Cancels an animation frame request identified by <code class="highlighted">requestId</code> previously scheduled through a call to <a href="#util.nextFrame">joint.util.nextFrame</a>.</p>
        </div>
    </div>
    <div id="util.clone" class="docs-item">
        <a href="#util.clone" class="docs-item-anchor">
            <h3 class="docs-item-header">util.clone</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>clone</code></b>. See the <a href="https://lodash.com/docs/4.17.10#clone">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.cloneDeep" class="docs-item">
        <a href="#util.cloneDeep" class="docs-item-anchor">
            <h3 class="docs-item-header">util.cloneDeep</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">cloneDeep</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>cloneDeep</code></b>. See the <a href="https://lodash.com/docs/4.17.10#cloneDeep">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.dataUriToBlob" class="docs-item">
        <a href="#util.dataUriToBlob" class="docs-item-anchor">
            <h3 class="docs-item-header">util.dataUriToBlob</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">dataUriToBlob</span><span class="token punctuation">(</span>dataUri<span class="token punctuation">)</span></code></pre>
<p>Convert a <a href="https://en.wikipedia.org/wiki/Data_URI_scheme">Data URI string</a> into a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Blob">Blob object</a>.</p>

        </div>
    </div>
    <div id="util.debounce" class="docs-item">
        <a href="#util.debounce" class="docs-item-anchor">
            <h3 class="docs-item-header">util.debounce</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">debounce</span><span class="token punctuation">(</span>func <span class="token punctuation">[</span><span class="token punctuation">,</span> wait<span class="token punctuation">,</span> options<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>debounce</code></b>. See the <a href="https://lodash.com/docs/4.17.10#debounce">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.deepMixin" class="docs-item">
        <a href="#util.deepMixin" class="docs-item-anchor">
            <h3 class="docs-item-header">util.deepMixin</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">deepMixin</span><span class="token punctuation">(</span>destinationObject<span class="token punctuation">,</span> sourceObject<span class="token punctuation">,</span> options<span class="token punctuation">)</span></code></pre>
<p>(<i>Deprecated</i>) An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>mixin</code></b>. See the <a href="https://lodash.com/docs/4.17.10#mixin">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.deepSupplement" class="docs-item">
        <a href="#util.deepSupplement" class="docs-item-anchor">
            <h3 class="docs-item-header">util.deepSupplement</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">deepSupplement</span><span class="token punctuation">(</span>destinationObject <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token operator">...</span>sourceObjects<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>(<i>Deprecated</i>) An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>defaultsDeep</code></b>. See the <a href="https://lodash.com/docs/4.17.10#defaultsDeep">Lodash documentation entry</a> for more information.</p>

<p>Use the <code class="highlighted">util<span class="token punctuation">.</span>defaultsDeep</code> <a href="#util.defaultsDeep">function</a> instead.</p>

        </div>
    </div>
    <div id="util.defaults" class="docs-item">
        <a href="#util.defaults" class="docs-item-anchor">
            <h3 class="docs-item-header">util.defaults</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">defaults</span><span class="token punctuation">(</span>destinationObject <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token operator">...</span>sourceObjects<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>defaults</code></b>. See the <a href="https://lodash.com/docs/4.17.10#defaults">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.defaultsDeep" class="docs-item">
        <a href="#util.defaultsDeep" class="docs-item-anchor">
            <h3 class="docs-item-header">util.defaultsDeep</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">defaultsDeep</span><span class="token punctuation">(</span>destinationObject <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token operator">...</span>sourceObjects<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>defaultsDeep</code></b>. See the <a href="https://lodash.com/docs/4.17.10#defaultsDeep">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.difference" class="docs-item">
        <a href="#util.difference" class="docs-item-anchor">
            <h3 class="docs-item-header">util.difference</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">difference</span><span class="token punctuation">(</span>array <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token operator">...</span>excludedValuesArrays<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>difference</code></b>. See the <a href="https://lodash.com/docs/4.17.10#difference">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.downloadBlob" class="docs-item">
        <a href="#util.downloadBlob" class="docs-item-anchor">
            <h3 class="docs-item-header">util.downloadBlob</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">downloadBlob</span><span class="token punctuation">(</span>blob<span class="token punctuation">,</span> fileName<span class="token punctuation">)</span></code></pre>
<p>Download provided <a href="https://developer.mozilla.org/en-US/docs/Web/API/Blob">Blob object</a> as a file with given <code class="highlighted">fileName</code>.</p>

        </div>
    </div>
    <div id="util.downloadDataUri" class="docs-item">
        <a href="#util.downloadDataUri" class="docs-item-anchor">
            <h3 class="docs-item-header">util.downloadDataUri</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">downloadDataUri</span><span class="token punctuation">(</span>dataUri<span class="token punctuation">,</span> fileName<span class="token punctuation">)</span></code></pre>
<p>Download provided <a href="https://en.wikipedia.org/wiki/Data_URI_scheme">Data URI string</a> as a file with given <code class="highlighted">fileName</code>.</p>

        </div>
    </div>
    <div id="util.flattenDeep" class="docs-item">
        <a href="#util.flattenDeep" class="docs-item-anchor">
            <h3 class="docs-item-header">util.flattenDeep</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">flattenDeep</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>flattenDeep</code></b>. See the <a href="https://lodash.com/docs/4.17.10#flattenDeep">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.flattenObject" class="docs-item">
        <a href="#util.flattenObject" class="docs-item-anchor">
            <h3 class="docs-item-header">util.flattenObject</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">flattenObject</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> delim<span class="token punctuation">,</span> stop<span class="token punctuation">)</span></code></pre>

<p>Flatten a nested <code class="highlighted">object</code> up until the <code class="highlighted">stop</code> function returns <code class="highlighted"><span class="token boolean">true</span></code>. The <code class="highlighted">stop</code> function takes the value of the node currently traversed. <code class="highlighted">delim</code> is a delimiter for the combined keys in the resulting object. Example:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">flattenObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 
    a<span class="token punctuation">:</span> <span class="token punctuation">{</span> 
        a1<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> 
        a2<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> 
        a3<span class="token punctuation">:</span> <span class="token punctuation">{</span> 
            a31<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> 
            a32<span class="token punctuation">:</span> <span class="token punctuation">{</span> 
                a321<span class="token punctuation">:</span> <span class="token punctuation">{</span> a3211<span class="token punctuation">:</span> <span class="token number">5</span> <span class="token punctuation">}</span> 
            <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span><span class="token punctuation">,</span> 
    b<span class="token punctuation">:</span> <span class="token number">6</span> 
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span>v<span class="token punctuation">.</span>a321<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
{
 "a/a1": 1,
 "a/a2": 2,
 "a/a3/a31": 5,
 "a/a3/a32": {
  "a321": {
   "a3211": 5
  }
 },
 "b": 6
}
*/</span></code></pre>

        </div>
    </div>
    <div id="util.forIn" class="docs-item">
        <a href="#util.forIn" class="docs-item-anchor">
            <h3 class="docs-item-header">util.forIn</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">forIn</span><span class="token punctuation">(</span>object <span class="token punctuation">[</span><span class="token punctuation">,</span> iteratee<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>forIn</code></b>. See the <a href="https://lodash.com/docs/4.17.10#forIn">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.getByPath" class="docs-item">
        <a href="#util.getByPath" class="docs-item-anchor">
            <h3 class="docs-item-header">util.getByPath</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">getByPath</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> path<span class="token punctuation">,</span> delim<span class="token punctuation">)</span></code></pre>

<p>Return a value at the <code class="highlighted">path</code> in a nested <code class="highlighted">object</code>. <code class="highlighted">delim</code> is the delimiter used in the <code class="highlighted">path</code> Example:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">getByPath</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token punctuation">{</span> aa<span class="token punctuation">:</span> <span class="token punctuation">{</span> aaa<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'a/aa/aaa'</span><span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3</span></code></pre>

        </div>
    </div>
    <div id="util.getElementBBox" class="docs-item">
        <a href="#util.getElementBBox" class="docs-item-anchor">
            <h3 class="docs-item-header">util.getElementBBox</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">getElementBBox</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span></code></pre><p>Return a bounding box of the element <code class="highlighted">el</code>. The advantage of this method is that it can handle
          both HTML and SVG elements. The resulting object is of the form <code class="highlighted"><span class="token punctuation">{</span> x<span class="token punctuation">:</span> Number<span class="token punctuation">,</span> y<span class="token punctuation">:</span> Number<span class="token punctuation">,</span> width<span class="token punctuation">:</span> Number<span class="token punctuation">,</span> height<span class="token punctuation">:</span> Number <span class="token punctuation">}</span></code>.
        </p>
        </div>
    </div>
    <div id="util.groupBy" class="docs-item">
        <a href="#util.groupBy" class="docs-item-anchor">
            <h3 class="docs-item-header">util.groupBy</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">groupBy</span><span class="token punctuation">(</span>collection <span class="token punctuation">[</span><span class="token punctuation">,</span> iteratee<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>groupBy</code></b>. See the <a href="https://lodash.com/docs/4.17.10#groupBy">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.guid" class="docs-item">
        <a href="#util.guid" class="docs-item-anchor">
            <h3 class="docs-item-header">util.guid</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">guid</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Return an identifier unique for the page.</p>
        </div>
    </div>
    <div id="util.has" class="docs-item">
        <a href="#util.has" class="docs-item-anchor">
            <h3 class="docs-item-header">util.has</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> propertyPath<span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>has</code></b>. See the <a href="https://lodash.com/docs/4.17.10#has">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.hashCode" class="docs-item">
        <a href="#util.hashCode" class="docs-item-anchor">
            <h3 class="docs-item-header">util.hashCode</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span></code></pre>
<p>Return a simple hash code from a string.</p>

        </div>
    </div>
    <div id="util.imageToDataUri" class="docs-item">
        <a href="#util.imageToDataUri" class="docs-item-anchor">
            <h3 class="docs-item-header">util.imageToDataUri</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">imageToDataUri</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> callback<span class="token punctuation">)</span></code></pre>
<p>Convert an image at <code class="highlighted">url</code> to the <a href="https://en.wikipedia.org/wiki/Data_URI_scheme">Data URI scheme</a>. The function is able to handle PNG, JPG and SVG formats. Useful if you need to embed images directly into your diagram instead of having them referenced externally.</p>

<p>The <code class="highlighted">callback</code> function has the following signature: <code class="highlighted"><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> dataUri<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code>.</p>

        </div>
    </div>
    <div id="util.intersection" class="docs-item">
        <a href="#util.intersection" class="docs-item-anchor">
            <h3 class="docs-item-header">util.intersection</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">intersection</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>arrays<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>intersection</code></b>. See the <a href="https://lodash.com/docs/4.17.10#intersection">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.invoke" class="docs-item">
        <a href="#util.invoke" class="docs-item-anchor">
            <h3 class="docs-item-header">util.invoke</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>collection<span class="token punctuation">,</span> methodPath <span class="token punctuation">[</span><span class="token punctuation">,</span> args<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>collection<span class="token punctuation">,</span> functionToInvokeForAll <span class="token punctuation">[</span><span class="token punctuation">,</span> args<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>invokeMap</code></b>. See the <a href="https://lodash.com/docs/4.17.10#invokeMap">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.isBoolean" class="docs-item">
        <a href="#util.isBoolean" class="docs-item-anchor">
            <h3 class="docs-item-header">util.isBoolean</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">isBoolean</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> when <code class="highlighted">value</code> is a boolean.</p>

        </div>
    </div>
    <div id="util.isEmpty" class="docs-item">
        <a href="#util.isEmpty" class="docs-item-anchor">
            <h3 class="docs-item-header">util.isEmpty</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>isEmpty</code></b>. See the <a href="https://lodash.com/docs/4.17.10#isEmpty">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.isEqual" class="docs-item">
        <a href="#util.isEqual" class="docs-item-anchor">
            <h3 class="docs-item-header">util.isEqual</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">isEqual</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> otherValue<span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>isEqual</code></b>. See the <a href="https://lodash.com/docs/4.17.10#isEqual">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.isFunction" class="docs-item">
        <a href="#util.isFunction" class="docs-item-anchor">
            <h3 class="docs-item-header">util.isFunction</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>isFunction</code></b>. See the <a href="https://lodash.com/docs/4.17.10#isFunction">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.isNumber" class="docs-item">
        <a href="#util.isNumber" class="docs-item-anchor">
            <h3 class="docs-item-header">util.isNumber</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">isNumber</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> when <code class="highlighted">value</code> is a number.</p>

        </div>
    </div>
    <div id="util.isObject" class="docs-item">
        <a href="#util.isObject" class="docs-item-anchor">
            <h3 class="docs-item-header">util.isObject</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">isObject</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> when <code class="highlighted">value</code> is an object (plain object or a function).</p>

        </div>
    </div>
    <div id="util.isPercentage" class="docs-item">
        <a href="#util.isPercentage" class="docs-item-anchor">
            <h3 class="docs-item-header">util.isPercentage</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">isPercentage</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> when <code class="highlighted">value</code> is a string that holds a percentage value, e.g. <code class="highlighted"><span class="token string">'10%'</span></code>.</p>

        </div>
    </div>
    <div id="util.isPlainObject" class="docs-item">
        <a href="#util.isPlainObject" class="docs-item-anchor">
            <h3 class="docs-item-header">util.isPlainObject</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">isPlainObject</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>isPlainObject</code></b>. See the <a href="https://lodash.com/docs/4.17.10#isPlainObject">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.isString" class="docs-item">
        <a href="#util.isString" class="docs-item-anchor">
            <h3 class="docs-item-header">util.isString</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">isString</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>Return <code class="highlighted"><span class="token boolean">true</span></code> when <code class="highlighted">value</code> is a string.</p>

        </div>
    </div>
    <div id="util.merge" class="docs-item">
        <a href="#util.merge" class="docs-item-anchor">
            <h3 class="docs-item-header">util.merge</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>destinationObject<span class="token punctuation">,</span> <span class="token operator">...</span>sourceObjects <span class="token punctuation">[</span><span class="token punctuation">,</span> customizer<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>mergeWith</code></b>. See the <a href="https://lodash.com/docs/4.17.10#mergeWith">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.mixin" class="docs-item">
        <a href="#util.mixin" class="docs-item-anchor">
            <h3 class="docs-item-header">util.mixin</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span>destinationObject <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token operator">...</span>sourceObjects<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>(<i>Deprecated</i>) An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>assign</code></b> (not <code class="highlighted">_<span class="token punctuation">.</span>mixin</code>). See the <a href="https://lodash.com/docs/4.17.10#assign">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.nextFrame" class="docs-item">
        <a href="#util.nextFrame" class="docs-item-anchor">
            <h3 class="docs-item-header">util.nextFrame</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">nextFrame</span><span class="token punctuation">(</span>callback <span class="token punctuation">[</span><span class="token punctuation">,</span> context<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>Tell the browser to schedule the <code class="highlighted">callback</code> function to be called before the next repaint.</p>

<p>This is a cross-browser version of the <code class="highlighted">window<span class="token punctuation">.</span>requestAnimationFrame</code> <a href="https://developer.mozilla.org/en/docs/Web/API/window.requestAnimationFrame">function</a>. It returns an ID of the frame request.</p>

<p>You can optionally pass a <code class="highlighted">context</code> for your callback function. Any further arguments are passed as arguments to the callback function.</p>

        </div>
    </div>
    <div id="util.noop" class="docs-item">
        <a href="#util.noop" class="docs-item-anchor">
            <h3 class="docs-item-header">util.noop</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">noop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>An empty function with no return statement (<code class="highlighted"><span class="token keyword">void</span></code> in Typescript).</p>

        </div>
    </div>
    <div id="util.normalizeEvent" class="docs-item">
        <a href="#util.normalizeEvent" class="docs-item-anchor">
            <h3 class="docs-item-header">util.normalizeEvent</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">normalizeEvent</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span></code></pre>
<p>Normalize the provided event.</p>

<p>For touch events, the normalized event receives a copy of all properties from <code class="highlighted">evt<span class="token punctuation">.</span>originalEvent</code> that are not included in <code class="highlighted">evt</code>.</p>

<p>Additionally, if <code class="highlighted">evt<span class="token punctuation">.</span>target<span class="token punctuation">.</span>correspondingUseElement</code> is defined (as in IE), that element is assigned as <code class="highlighted">target</code> in the normalized event.</p>

        </div>
    </div>
    <div id="util.normalizeSides" class="docs-item">
        <a href="#util.normalizeSides" class="docs-item-anchor">
            <h3 class="docs-item-header">util.normalizeSides</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">normalizeSides</span><span class="token punctuation">(</span>box<span class="token punctuation">)</span></code></pre>
<p>Return a new object of the form <code class="highlighted"><span class="token punctuation">{</span> top<span class="token punctuation">:</span> Number<span class="token punctuation">,</span> right<span class="token punctuation">:</span> Number<span class="token punctuation">,</span> bottom<span class="token punctuation">:</span> Number<span class="token punctuation">,</span> left<span class="token punctuation">:</span> Number <span class="token punctuation">}</span></code>.</p>

<p>If <code class="highlighted">box</code> is a number, the value of all four sides will be this number. If <code class="highlighted">box</code> is an object with some/all of the <code class="highlighted">top</code>, <code class="highlighted">right</code>, <code class="highlighted">bottom</code>, <code class="highlighted">left</code> properties defined, the values of these properties will be used.</p>

<p>Composite properties <code class="highlighted">horizontal</code> (for right and left side) and <code class="highlighted">vertical</code> (for top and bottom side) can be used, as well; they will be destructured appropriately. When two properties clash (e.g. <code class="highlighted">horizontal<span class="token punctuation">:</span> <span class="token number">10</span></code> and <code class="highlighted">left<span class="token punctuation">:</span> <span class="token number">5</span></code>), the more specific one prevails (here the returned object would contain <code class="highlighted">right<span class="token punctuation">:</span> <span class="token number">10</span></code> and <code class="highlighted">left<span class="token punctuation">:</span> <span class="token number">5</span></code>).</p>

<p>If any property is missing, its side will be set to <code class="highlighted"><span class="token number">0</span></code> in the resulting object.</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">normalizeSides</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// { top: 0, right: 0, bottom: 0, left: 0 }</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">normalizeSides</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment">// { top: 5, right: 5, bottom: 5, left: 5 }</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">normalizeSides</span><span class="token punctuation">(</span><span class="token punctuation">{</span> horizontal<span class="token punctuation">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// { top: 0, right: 5, bottom: 0, left: 5 }</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">normalizeSides</span><span class="token punctuation">(</span><span class="token punctuation">{</span> left<span class="token punctuation">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// { top: 0, right: 0, bottom: 0, left: 5 }</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">normalizeSides</span><span class="token punctuation">(</span><span class="token punctuation">{</span> horizontal<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> left<span class="token punctuation">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// { top: 0, right: 10, bottom: 0, left: 5 }</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">normalizeSides</span><span class="token punctuation">(</span><span class="token punctuation">{</span> horizontal<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> left<span class="token punctuation">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// { top: 0, left: 5, right: 0, bottom: 0 }</span></code></pre>

<p>JointJS and Rappid use this method internally whenever there is an option object that can be specified either by a number or a (possibly incomplete) object with sides (for example, the <code class="highlighted">padding</code> option).</p>

        </div>
    </div>
    <div id="util.omit" class="docs-item">
        <a href="#util.omit" class="docs-item-anchor">
            <h3 class="docs-item-header">util.omit</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">omit</span><span class="token punctuation">(</span>object <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token operator">...</span>propertyPathsToOmit<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>omit</code></b>. See the <a href="https://lodash.com/docs/4.17.10#omit">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.parseCssNumeric" class="docs-item">
        <a href="#util.parseCssNumeric" class="docs-item-anchor">
            <h3 class="docs-item-header">util.parseCssNumeric</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>Parse the provided value as a float and return an object with the number as the <code class="highlighted">value</code> parameter. If the value cannot be converted into a number, return <code class="highlighted"><span class="token keyword">null</span></code>.</p>

<p>If the number is followed by a unit, assign it as the <code class="highlighted">unit</code> parameter in the return object. If there is no unit, assign an empty string. Examples:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => null</span>

joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token number">1.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: '' }</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: '' }</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1px'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: 'px' }</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1em'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: 'em' }</span></code></pre>

<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> restrictUnits<span class="token punctuation">)</span></code></pre>
<p>Parse the provided value and only accept it if its unit is part of the <code class="highlighted">restrictUnits</code> parameter; otherwise return <code class="highlighted"><span class="token keyword">null</span></code>.</p>

<p>The <code class="highlighted">restrictUnits</code> parameter can be a string or an array of strings. If you provide an empty string, that means you are expecting <code class="highlighted">value</code> to have no unit. Providing an empty array always returns <code class="highlighted"><span class="token keyword">null</span></code>. Examples:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token number">1.1</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: '' })</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: '' })</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1px'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => null</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1px'</span><span class="token punctuation">,</span> <span class="token string">'px'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: 'px' });</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1px'</span><span class="token punctuation">,</span> <span class="token string">'em'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => null</span>

joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token number">1.1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => null</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => null</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1px'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => null</span>

joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token number">1.1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: '' })</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: '' })</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1px'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'px'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: 'px' });</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1px'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'em'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => null</span>

joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token number">1.1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'px'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: '' })</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'px'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: '' })</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1px'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'px'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => { value: 1.1, unit: 'px' })</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">parseCssNumeric</span><span class="token punctuation">(</span><span class="token string">'1.1em'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'px'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => null</span></code></pre>

        </div>
    </div>
    <div id="util.pick" class="docs-item">
        <a href="#util.pick" class="docs-item-anchor">
            <h3 class="docs-item-header">util.pick</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">pick</span><span class="token punctuation">(</span>object <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token operator">...</span>propertyPathsToPick<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>pick</code></b>. See the <a href="https://lodash.com/docs/4.17.10#pick">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.result" class="docs-item">
        <a href="#util.result" class="docs-item-anchor">
            <h3 class="docs-item-header">util.result</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">result</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> propertyPath <span class="token punctuation">[</span><span class="token punctuation">,</span> defaultValue<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>result</code></b>. See the <a href="https://lodash.com/docs/4.17.10#result">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.sanitizeHTML" class="docs-item">
        <a href="#util.sanitizeHTML" class="docs-item-anchor">
            <h3 class="docs-item-header">util.sanitizeHTML</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">sanitizeHTML</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span></code></pre>
<p>Sanitize the provided HTML (string) to protect against XSS attacks. The algorithm has several steps:</p>

<ul>
    <li>Wrap the provided HTML inside a <code class="highlighted"><span class="token operator">&lt;</span>div<span class="token operator">></span></code> tag. This will remove tags that are invalid in that context (e.g. <code class="highlighted"><span class="token operator">&lt;</span>body<span class="token operator">></span></code> and <code class="highlighted"><span class="token operator">&lt;</span>head<span class="token operator">></span></code>).</li>
    <li>Parse the provided HTML in a new document context (using <code class="highlighted">jQuery<span class="token punctuation">.</span><span class="token function">parseHTML</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>). This prevents inline events from firing and also prevents image GET requests from being sent.</li>
    <li>Discard all <code class="highlighted"><span class="token operator">&lt;</span>script<span class="token operator">></span></code> tags.</li>
    <li>Iterate through all DOM nodes and remove all <code class="highlighted">on<span class="token operator">...</span></code> attributes (e.g. <code class="highlighted">onload</code>, <code class="highlighted">onerror</code>).</li>
    <li>Iterate through all attributes of the nodes and remove all that use the <code class="highlighted">javascript<span class="token punctuation">:</span></code> pseudo-protocol as value.</li>
    <li>Return the sanitized HTML back as a string.</li>
</ul>

<p>The six simple steps protect against the most common XSS attacks; however, we cannot guarantee bulletproof security here. If you need stronger security, you should always keep an eye on a <a href="https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet"> list XSS attacks</a> and replace the <code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">sanitizeHTML</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> function with your own, more secure version.</p>

<p>Examples:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">sanitizeHTML</span><span class="token punctuation">(</span><span class="token string">'&lt;html>&lt;body>&lt;p>Hello&lt;/p>&lt;/body>&lt;/html>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => '&lt;p>Hello&lt;/p>'</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">sanitizeHTML</span><span class="token punctuation">(</span><span class="token string">'&lt;p>Hello&lt;/p>&lt;script>alert("Hacked");&lt;/script>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => '&lt;p>Hello&lt;/p>'</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">sanitizeHTML</span><span class="token punctuation">(</span><span class="token string">'&lt;p>Hello&lt;/p>&lt;img onload="alert(&amp;quot;Hacked&amp;quot;);">'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => '&lt;p>Hello&lt;/p>&lt;img>'</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">sanitizeHTML</span><span class="token punctuation">(</span><span class="token string">'&lt;p>Hello&lt;/p>&lt;img src="javascript:alert(&amp;quot;Hacked&amp;quot;);">'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => '&lt;p>Hello&lt;/p>&lt;img>'</span></code></pre>

        </div>
    </div>
    <div id="util.setAttributesBySelector" class="docs-item">
        <a href="#util.setAttributesBySelector" class="docs-item-anchor">
            <h3 class="docs-item-header">util.setAttributesBySelector</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">setAttributesBySelector</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> attrs<span class="token punctuation">)</span></code></pre>

<p>Set attributes on the DOM element (SVG or HTML) <code class="highlighted">el</code> and its descendants based on the selector in the <code class="highlighted">attrs</code> object. The <code class="highlighted">attrs</code> object is of the form: <code class="highlighted"><span class="token punctuation">{</span> <span class="token punctuation">[</span>selector<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>attributes <span class="token punctuation">}</span></code>. For example:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> myEl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.mydiv'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">setAttributesBySelector</span><span class="token punctuation">(</span>myEl<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token string">'.myDiv'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">'data-foo'</span><span class="token punctuation">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// Note the reference to the myEl element itself.</span>
    <span class="token string">'input'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">'value'</span><span class="token punctuation">:</span> <span class="token string">'my value'</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>The code above sets <code class="highlighted"><span class="token string">'data-foo'</span></code> attribute of the <code class="highlighted">myEl</code> element to the value <code class="highlighted"><span class="token string">'bar'</span></code> and <code class="highlighted"><span class="token string">'value'</span></code> attribute of all the descendant inputs to the value <code class="highlighted"><span class="token string">'my value'</span></code>. This is a convenient way of setting attributes on elements (including themselves) and their descendants. Note that <code class="highlighted"><span class="token string">'class'</span></code> attribute is treated as a special case and its value does not override the previous value of the <code class="highlighted"><span class="token string">'class'</span></code> attribute. Instead, it adds this new class to the list of classes for the element referenced in the selector.</p>

        </div>
    </div>
    <div id="util.setByPath" class="docs-item">
        <a href="#util.setByPath" class="docs-item-anchor">
            <h3 class="docs-item-header">util.setByPath</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">setByPath</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> path<span class="token punctuation">,</span> value<span class="token punctuation">,</span> delim<span class="token punctuation">)</span></code></pre><p>Set a <code class="highlighted">value</code> at the <code class="highlighted">path</code> in a nested <code class="highlighted">object</code>. <code class="highlighted">delim</code> is the 
        delimiter used in the <code class="highlighted">path</code>. Returns the augmented <code class="highlighted">object</code>.</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">setByPath</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'b/bb/bbb'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*
{
 "a": 1,
 "b": {
  "bb": {
   "bbb": 2
  }
 }
}
*/</span></code></pre>

        </div>
    </div>
    <div id="util.shapePerimeterConnectionPoint" class="docs-item">
        <a href="#util.shapePerimeterConnectionPoint" class="docs-item-anchor">
            <h3 class="docs-item-header">util.shapePerimeterConnectionPoint</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">shapePerimeterConnectionPoint</span><span class="token punctuation">(</span>linkView<span class="token punctuation">,</span> view<span class="token punctuation">,</span> magnet<span class="token punctuation">,</span> ref<span class="token punctuation">)</span></code></pre>

<p>(<i>Deprecated</i>) This function can be directly used in the <a href="#dia.Paper.prototype.options">dia.Paper</a> <code class="highlighted">linkConnectionPoint</code> parameter. When used, links will try to find the best connection point right on the perimeter of the connected shape rather than only on the bounding box. See the image below.</p>

<p><img width="200" src="images/joint.util.shapePerimeterConnectionPoint.png" alt=""></p>

<pre><code class="highlighted"><span class="token keyword">var</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Paper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token comment">// ...</span>
   linkConnectionPoint<span class="token punctuation">:</span> joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>shapePerimeterConnectionPoint
   <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>


        </div>
    </div>
    <div id="util.sortBy" class="docs-item">
        <a href="#util.sortBy" class="docs-item-anchor">
            <h3 class="docs-item-header">util.sortBy</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">sortBy</span><span class="token punctuation">(</span>collection <span class="token punctuation">[</span><span class="token punctuation">,</span> iterateesArray<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>sortBy</code></b>. See the <a href="https://lodash.com/docs/4.17.10#sortBy">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.sortedIndex" class="docs-item">
        <a href="#util.sortedIndex" class="docs-item-anchor">
            <h3 class="docs-item-header">util.sortedIndex</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">sortedIndex</span><span class="token punctuation">(</span>sortedArray<span class="token punctuation">,</span> valueToInsert <span class="token punctuation">[</span><span class="token punctuation">,</span> iteratee<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>sortedIndexBy</code></b>. See the <a href="https://lodash.com/docs/4.17.10#sortedIndexBy">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.sortElements" class="docs-item">
        <a href="#util.sortElements" class="docs-item-anchor">
            <h3 class="docs-item-header">util.sortElements</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">sortElements</span><span class="token punctuation">(</span>elements<span class="token punctuation">,</span> comparator<span class="token punctuation">)</span></code></pre><p>Change the order of <code class="highlighted">elements</code> (a collection of HTML elements or a selector or jQuery object) in the DOM
          according to the <code class="highlighted"><span class="token function">comparator</span><span class="token punctuation">(</span>elementA<span class="token punctuation">,</span> elementB<span class="token punctuation">)</span></code> function. The <code class="highlighted">comparator</code> function has
          the exact same meaning as in <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort"><code class="highlighted">Array<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>comparator<span class="token punctuation">)</span></code></a>.
        </p>
        </div>
    </div>
    <div id="util.supplement" class="docs-item">
        <a href="#util.supplement" class="docs-item-anchor">
            <h3 class="docs-item-header">util.supplement</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">supplement</span><span class="token punctuation">(</span>destinationObject <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token operator">...</span>sourceObjects<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>(<i>Deprecated</i>) An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>defaults</code></b>. See the <a href="https://lodash.com/docs/4.17.10#defaults">Lodash documentation entry</a> for more information.</p>

<p>Use the <code class="highlighted">util<span class="token punctuation">.</span>defaults</code> <a href="#util.defaults">function</a> instead.</p>

        </div>
    </div>
    <div id="util.template" class="docs-item">
        <a href="#util.template" class="docs-item-anchor">
            <h3 class="docs-item-header">util.template</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">template</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span></code></pre>
<p>Return a template function that returns pre-compiled <code class="highlighted">html</code> when called.</p>

        </div>
    </div>
    <div id="util.toArray" class="docs-item">
        <a href="#util.toArray" class="docs-item-anchor">
            <h3 class="docs-item-header">util.toArray</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>toArray</code></b>. See the <a href="https://lodash.com/docs/4.17.10#toArray">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.toggleFullScreen" class="docs-item">
        <a href="#util.toggleFullScreen" class="docs-item-anchor">
            <h3 class="docs-item-header">util.toggleFullScreen</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">toggleFullScreen</span><span class="token punctuation">(</span><span class="token punctuation">[</span>element<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>

<p>Make (or cancel) an <code class="highlighted">element</code> to be displayed full-screen. The default element is <code class="highlighted">window<span class="token punctuation">.</span>top<span class="token punctuation">.</span>document<span class="token punctuation">.</span>body</code>.</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">toggleFullScreen</span><span class="token punctuation">(</span>paper<span class="token punctuation">.</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

        </div>
    </div>
    <div id="util.toKebabCase" class="docs-item">
        <a href="#util.toKebabCase" class="docs-item-anchor">
            <h3 class="docs-item-header">util.toKebabCase</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">toKebabCase</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span></code></pre>
<p>Convert the string to kebab-case. Example:</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">toKebabCase</span><span class="token punctuation">(</span><span class="token string">'strokeWidth'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 'stroke-width'</span></code></pre>

        </div>
    </div>
    <div id="util.union" class="docs-item">
        <a href="#util.union" class="docs-item-anchor">
            <h3 class="docs-item-header">util.union</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">union</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>arrays<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>union</code></b>. See the <a href="https://lodash.com/docs/4.17.10#union">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.uniq" class="docs-item">
        <a href="#util.uniq" class="docs-item-anchor">
            <h3 class="docs-item-header">util.uniq</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">uniq</span><span class="token punctuation">(</span>array <span class="token punctuation">[</span><span class="token punctuation">,</span> iteratee<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>uniqBy</code></b>. See the <a href="https://lodash.com/docs/4.17.10#uniqBy">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.uniqueId" class="docs-item">
        <a href="#util.uniqueId" class="docs-item-anchor">
            <h3 class="docs-item-header">util.uniqueId</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">uniqueId</span><span class="token punctuation">(</span><span class="token punctuation">[</span>prefix<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>uniqueId</code></b>. See the <a href="https://lodash.com/docs/4.17.10#uniqueId">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.unsetByPath" class="docs-item">
        <a href="#util.unsetByPath" class="docs-item-anchor">
            <h3 class="docs-item-header">util.unsetByPath</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">unsetByPath</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> path<span class="token punctuation">,</span> delim<span class="token punctuation">)</span></code></pre>

<p>Unset (delete) a property at the <code class="highlighted">path</code> in a nested <code class="highlighted">object</code>. <code class="highlighted">delim</code> is the 
        delimiter used in the <code class="highlighted">path</code>. Returns the augmented <code class="highlighted">object</code>.</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">unsetByPath</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token punctuation">{</span> aa<span class="token punctuation">:</span> <span class="token punctuation">{</span> aaa<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'a/aa/aaa'</span><span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { a: { aa: {} } }</span></code></pre>

        </div>
    </div>
    <div id="util.uuid" class="docs-item">
        <a href="#util.uuid" class="docs-item-anchor">
            <h3 class="docs-item-header">util.uuid</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">uuid</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Return a pseudo-<a href="http://en.wikipedia.org/wiki/Universally_unique_identifier">UUID</a>.</p>
        </div>
    </div>
    <div id="util.without" class="docs-item">
        <a href="#util.without" class="docs-item-anchor">
            <h3 class="docs-item-header">util.without</h3>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span><span class="token function">without</span><span class="token punctuation">(</span>array <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token operator">...</span>values<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>An alias for <b><code class="highlighted">_<span class="token punctuation">.</span>without</code></b>. See the <a href="https://lodash.com/docs/4.17.10#without">Lodash documentation entry</a> for more information.</p>

        </div>
    </div>
    <div id="util.format" class="docs-item">
    <div id="util.format.number" class="docs-item">
        <a href="#util.format.number" class="docs-item-anchor">
            <h4 class="docs-item-header">util.format.number</h4>
        </a>
        <div class="docs-item-content">
<pre class="docs-method-signature"><code class="highlighted">util<span class="token punctuation">.</span>format<span class="token punctuation">.</span><span class="token function">number</span><span class="token punctuation">(</span>specifier<span class="token punctuation">,</span> value<span class="token punctuation">)</span></code></pre>

<p>Format number <code class="highlighted">value</code> according to the <code class="highlighted">specifier</code> defined via the <a href="http://docs.python.org/release/3.1.3/library/string.html#format-specification-mini-language">Python Format Specification Mini-language</a>.</p>

<pre><code class="highlighted">joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>format<span class="token punctuation">.</span><span class="token function">number</span><span class="token punctuation">(</span><span class="token string">'.2f'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>    <span class="token comment">// 5.00</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>format<span class="token punctuation">.</span><span class="token function">number</span><span class="token punctuation">(</span><span class="token string">'03d'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>    <span class="token comment">// 005</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>format<span class="token punctuation">.</span><span class="token function">number</span><span class="token punctuation">(</span><span class="token string">'.1%'</span><span class="token punctuation">,</span> <span class="token number">.205</span><span class="token punctuation">)</span>    <span class="token comment">// 20.5%</span>
joint<span class="token punctuation">.</span>util<span class="token punctuation">.</span>format<span class="token punctuation">.</span><span class="token function">number</span><span class="token punctuation">(</span><span class="token string">'*^9'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>    <span class="token comment">// ****5****</span></code></pre>

        </div>
    </div>
    </div>
    </div>
            </div>
        </section>
    </div>

    <script src="js/api.js"></script>

</body>
</html>